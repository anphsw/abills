/users:
  post:
    tags:
      - users
    summary: Добавить нового пользователя
    operationId: addUser
    description: >
      Также можно добавлять все информационные поля
      Пример: если в БД `_TEST_FIELD` то можно добавить как `_testField`
    requestBody:
      description: Параметры, которые нужно указать
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/User"
              - $ref: "#/components/schemas/UserPi"
      required: true
    responses:
      200:
        description: успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserCreated"
    security:
      - KEY: []
/users/all:
  get:
    tags:
      - users
    summary: Получить всех пользователей
    parameters:
      - name: uid
        in: query
        description: ID пользователя
        schema:
          type: boolean
          default: true
      - name: fio
        in: query
        description: ФИО пользователя
        schema:
          type: boolean
          default: false
      - name: deposit
        in: query
        description: Баланс пользователя
        schema:
          type: boolean
          default: false
      - name: extDeposit
        in: query
        description: Дополнительный баланc
        schema:
          type: boolean
          default: false
      - name: extBillId
        in: query
        description: ID дополнительного счета
        schema:
          type: boolean
          default: false
      - name: tags
        in: query
        description: Метки пользователя
        schema:
          type: boolean
          default: false
      - name: credit
        in: query
        description: Кредит
        schema:
          type: boolean
          default: false
      - name: creditDate
        in: query
        description: Дата установки кредита
        schema:
          type: boolean
          default: false
      - name: loginStatus
        in: query
        description: Статус пользователя
        schema:
          type: boolean
          default: false
      - name: login
        in: query
        description: Логин
        schema:
          type: boolean
          default: true
      - name: phone
        in: query
        description: Номер телефона
        schema:
          type: boolean
          default: false
      - name: cellPhone
        in: query
        description: Номер мобильного телефона
        schema:
          type: boolean
          default: false
      - name: telegram
        in: query
        description: Telegram ID
        schema:
          type: boolean
          default: false
      - name: viber
        in: query
        description: Viber ID
        schema:
          type: boolean
          default: false
      - name: email
        in: query
        description: E-mail
        schema:
          type: boolean
          default: false
      - name: floor
        in: query
        description: Этаж
        schema:
          type: boolean
          default: false
      - name: entrance
        in: query
        description: Подъезд
        schema:
          type: boolean
          default: false
      - name: addressFlat
        in: query
        description: Номер квартиры
        schema:
          type: boolean
          default: false
      - name: pasportDate
        in: query
        description: Дата выдачи паспорта
        schema:
          type: boolean
          default: false
      - name: pasportNum
        in: query
        description: Номер паспорта
        schema:
          type: boolean
          default: false
      - name: pasportGrant
        in: query
        description: Орган выдачи паспорта
        schema:
          type: boolean
          default: false
      - name: city
        in: query
        description: Город проживания
        schema:
          type: boolean
          default: false
      - name: zip
        in: query
        description: Индекс города
        schema:
          type: boolean
          default: false
      - name: gid
        in: query
        description: ID группы
        schema:
          type: boolean
          default: false
      - name: companyId
        in: query
        description: ID компании
        schema:
          type: boolean
          default: false
      - name: companyName
        in: query
        description: Наименование компании
        schema:
          type: boolean
          default: false
      - name: contractId
        in: query
        description: ID контракта
        schema:
          type: boolean
          default: false
      - name: contractSufix
        in: query
        description: Суффикс контракта
        schema:
          type: boolean
          default: false
      - name: contractDate
        in: query
        description: Дата подписания контракта
        schema:
          type: boolean
          default: false
      - name: expire
        in: query
        description: Дата окончания аккаунта
        schema:
          type: boolean
          default: false
      - name: reduction
        in: query
        description: Скидка
        schema:
          type: boolean
          default: false
      - name: lastPayment
        in: query
        description: Дата последней оплаты
        schema:
          type: boolean
          default: false
      - name: lastFees
        in: query
        description: Дата последнего списания
        schema:
          type: boolean
          default: false
      - name: registration
        in: query
        description: Дата регистрации
        schema:
          type: boolean
          default: false
      - name: reductionDate
        in: query
        description: Дата установки скидки
        schema:
          type: boolean
          default: false
      - name: comments
        in: query
        description: Комментарий
        schema:
          type: boolean
          default: false
      - name: billId
        in: query
        description: Уникальный идентификатор счета пользователя
        schema:
          type: boolean
          default: false
      - name: activate
        in: query
        description: Дата активации пользователя
        schema:
          type: boolean
          default: false
      - name: acceptRules
        in: query
        description: 1 - пользователь принял условия соглашения в кабинете пользователя, 2 - не принял
        schema:
          type: boolean
          default: false
      - name: password
        in: query
        description: Пароль пользователя
        schema:
          type: boolean
          default: false
      - name: birthDate
        in: query
        description: Дата рождения
        schema:
          type: boolean
          default: false
      - name: pageRows
        in: query
        description: Количество записей
        schema:
          type: integer
          default: 25
      - name: sort
        in: query
        description: Сортировка по одному параметру выше
        schema:
          type: string
    responses:
      200:
        description: успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserList"
    security:
      - KEY: []
/users/{UID}:
  get:
    tags:
      - users
    summary: Получить пользователя по UID
    description: Возвращает пользователя
    operationId: getUserByUID
    parameters:
      - name: UID
        in: path
        description: UID пользователя в биллинге
        required: true
        schema:
          type: integer
          format: int64
      - name: showPassword
        in: query
        description: Параметр который возвращает пароль пользователя
        schema:
          type: boolean
          default: false
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/User"
      400:
        description: Пользователь не найден
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiResponse"
    security:
      - KEY: []
  put:
    tags:
      - users
    summary: Обновить информацию о пользователе
    operationId: updateUser
    description: >
      Также можно добавлять все информационные поля
      Пример: если в БД `_TEST_FIELD` то можно добавить как `_testField`
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
          format: int64
    requestBody:
      content:
        application/json:
          schema:
            allOf:
              - $ref: "#/components/schemas/User"
              - $ref: "#/components/schemas/UserPi"
      required: true
    responses:
      400:
        description: Invalid ID supplied
        content: {}
    security:
      - KEY: []
  delete:
    tags:
      - users
    summary: Удалить пользователя
    description: Удаление пользователя по UID, полностью через API пользователя невозможно
    operationId: deleteUser
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
          format: int64
      - name: date
        in: query
        description: Дата удаления
        schema:
          type: string
          example: '2023-01-01'
      - name: comments
        in: query
        description: Комментарии к удалению
        schema:
          type: string
          example: Больше не наш абонент
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              type: object
              properties:
                result:
                  type: string
                  example: Successfully deleted user with uid 103394
                uid:
                  type: number
                  example: 103394
      400:
        description: Пользователь не найден
        content:
          application/json:
            schema:
              type: object
              properties:
                errno:
                  type: integer
                  example: 15
                errstr:
                  type: string
                  example: User not found with uid 103399
    security:
      - KEY: []
/users/{UID}/pi:
  get:
    tags:
      - users
    summary: Получить персональную информацию о пользователе
    description: Возвращает персональную информацию пользователя
    operationId: getUserPiByUID
    parameters:
      - name: UID
        in: path
        description: UID пользователя в биллинге
        required: true
        schema:
          type: integer
          format: int64
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserPi"
      400:
        description: Пользователь не найден
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiResponse"
    security:
      - KEY: []
  put:
    tags:
      - users
    summary: Изменение персональной информации пользователю ИСПОЛЬЗОВАТЬ /users/{UID}/
    deprecated: true
    operationId: changeUserPi
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
          format: int64
    requestBody:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UserPi"
      required: true
    responses:
      400:
        description: Пользователь не найден
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiResponse"
    security:
      - KEY: []
  post:
    tags:
      - users
    summary: Добавление персональной информации пользователю ИСПОЛЬЗОВАТЬ /users/
    deprecated: true
    operationId: addUserPi
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
          format: int64
    requestBody:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UserPi"
      required: true
    responses:
      400:
        description: Пользователь не найден
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiResponse"
    security:
      - KEY: []
/users/{UID}/contacts:
  get:
    tags:
      - users
    summary: Получить контакты пользователя по UID
    description: Возвращает контакты пользователя
    operationId: getUserContactsByUID
    parameters:
      - name: UID
        in: path
        description: UID пользователя в биллинге
        required: true
        schema:
          type: integer
          format: int64
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ContactsArray"
      400:
        description: Пользователь не найден
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiResponse"
    security:
      - KEY: []
  post:
    tags:
      - users
    summary: Добавление контакта пользователю
    operationId: updateUserContact
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
          format: int64
    requestBody:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UserContactAdd"
      required: true
    responses:
      400:
        description: Пользователь не найден
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiResponse"
    security:
      - KEY: []
/users/{UID}/contacts/{ID}:
  put:
    tags:
      - users
    summary: Обновить контакт пользователю
    operationId: updateUserConctact
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
          format: int64
      - name: ID
        in: path
        description: ID контакта
        required: true
        schema:
          type: integer
          format: int64
    responses:
      400:
        description: Пользователь не найден
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiResponse"
    security:
      - KEY: []
  delete:
    tags:
      - users
    summary: Удалить контакт пользователя
    operationId: deleteUserContact
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
          format: int64
      - name: ID
        in: path
        description: ID контакта
        required: true
        schema:
          type: integer
          format: int64
    responses:
      400:
        description: Пользователь не найден
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiResponse"
    security:
      - KEY: []
/users/contacts:
  post:
    tags:
      - users
    summary: Получить контакты
    description: Возвращает контакты пользователей
    operationId: getContacts
    requestBody:
      description: Параметры для фильтрации контактов
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Contacts"
      required: true
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ContactsArray"
    security:
      - KEY: []
/users/contracts:
  get:
    tags:
      - users
    summary: Получить все договора
    parameters:
      - name: id
        in: query
        description: ID договора
        schema:
          type: boolean
          default: true
      - name: uid
        in: query
        description: ID пользователя
        schema:
          type: boolean
          default: true
      - name: companyId
        in: query
        description: ID компании
        schema:
          type: boolean
          default: true
      - name: aid
        in: query
        description: Админ создавший договор
        schema:
          type: boolean
          default: true
      - name: date
        in: query
        description: Дата создания договора
        schema:
          type: boolean
          default: true
      - name: endDate
        in: query
        description: Дата окончания договора
        schema:
          type: boolean
          default: true
      - name: regDate
        in: query
        description: Дата утверждение договора
        schema:
          type: boolean
          default: true
      - name: number
        in: query
        description: Номер договора
        schema:
          type: boolean
          default: true
      - name: typeName
        in: query
        description: Название типа договора
        schema:
          type: boolean
          default: true
      - name: type
        in: query
        description: ID типа договора
        schema:
          type: boolean
          default: true
      - name: template
        in: query
        description: Шаблон договора
        schema:
          type: boolean
          default: true
      - name: name
        in: query
        description: Название договора
        schema:
          type: boolean
          default: true
      - name: signature
        in: query
        description: Подпись документа
        schema:
          type: boolean
          default: false
      - name: pageRows
        in: query
        description: Количество записей
        schema:
          type: integer
          default: 25
      - name: sort
        in: query
        description: Сортировка по одному параметру выше
        schema:
          type: string
    responses:
      200:
        description: успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UsersContracts"
    security:
      - KEY: []
  post:
    tags:
      - users
    summary: Добавить договор
    requestBody:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UsersContractsAddRequest"
      required: true
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UsersContractsAddResponse200"
      400:
        description: Нет поля uid
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UsersContractsAddResponse400"
    security:
      - KEY: [ ]
/users/contracts/{ID}:
  get:
    tags:
      - users
    summary: Получить файл договора
    parameters:
      - name: ID
        in: path
        required: true
        description: ID договора
        schema:
          type: integer
    responses:
      200:
        description: Успешное выполнение
        content:
          application/pdf: {}
  put:
    tags:
      - users
    summary: Изменить договор
    parameters:
      - name: ID
        in: path
        required: true
        description: ID договора
        schema:
          type: integer
    requestBody:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UsersContractsAddRequest"
      required: true
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UsersContractsAddResponse200"
    security:
      - KEY: [ ]
  delete:
    tags:
      - users
    summary: Удалить договор
    parameters:
      - name: ID
        in: path
        required: true
        description: ID договора
        schema:
          type: integer
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              type: object
              properties:
                result:
                  type: string
                  example: Successfully deleted
                id:
                  type: number
                  example: 16
      400:
        description: Не существует
        content:
          application/json:
            schema:
              type: object
              properties:
                errMessage:
                  type: string
                  example: "No exists"
                errno:
                  type: integer
                  example: 10225
                errstr:
                  type: string
                  example: "ERROR_NOT_EXIST"
    security:
      - KEY: []
/users/contracts/types:
  get:
    tags:
      - users
    summary: Получить все типы договоров
    parameters:
      - name: id
        in: query
        description: ID типа договора
        schema:
          type: boolean
          default: true
      - name: template
        in: query
        description: Шаблон договора
        schema:
          type: boolean
          default: true
      - name: name
        in: query
        description: Название договора
        schema:
          type: boolean
          default: true
      - name: pageRows
        in: query
        description: Количество записей
        schema:
          type: integer
          default: 25
      - name: sort
        in: query
        description: Сортировка по одному параметру выше
        schema:
          type: string
    responses:
      200:
        description: успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UsersContractsTypes"
    security:
      - KEY: []