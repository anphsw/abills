/payments:
  get:
    tags:
      - payments
    summary: Получить список оплат
    operationId: getPayments
    parameters:
      - name: datetime
        in: query
        description: Дата проведения платежа.
        schema:
          type: boolean
          default: false
      - name: regDate
        in: query
        description: Дата регистрации платежа.
        schema:
          type: boolean
          default: true
      - name: id
        in: query
        description: ID платежа.
        schema:
          type: boolean
          default: true
      - name: innerDescribe
        in: query
        description: Внутреннее описание платежа.
        schema:
          type: boolean
          default: true
      - name: dsc
        in: query
        description: Описание платежа.
        schema:
          type: boolean
          default: false
      - name: method
        in: query
        description: Метод платежа.
        schema:
          type: boolean
          default: true
      - name: fio
        in: query
        description: ФИО пользователя.
        schema:
          type: boolean
          default: false
      - name: login
        in: query
        description: Логин пользователя.
        schema:
          type: boolean
          default: false
      - name: uid
        in: query
        description: UID пользователя.
        schema:
          type: boolean
          default: true
      - name: billId
        in: query
        description: Счёт пользователя.
        schema:
          type: boolean
          default: false
      - name: sum
        in: query
        description: Сумма платежа.
        schema:
          type: boolean
          default: true
      - name: amount
        in: query
        description: Начисленная сумма на баланс.
        schema:
          type: boolean
          default: false
      - name: currency
        in: query
        description: ID валюты платежа.
        schema:
          type: boolean
          default: false
      - name: extId
        in: query
        description: Внешнее ID платежа, в большинстве случаев вносится платежной системой.
        schema:
          type: boolean
          default: false
      - name: ip
        in: query
        description: IP с которого поступил платеж.
        schema:
          type: boolean
          default: false
      - name: lastDeposit
        in: query
        description: Баланс перед проведением платежа.
        schema:
          type: boolean
          default: false
      - name: afterDeposit
        in: query
        description: Баланс после проведения платежа.
        schema:
          type: boolean
          default: false
      - name: invoiceNum
        in: query
        description: Номер инвойса платежа.
        schema:
          type: boolean
          default: false
      - name: invoiceDate
        in: query
        description: Дата инвойса платежа.
        schema:
          type: boolean
          default: false
      - name: aid
        in: query
        description: ID администратора, который провел платеж.
        schema:
          type: boolean
          default: false
      - name: adminName
        in: query
        description: Имя администратора, который провел платеж.
        schema:
          type: boolean
          default: false
      - name: aLogin
        in: query
        description: Логин администратора, который провел платеж.
        schema:
          type: boolean
          default: false
      - name: fromDate
        in: query
        description: Платежи произведены с даты
        schema:
          type: boolean
          default: false
      - name: toDate
        in: query
        description: Платежи произведены до даты
        schema:
          type: boolean
          default: false
      - name: pageRows
        in: query
        description: Количество записей
        schema:
          type: integer
          default: 25
      - name: pg
        in: query
        description: Работает вместе с pageRows, параметр отвечает с какой записи начинать возвращать в запросе
        schema:
          type: integer
          default: 0
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserPaymentsArray"
    security:
      - KEY: []
/payments/types:
  get:
    tags:
      - payments
    summary: Получить список типов оплат
    description: Возвращает список типов оплат
    operationId: getPaymentTypesList
    parameters:
      - name: color
        in: query
        description: Цвет отображения в форме оплаты
        schema:
          type: boolean
          default: true
      - name: defaultPayment
        in: query
        description: Оплата по умолчанию
        schema:
          type: boolean
          default: true
      - name: feesType
        in: query
        description: Тип списания
        schema:
          type: boolean
          default: true
      - name: id
        in: query
        description: ID вида оплаты
        schema:
          type: boolean
          default: true
      - name: name
        in: query
        description: Название типа оплаты
        schema:
          type: boolean
          default: true
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentTypesArray"
    security:
      - KEY: []
/payments/users/{UID}:
  get:
    tags:
      - payments
    summary: Получить список оплат пользователя
    description: Возвращает список оплат пользователя
    operationId: getUserPayments
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: boolean
          default: true
      - name: datetime
        in: query
        description: Дата проведения платежа.
        schema:
          type: boolean
          default: false
      - name: regDate
        in: query
        description: Дата регистрации платежа.
        schema:
          type: boolean
          default: true
      - name: id
        in: query
        description: ID платежа.
        schema:
          type: boolean
          default: true
      - name: innerDescribe
        in: query
        description: Внутреннее описание платежа.
        schema:
          type: boolean
          default: true
      - name: dsc
        in: query
        description: Описание платежа.
        schema:
          type: boolean
          default: false
      - name: method
        in: query
        description: Метод платежа.
        schema:
          type: boolean
          default: true
      - name: fio
        in: query
        description: ФИО пользователя.
        schema:
          type: boolean
          default: false
      - name: login
        in: query
        description: Логин пользователя.
        schema:
          type: boolean
          default: false
      - name: billId
        in: query
        description: Счёт пользователя.
        schema:
          type: boolean
          default: false
      - name: sum
        in: query
        description: Сумма платежа.
        schema:
          type: boolean
          default: true
      - name: amount
        in: query
        description: Начисленная сумма на баланс.
        schema:
          type: boolean
          default: false
      - name: currency
        in: query
        description: ID валюты платежа.
        schema:
          type: boolean
          default: false
      - name: extId
        in: query
        description: Внешнее ID платежа, в большинстве случаев вносится платежной системой.
        schema:
          type: boolean
          default: false
      - name: ip
        in: query
        description: IP с которого поступил платеж.
        schema:
          type: boolean
          default: false
      - name: lastDeposit
        in: query
        description: Баланс перед проведением платежа.
        schema:
          type: boolean
          default: false
      - name: afterDeposit
        in: query
        description: Баланс после проведения платежа.
        schema:
          type: boolean
          default: false
      - name: invoiceNum
        in: query
        description: Номер инвойса платежа.
        schema:
          type: boolean
          default: false
      - name: invoiceDate
        in: query
        description: Дата инвойса платежа.
        schema:
          type: boolean
          default: false
      - name: aid
        in: query
        description: ID администратора, который провел платеж.
        schema:
          type: boolean
          default: false
      - name: adminName
        in: query
        description: Имя администратора, который провел платеж.
        schema:
          type: boolean
          default: false
      - name: aLogin
        in: query
        description: Логин администратора, который провел платеж.
        schema:
          type: boolean
          default: false
      - name: fromDate
        in: query
        description: Платежи произведены с даты
        schema:
          type: boolean
          default: false
      - name: toDate
        in: query
        description: Платежи произведены до даты
        schema:
          type: boolean
          default: false
      - name: pageRows
        in: query
        description: Количество записей
        schema:
          type: integer
          default: 25
      - name: pg
        in: query
        description: Работает вместе с pageRows, параметр отвечает с какой записи начинать возвращать в запросе
        schema:
          type: integer
          default: 0
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserPaymentsArray"
    security:
      - KEY: []
  post:
    tags:
      - payments
    summary: Добавление оплаты пользователю
    operationId: addUserPayment
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
          format: int64
    requestBody:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UserPaymentAdd"
      required: true
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              type: object
              properties:
                insertId:
                  type: number
                  example: 2001
                paymentId:
                  type: number
                  example: 2001
                uid:
                  type: number
                  example: 11
      400:
        description: Нет пользователя
        content:
          application/json:
            schema:
              type: object
              properties:
                errno:
                  type: integer
                  example: 10122
                errstr:
                  type: string
                  example: "User not found with uid - 11 and billId - 10"
    security:
      - KEY: []
/payments/users/{UID}/{ID}:
  delete:
    tags:
      - payments
    summary: Удалить платеж
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
      - name: ID
        in: path
        description: ID платежа
        required: true
        schema:
          type: integer
      - name: comments
        in: query
        description: Комментарии при удалении платежа
        schema:
          type: string
          default: Deleted from API request
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              type: object
              properties:
                result:
                  type: string
                  example: Successfully deleted payment for user 11 and payment id 122
                uid:
                  type: string
                  example: 11
                paymentId:
                  type: number
                  example: 122
      400:
        description: Нет платежа с таким id
        content:
          application/json:
            schema:
              type: object
              properties:
                errno:
                  type: integer
                  example: 10122
                errstr:
                  type: string
                  example: "Payment with id 121 and uid 11 does not exist"
    security:
      - KEY: []