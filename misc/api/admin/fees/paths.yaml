/fees:
  get:
    tags:
      - fees
    summary: Получить список списаний
    description: Возвращает список списаний
    operationId: getFees
    parameters:
      - name: datetime
        in: query
        description: Дата проведения списания.
        schema:
          type: boolean
          default: false
      - name: regDate
        in: query
        description: Дата регистрации списания.
        schema:
          type: boolean
          default: true
      - name: id
        in: query
        description: ID списания.
        schema:
          type: boolean
          default: true
      - name: innerDescribe
        in: query
        description: Внутреннее описание списания.
        schema:
          type: boolean
          default: true
      - name: dsc
        in: query
        description: Описание списания.
        schema:
          type: boolean
          default: true
      - name: method
        in: query
        description: Метод списания.
        schema:
          type: boolean
          default: true
      - name: login
        in: query
        description: Логин списания.
        schema:
          type: boolean
          default: false
      - name: uid
        in: query
        description: UID пользователя.
        schema:
          type: boolean
          default: true
      - name: fio
        in: query
        description: ФИО пользователя.
        schema:
          type: boolean
          default: false
      - name: companyId
        in: query
        description: ID компании пользователя.
        schema:
          type: boolean
          default: false
      - name: billId
        in: query
        description: Счёт пользователя.
        schema:
          type: boolean
          default: false
      - name: sum
        in: query
        description: Сумма списания.
        schema:
          type: boolean
          default: true
      - name: ip
        in: query
        description: IP с которого поступило списание.
        schema:
          type: boolean
          default: false
      - name: lastDeposit
        in: query
        description: Баланс перед проведением списания.
        schema:
          type: boolean
          default: false
      - name: invoiceId
        in: query
        description: ID инвойса списания.
        schema:
          type: boolean
          default: false
      - name: invoiceNum
        in: query
        description: Номер инвойса списания.
        schema:
          type: boolean
          default: false
      - name: aid
        in: query
        description: ID администратора, который провел списание.
        schema:
          type: boolean
          default: false
      - name: adminName
        in: query
        description: Имя администратора, который провел списание.
        schema:
          type: boolean
          default: false
      - name: aLogin
        in: query
        description: Логин администратора, который провел списание.
        schema:
          type: boolean
          default: false
      - name: tax
        in: query
        description: Налог, указанный в методе списания.
        schema:
          type: boolean
          default: false
      - name: taxSum
        in: query
        description: Размер налога.
        schema:
          type: boolean
          default: false
      - name: fromDate
        in: query
        description: Списания произведены с даты
        schema:
          type: boolean
          default: false
      - name: toDate
        in: query
        description: Списания произведены до даты
        schema:
          type: boolean
          default: false
      - name: pageRows
        in: query
        description: Количество записей
        schema:
          type: integer
          default: 25
      - name: pg
        in: query
        description: Работает вместе с pageRows, параметр отвечает с какой записи начинать возвращать в запросе
        schema:
          type: integer
          default: 0
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserFeesArray"
    security:
      - KEY: []
/fees/types:
  get:
    tags:
      - fees
    summary: Получить список типов списания
    parameters:
      - name: id
        in: query
        description: ID типа списания.
        schema:
          type: boolean
          default: true
      - name: name
        in: query
        description: Название типа списания.
        schema:
          type: boolean
          default: true
      - name: sum
        in: query
        description: Сумма списания.
        schema:
          type: boolean
          default: true
      - name: defaultDescribe
        in: query
        description: Описание отображаемое клиентам.
        schema:
          type: boolean
          default: true
      - name: tax
        in: query
        description: Налог.
        schema:
          type: boolean
          default: false
    description: Возвращает список типов списания
    operationId: getFeesTypesList
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FeesTypesArray"
    security:
      - KEY: []
/fees/schedules:
  get:
    tags:
      - fees
    summary: Получить список запланированных списаний
    parameters:
      - name: id
        in: query
        description: ID запланированного списания.
        schema:
          type: boolean
          default: true
      - name: uid
        in: query
        description: UID пользователя.
        schema:
          type: boolean
          default: true
      - name: login
        in: query
        description: Логин пользователя.
        schema:
          type: boolean
          default: true
      - name: aid
        in: query
        description: ID администратора.
        schema:
          type: boolean
          default: true
      - name: adminName
        in: query
        description: Имя администратора.
        schema:
          type: boolean
          default: true
      - name: action
        in: query
        description: "Параметры действия, которое состоится. Формат: 'Сумма:Описание:Денежный счет:Метод списания'"
        schema:
          type: boolean
          default: true
      - name: h
        in: query
        description: Время когда сделается запланированное списание
        schema:
          type: boolean
          default: true
      - name: d
        in: query
        description: День когда сделается запланированное списание
        schema:
          type: boolean
          default: true
      - name: m
        in: query
        description: Месяц когда сделается запланированное списание
        schema:
          type: boolean
          default: true
      - name: y
        in: query
        description: Год когда сделается запланированное списание
        schema:
          type: boolean
          default: true
      - name: date
        in: query
        description: Дата когда сделается запланированное списание
        schema:
          type: boolean
          default: true
      - name: comments
        in: query
        description: Комментарии
        schema:
          type: boolean
          default: true
      - name: module
        in: query
        description: Модуль
        schema:
          type: boolean
          default: true
      - name: type
        in: query
        description: Тип события
        schema:
          type: boolean
          default: true
      - name: count
        in: query
        description: Количество раз
        schema:
          type: boolean
          default: true
      - name: pageRows
        in: query
        description: Количество записей
        schema:
          type: integer
          default: 25
      - name: pg
        in: query
        description: Работает вместе с pageRows, параметр отвечает с какой записи начинать возвращать в запросе
        schema:
          type: integer
          default: 0
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/FeesSchedule"
    security:
      - KEY: []
/fees/users/{UID}:
  get:
    tags:
      - fees
    summary: Получить список списаний пользователя
    description: Возвращает список списаний пользователя
    operationId: getUserFees
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: boolean
          default: true
      - name: datetime
        in: query
        description: Дата проведения списания.
        schema:
          type: boolean
          default: false
      - name: regDate
        in: query
        description: Дата регистрации списания.
        schema:
          type: boolean
          default: true
      - name: id
        in: query
        description: ID списания.
        schema:
          type: boolean
          default: true
      - name: innerDescribe
        in: query
        description: Внутреннее описание списания.
        schema:
          type: boolean
          default: true
      - name: dsc
        in: query
        description: Описание списания.
        schema:
          type: boolean
          default: true
      - name: method
        in: query
        description: Метод списания.
        schema:
          type: boolean
          default: true
      - name: login
        in: query
        description: Логин списания.
        schema:
          type: boolean
          default: false
      - name: fio
        in: query
        description: ФИО пользователя.
        schema:
          type: boolean
          default: false
      - name: companyId
        in: query
        description: ID компании пользователя.
        schema:
          type: boolean
          default: false
      - name: billId
        in: query
        description: Счёт пользователя.
        schema:
          type: boolean
          default: false
      - name: sum
        in: query
        description: Сумма списания.
        schema:
          type: boolean
          default: true
      - name: ip
        in: query
        description: IP с которого поступило списание.
        schema:
          type: boolean
          default: false
      - name: lastDeposit
        in: query
        description: Баланс перед проведением списания.
        schema:
          type: boolean
          default: false
      - name: invoiceId
        in: query
        description: ID инвойса списания.
        schema:
          type: boolean
          default: false
      - name: invoiceNum
        in: query
        description: Номер инвойса списания.
        schema:
          type: boolean
          default: false
      - name: aid
        in: query
        description: ID администратора, который провел списание.
        schema:
          type: boolean
          default: false
      - name: adminName
        in: query
        description: Имя администратора, который провел списание.
        schema:
          type: boolean
          default: false
      - name: aLogin
        in: query
        description: Логин администратора, который провел списание.
        schema:
          type: boolean
          default: false
      - name: tax
        in: query
        description: Налог, указанный в методе списания.
        schema:
          type: boolean
          default: false
      - name: taxSum
        in: query
        description: Размер налога.
        schema:
          type: boolean
          default: false
      - name: fromDate
        in: query
        description: Списания произведены с даты
        schema:
          type: boolean
          default: false
      - name: toDate
        in: query
        description: Списания произведены до даты
        schema:
          type: boolean
          default: false
      - name: pageRows
        in: query
        description: Количество записей
        schema:
          type: integer
          default: 25
      - name: pg
        in: query
        description: Работает вместе с pageRows, параметр отвечает с какой записи начинать возвращать в запросе
        schema:
          type: integer
          default: 0
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserFeesArray"
    security:
      - KEY: []
  post:
    tags:
      - fees
    summary: Добавление списания пользователю
    operationId: addUserFee
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
          format: int64
    requestBody:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UserFeeAdd"
      required: true
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserFeeAddResponse200"
      400:
        description: Не верный параметр сумма
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserFeeAddResponse400"
    security:
      - KEY: []
/fees/users/{UID}/{SUM}:
  post:
    tags:
      - fees
    summary: Добавление списания пользователю
    operationId: addUserFeeOld
    deprecated: true
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
          format: int64
      - name: SUM
        in: path
        description: Сумма списания
        required: true
        schema:
          type: integer
          format: int64
    requestBody:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UserFeeAddOld"
      required: true
    responses:
      400:
        description: Invalid ID supplied
        content: {}
    security:
      - KEY: []
/fees/users/{UID}/{ID}:
  delete:
    tags:
      - fees
    summary: Удалить списание
    parameters:
      - name: UID
        in: path
        description: UID пользователя
        required: true
        schema:
          type: integer
      - name: ID
        in: path
        description: ID списания
        required: true
        schema:
          type: integer
      - name: comments
        in: query
        description: Комментарии при удалении списания
        schema:
          type: string
          default: Deleted from API request
    responses:
      200:
        description: Успешное выполнение
        content:
          application/json:
            schema:
              type: object
              properties:
                result:
                  type: string
                  example: Successfully deleted fee for user 11 and fee id 122
                uid:
                  type: string
                  example: 11
                paymentId:
                  type: number
                  example: 122
      400:
        description: Нет списания с таким id
        content:
          application/json:
            schema:
              type: object
              properties:
                errno:
                  type: integer
                  example: 10129
                errstr:
                  type: string
                  example: "Fee with id 121 and uid 11 does not exist"
    security:
      - KEY: []