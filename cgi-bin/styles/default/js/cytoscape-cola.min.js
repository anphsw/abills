!function t(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("cgi-bin/styles/default/js/cose-base.min")):"function"==typeof define&&define.amd?define(["cgi-bin/styles/default/js/cose-base.min"],e):"object"==typeof exports?exports.cytoscapeCoseBilkent=e(require("cgi-bin/styles/default/js/cose-base.min")):n.cytoscapeCoseBilkent=e(n.coseBase)}(this,function(t){return function(t){var n={};function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function n(){return t.default}:function n(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(n,e){n.exports=t},function(t,n,e){"use strict";var i=e(0).layoutBase.LayoutConstants,o=e(0).layoutBase.FDLayoutConstants,a=e(0).CoSEConstants,s=e(0).CoSELayout,r=e(0).CoSENode,d=e(0).layoutBase.PointD,l=e(0).layoutBase.DimensionD,u={ready:function t(){},stop:function t(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function p(t){this.options=function t(n,e){var i={};for(var o in n)i[o]=n[o];for(var o in e)i[o]=e[o];return i}(u,t),g(this.options)}var g=function t(n){null!=n.nodeRepulsion&&(a.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=n.nodeRepulsion),null!=n.idealEdgeLength&&(a.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=n.idealEdgeLength),null!=n.edgeElasticity&&(a.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=n.edgeElasticity),null!=n.nestingFactor&&(a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=n.nestingFactor),null!=n.gravity&&(a.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=n.gravity),null!=n.numIter&&(a.MAX_ITERATIONS=o.MAX_ITERATIONS=n.numIter),null!=n.gravityRange&&(a.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=n.gravityRange),null!=n.gravityCompound&&(a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=n.gravityCompound),null!=n.gravityRangeCompound&&(a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=n.gravityRangeCompound),null!=n.initialEnergyOnIncremental&&(a.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=n.initialEnergyOnIncremental),"draft"==n.quality?i.QUALITY=0:"proof"==n.quality?i.QUALITY=2:i.QUALITY=1,a.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=n.nodeDimensionsIncludeLabels,a.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=!n.randomize,a.ANIMATE=o.ANIMATE=i.ANIMATE=n.animate,a.TILE=n.tile,a.TILING_PADDING_VERTICAL="function"==typeof n.tilingPaddingVertical?n.tilingPaddingVertical.call():n.tilingPaddingVertical,a.TILING_PADDING_HORIZONTAL="function"==typeof n.tilingPaddingHorizontal?n.tilingPaddingHorizontal.call():n.tilingPaddingHorizontal};p.prototype.run=function(){var t,n,e=this.options;this.idToLNode={};var i=this.layout=new s,o=this;o.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var a=i.newGraphManager();this.gm=a;var r=this.options.eles.nodes(),d=this.options.eles.edges();this.root=a.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(r),i);for(var l=0;l<d.length;l++){var u=d[l],p=this.idToLNode[u.data("source")],g=this.idToLNode[u.data("target")];p!==g&&0==p.getEdgesBetween(g).length&&(a.add(i.newEdge(),p,g).id=u.id())}var c=function t(n,e){"number"==typeof n&&(n=e);var i=n.data("id"),a=o.idToLNode[i];return{x:a.getRect().getCenterX(),y:a.getRect().getCenterY()}},y=function a(){for(var s,r=function n(){e.fit&&e.cy.fit(e.eles,e.padding),t||(t=!0,o.cy.one("layoutready",e.ready),o.cy.trigger({type:"layoutready",layout:o}))},d=o.options.refresh,l=0;l<d&&!s;l++)s=o.stopped||o.layout.tick();if(s){i.checkLayoutSuccess()&&!i.isSubLayout&&i.doPostLayout(),i.tilingPostLayout&&i.tilingPostLayout(),i.isLayoutFinished=!0,o.options.eles.nodes().positions(c),r(),o.cy.one("layoutstop",o.options.stop),o.cy.trigger({type:"layoutstop",layout:o}),n&&cancelAnimationFrame(n),t=!1;return}var u=o.layout.getPositionsData();e.eles.nodes().positions(function(t,n){if("number"==typeof t&&(t=n),!t.isParent()){for(var e=t.id(),i=u[e],o=t;null==i&&(i=u[o.data("parent")]||u["DummyCompound_"+o.data("parent")],u[e]=i,void 0!=(o=o.parent()[0])););return null!=i?{x:i.x,y:i.y}:{x:t.position("x"),y:t.position("y")}}}),r(),n=requestAnimationFrame(a)};return i.addListener("layoutstarted",function(){"during"===o.options.animate&&(n=requestAnimationFrame(y))}),i.runLayout(),"during"!==this.options.animate&&(o.options.eles.nodes().not(":parent").layoutPositions(o,o.options,c),t=!1),this},p.prototype.getTopMostNodes=function(t){for(var n={},e=0;e<t.length;e++)n[t[e].id()]=!0;return t.filter(function(t,e){"number"==typeof t&&(t=e);for(var i=t.parent()[0];null!=i;){if(n[i.id()])return!1;i=i.parent()[0]}return!0})},p.prototype.processChildrenList=function(t,n,e){for(var i=n.length,o=0;o<i;o++){var a,s,u=n[o],p=u.children(),g=u.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((a=null!=u.outerWidth()&&null!=u.outerHeight()?t.add(new r(e.graphManager,new d(u.position("x")-g.w/2,u.position("y")-g.h/2),new l(parseFloat(g.w),parseFloat(g.h)))):t.add(new r(this.graphManager))).id=u.data("id"),a.paddingLeft=parseInt(u.css("padding")),a.paddingTop=parseInt(u.css("padding")),a.paddingRight=parseInt(u.css("padding")),a.paddingBottom=parseInt(u.css("padding")),this.options.nodeDimensionsIncludeLabels&&u.isParent()){var c=u.boundingBox({includeLabels:!0,includeNodes:!1}).w,y=u.boundingBox({includeLabels:!0,includeNodes:!1}).h,E=u.css("text-halign");a.labelWidth=c,a.labelHeight=y,a.labelPos=E}this.idToLNode[u.data("id")]=a,isNaN(a.rect.x)&&(a.rect.x=0),isNaN(a.rect.y)&&(a.rect.y=0),null!=p&&p.length>0&&(s=e.getGraphManager().add(e.newGraph(),a),this.processChildrenList(s,p,e))}},p.prototype.stop=function(){return this.stopped=!0,this};var c=function t(n){n("layout","cose-bilkent",p)};"undefined"!=typeof cytoscape&&c(cytoscape),t.exports=c}])});