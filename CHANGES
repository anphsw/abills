Список запланированных изменений [[abills:todo:todo|Todo List]]

====0.81====
14.05.2019
  * ''Internet''. Реализована опция снятия абонплаты за целый месяц при статусе слишком маленький депозит.
  * ''Internet''. Исправлено отображение тарифного плана у клиентов.
  * ''Internet''. Оптимизированы периодические процессы.
  * ''Iptv''. Оптимизированы периодические процессы.
  * ''Paysys''. Добавлен модуль для платежной системы Paynet.
  * ''Paysys''. Добавлен модуль для платежной системы BM Tehcnologies.
  * Доработан поиск администраторов

<accordion title="20190514"><panel title="MySQL"><code mysql>
ALTER TABLE cams_streams ADD COLUMN `coordx` double(20,14) NOT NULL DEFAULT '0.00000000000000';
ALTER TABLE cams_streams ADD COLUMN `coordy` double(20,14) NOT NULL DEFAULT '0.00000000000000';
ALTER TABLE cams_streams ADD COLUMN `transport` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `sound` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `limit_archive` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `pre_image` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `constantly_working` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `archive` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `only_video` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `pre_image_url` varchar(128) NOT NULL DEFAULT '';
ALTER TABLE cams_streams ADD COLUMN `point_id` int(11) unsigned DEFAULT NULL;

ALTER TABLE cams_groups MODIFY `build_id` smallint(6) unsigned;
ALTER TABLE cams_groups MODIFY `street_id` smallint(6) unsigned;
ALTER TABLE cams_groups MODIFY `district_id` smallint(6) unsigned;
ALTER TABLE cams_groups MODIFY `location_id` smallint(6) unsigned;

ALTER TABLE `internet_log` MODIFY COLUMN `nas_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `ring_rules` ADD COLUMN `update_day` VARCHAR(25) NOT NULL DEFAULT '';
ALTER TABLE `ring_rules` ADD COLUMN `sql_query` VARCHAR(200) NOT NULL DEFAULT '';
ALTER TABLE `employees_rfid_log` MODIFY COLUMN `rfid` VARCHAR(15) NOT NULL DEFAULT '';
ALTER TABLE `crm_leads` ADD COLUMN `tag_ids` VARCHAR(20) NOT NULL DEFAULT '';

ALTER TABLE `storage_incoming` ADD COLUMN `invoice_number` VARCHAR(60) DEFAULT '';
</code></panel></accordion>

====0.80====
17.04.2019
  * Реализована RADIUS авторизация для [[http://abills.net.ua:8090/pages/viewpage.action?pageId=24182789|D-link коммутатора]]
  * ''Iptv''. Добавлена опция запрещающая одинаковые сервисные тарифный планы для одного абонента.
  * ''Iptv''. Реализован протокол модуля [[http://abills.net.ua:8090/display/AB/Conax+TV|Conax TV]]
  * ''Ureports''. Исправлены ошибки в модуле при использовании многопользовательских операций.
  * ''Paysys''. В модуль добавлена возможность оплаты с клиентского кабинета.
  * ''Paysys''. Добавлен модуль работы с протоколом Яндекс.Деньги.
  * ''Paysys''. Добавлен модуль работы с протоколом Asisnur.
  * ''Docs''. [[http://abills.net.ua:8090/display/AB/Docs#Docs-%D0%93%D1%80%D1%83%D0%BF%D0%BF%D0%BE%D0%B2%D0%B0%D1%8F%D0%B3%D0%B5%D0%BD%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D1%8F%D1%81%D1%87%D0%B5%D1%82%D0%BE%D0%B2%D0%B8%D0%BA%D0%B2%D0%B8%D1%82%D0%B0%D0%BD%D1%86%D0%B8%D0%B9%D0%BD%D0%B0%D0%BE%D0%BF%D0%BB%D0%B0%D1%82%D1%83|Групповая генерация счетов и квитанций на оплату]]
  * ''Equipment''. [[http://abills.net.ua:8090/display/AB/PON+GRabber|Автоопределение ONU по её серийному номеру]]
  * ''GPS''. Поддержка девйсов GT06
  * ''Msgs''. Уведомление в телеграмм теперь передает и статус заявки.
  * ''Msgs''. При переключении фильтров статусов, сортировка в таблице сохраняется.
  * ''Crm''. Подтягивание администратора в расходе с кассы после выплаты зарплаты.
  * ''Employees''. Добавлен поиск сотрудников.
  * ''Employees''. ''Admins''. Добавлено поле для RFID метки.
  * ''Employees''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=26443779|Отправка SMS сотруднику]]
  * ''Crm''. Вся работа зарплатами и кассами вынесена в модуль Employyes.
  * ''Notepad''. Исправлены ошибки.
  * ''Sms''. Добавлено переключение статусов абонента с помощью SMS callback.
  * Через телеграмм бота теперь можно отправлять скриншоты в заявки.
  * Добавлено ограничение на удаление компании, если к компании привязаны абоненты.
  * Исправлены ошибки с адресами на странице регистрации.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403585|Реализована регистрация с не существующим в системе адресом]]
  * Добавлен отчёт [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404074|прогнозируемые ARPU показатели]]

<accordion title="20190417"><panel title="MySQL"><code mysql>
RENAME TABLE `cashbox_cashboxes` TO `employees_cashboxes`,
              `cashbox_spending` TO `employees_spending`,
              `cashbox_spending_types` TO `employees_spending_types`,
              `cashbox_coming` TO `employees_coming`,
              `cashbox_coming_types` TO `employees_coming_types`,
              `crm_bet` TO `employees_bet`,
              `crm_salaries_payed` TO `employees_salaries_payed`,
              `crm_reference_works` TO `employees_reference_works`,
              `crm_works` TO `employees_works`,
              `crm_working_time_norms` TO `employees_working_time_norms`,
              `crm_bonus_types` TO `employees_bonus_types`,
              `crm_salary_bonus` TO `employees_salary_bonus`;
</code></panel></accordion>
19.03.2019
  * ''Internet''. Исправлена проблема вывода тегов пользователей в таблице Internet.
  * ''Internet''. В arpping добавление производителя.
  * ''Internet''. Проверка на дубликаты CID и IP при добавлении.
  * ''Internet''. Diagnostic пинг через Mikrotik.
  * ''Crm''. Формы прихода и расхода дополнены полем ответственного.
  * ''Netblock''. [[http://abills.net.ua:8090/display/AB/Netblock+DPI|Модуль обновлен]]
  * ''Tags''. Исправлен дублированный вывод в таблице при установке более 1-ой метки.
  * ''Paysys''. Модуль [[https://docs.google.com/document/d/e/2PACX-1vTion-fu1RzMCQgZXOYKKWAmvi-QAAxZ7AKnAZESGY5lF2j3nX61RBsa5kXzpu7t5gacl6TgztonrIE/pub|Приват Автоклиент]] реализован для новой версии.
  * ''Paysys''. Импорт платежей добавлен для новой версии.
  * ''Mikrotik''. auth_export переведен на Internet+.
  * ''XML API''. Поиск по телефону исправлен.
  * ''Ring''. Настройки [[http://abills.net.ua:8090/display/AB/Ring|модуля]] когда Asterisk на удаленном сервере.
  * ''TelegramBot''. Добавлены и [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403847| кнопки взаимодействия]]
  * Улучшили систему подсчета срока следующей абонплаты с учетом всех периодов.
  * Автоматическая регистрация. Теперь есть возможность проверять телефон абонента.
  * В [[http://abills.net.ua:8090/pages/viewpage.action?pageId=15237199|договорах абонента]] теперь можно получать данные о сервисах.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=21430286|Добавлен быстрый отчет с типами оплат по администратору]] 
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403447|Обновлен образ Docker контейнера]]
  * Добавлено право на "Отображение истории абонента".
  * Исправлены визуальные проблемы в отчетах.

<accordion title="20190319"><panel title="MySQL"><code mysql>
ALTER TABLE `cashbox_spending` ADD COLUMN `admin_spending` INT(11) UNSIGNED NOT NULL DEFAULT 0;
ALTER TABLE `cashbox_coming` ADD COLUMN `uid` INT(11) UNSIGNED NOT NULL DEFAULT 0;

ALTER TABLE `admins` ADD COLUMN `expire` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00';

REPLACE INTO `admin_permits` (`aid`, `section`, `actions`) SELECT aid, 0, 30 FROM `admins` WHERE aid > 3;

ALTER TABLE `cams_services` ADD COLUMN `login` VARCHAR(72) NOT NULL DEFAULT '';
ALTER TABLE `cams_services` ADD COLUMN `password` BLOB;

ALTER TABLE `admins` ADD COLUMN `rfid_number` VARCHAR(15) NOT NULL DEFAULT '';

</code></panel></accordion>

11.03.2019
  * ''Internet+''. Исправлен вывод всех полей в таблице сервисов на странице абонента.
  * ''Storage''. Улучшили удобство использования страницы установке оборудования в сервисах абонента.
  * ''Ureports''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258920|Добавление отчетов в многопользовательских операциях]]
  * ''Employees''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=17760266|Добавили возможность пополнение мобильного счета сотрудника]]
  * ''Employees''. ''Admins''. По умолчанию показываются только активные сотрудники.
  * ''Equipment''. Добавлено поле потребления электричества.
  * ''Netblock''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503874|Расширены возможности добавления блокировок]]
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=16974112|Логирование выплат зарплат сотрудникам]]
  * ''Nas''. Использование команд консоли сервера доступа записывается в системный журнал.
  * Исправлены проблемы web интерфейса в модуле Equipment.

<accordion title="20190311"><panel title="MySQL"><code mysql>
ALTER TABLE `cams_streams` ADD COLUMN `extra_url` varchar(64) NOT NULL DEFAULT '0.0.0.0';
ALTER TABLE `cams_streams` ADD COLUMN `screenshot_url` varchar(64) NOT NULL DEFAULT '0.0.0.0';
ALTER TABLE `cams_tp` ADD COLUMN `dvr` smallint(6) unsigned DEFAULT 0;
ALTER TABLE `cams_tp` ADD COLUMN `ptz` smallint(6) unsigned DEFAULT 0;

CREATE TABLE IF NOT EXISTS `employees_ext_params` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `aid` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  `phone` VARCHAR(16) NOT NULL DEFAULT '' UNIQUE,
  `sum` DOUBLE(10, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `day_num` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  `status` SMALLINT(1) UNSIGNED NOT NULL DEFAULT '0',
  PRIMARY KEY `id` (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Employees extra parameters';

CREATE TABLE IF NOT EXISTS `employees_mobile_reports` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `aid` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  `phone` VARCHAR(16) NOT NULL DEFAULT '',
  `sum` DOUBLE(10, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `transaction_id` VARCHAR(24) NOT NULL DEFAULT '',
  `status` SMALLINT(1) UNSIGNED NOT NULL DEFAULT '0',
  PRIMARY KEY `id` (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Employees mobile reports';

CREATE TABLE IF NOT EXISTS `netblock_ssl` (
  `id` int(10) unsigned NOT NULL DEFAULT 0,
  `ssl_name` varchar(255) NOT NULL DEFAULT '',
  `skip` tinyint(1) NOT NULL DEFAULT '0',
  KEY `id` (`id`),
  FOREIGN KEY (`id`) REFERENCES `netblock_main` (`id`) ON DELETE CASCADE
) COMMENT='Netblock ssl table';

CREATE TABLE IF NOT EXISTS `netblock_ports` (
  `id` int(10) unsigned NOT NULL DEFAULT 0,
  `ports` varchar(255) NOT NULL DEFAULT '',
  `skip` tinyint(1) NOT NULL DEFAULT '0',
  KEY `id` (`id`),
  FOREIGN KEY (`id`) REFERENCES `netblock_main` (`id`) ON DELETE CASCADE
) COMMENT='Netblock ports table';

ALTER TABLE `equipment_models` ADD COLUMN `electric_power` INT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `employees_ext_params` ADD COLUMN `mob_comment` VARCHAR(255) NOT NULL DEFAULT '';


</code></panel></accordion>

19.02.2019
  * ''Cams''. [[http://abills.net.ua:8090/display/AB/Cams.+New+Version|Интегрировали плагины Flussonic и Zoneminder для работы с камерами ]]
  * ''Cams''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=15761423|Новая модель тарифных планов]]
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601185|Отчет по количеству занятых и свободных портов]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4030512|Появилась возможность установки оборудования клиенту с меню сервисов]]
  * ''Iptv''. [[http://abills.net.ua:8090/display/AB/Omega+TV#OmegaTV-%D0%9F%D0%BB%D0%B5%D0%B9%D0%BB%D0%B8%D1%81%D1%82%D1%8B%D0%B8%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0|Добавлены плейлисты к модулю OmegaTV]]
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=15237141|Платежная система PSCB]]
  * ''Ureports''. При удалении тарифного плана теперь удаляются и все связанные с ним записи в базе.
  * ''Employees''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=16973845||В модуль добавлены отделы.]]
  * ''Employees''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211351#id-%D0%A2%D0%B0%D0%B1%D0%B5%D0%BB%D1%8C%D1%80%D0%B0%D0%B1%D0%BE%D1%82-%D0%93%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B8%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BF%D0%BE%D1%81%D0%BE%D1%82%D1%80%D1%83%D0%B4%D0%BD%D0%B8%D0%BA%D0%B0%D0%BC|Добавили фильтры Должность и ФИО для вывода графика работы сотрудника]]
  * ''Employees''. В журнал работ добавили фильтр по отделам.
  * ''Msgs''. Разделили администраторов выдавшего и выданному наряд работ.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%9E%D0%BF%D0%BB%D0%B0%D1%82%D0%B0%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F%D0%B7%D0%B0%D1%8F%D0%B2%D0%BE%D0%BA|Оплаты за ремонт]]
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258797|Улучшена работа и возможности нарядов работ]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258920#id-%D0%9C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8-%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F%D0%91%D0%BE%D0%BD%D1%83%D1%81%D0%BE%D0%B2%D1%87%D0%B5%D1%80%D0%B5%D0%B7%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8|Теперь можно начислять бонусы в многопользовательских операциях]]
  * Поле "Дата рождения" занесли в панель Паспорт в карточке абонента.
  * Оптимизирована работа с базой данных.
  * Исправлены проблемы с элементом select в модуле Msgs.
  * Исправлены проблемы с элементом select при выборе SVLAN в карточке абонента.

<accordion title="20190219"><panel title="MySQL"><code mysql>
ALTER TABLE `ureports_users_reports` ADD COLUMN `tp_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';


CREATE TABLE IF NOT EXISTS `employees_department` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `name` char(60) NOT NULL DEFAULT '',
  `comments` TEXT,
  PRIMARY KEY (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Employees departments';

ALTER TABLE `admins` ADD COLUMN `department` SMALLINT(3) UNSIGNED NOT NULL DEFAULT '0';

ALTER TABLE `crm_salaries_payed` ADD COLUMN `spending_id` SMALLINT UNSIGNED NOT NULL DEFAULT '0';
</code></panel></accordion>

05.02.2019
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504045|Автоформатирование MAC адреса.]]
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504045#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D1%83%D1%81%D0%BB%D1%83%D0%B3%D0%BE%D0%B9-%D0%9D%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0|Уникальность s-vlan и c-vlan]]
  * ''Internet''. Геолокация тарифов.
  * ''Iptv''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4980764|Ограничение подписок на одного клиента.]]
  * ''Iptv''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319677|Регистрация абонента]]
  * ''Maps''. Добавлен обьект - запас кабеля.
  * ''Maps''. [[http://abills.net.ua:8090/display/AB/Maps#Maps-%D0%9E%D1%82%D1%87%D0%B5%D1%82%D0%BF%D0%BE%D0%BE%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B0%D0%B5%D0%BC%D1%8B%D0%BC%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%B0%D0%BC.|Отчет об обьектах на карте]]
  * ''Maps''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404132|Отображать OLT на слое PON]]
  * ''Equipment''. Добавлен поиск по MAC адресу оборудования.
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601185|Быстрый отчет с незарегистрированными ОНУ]]
  * ''Equipment''. Добавлена возможность сообщать о новых ONU.
  * ''Cablecat''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8782014|Журнал по оптическим боксам]]
  * ''Crm''. В дополнительных работах добавлено свойство "Выполнена".
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258914#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%BC-%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%D0%BB%D0%BE%D0%B3%D0%B8%D0%BD%D0%B0%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0|Добавили возможность редактирования логина клиента]]
  * ''Docs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9306163| Выписать счет при проведения начисления ]]
  * ''Docs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403856|Список услуг при выписке счета]]
  * ''Docs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403931|Поиск по типам начиcлений в счетах]] 
  * ''Rwizard''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=15237157|Отчет по клиентам без сервисов]]
  * ''Rwizard''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=15237157|Отчет с диапазонами остатков]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601848|Динамические типы начислений]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8126507 |Появилась возможность выставить статус "Уволен" для сотрудников]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258908| Добавлены права на отображения групп]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258917| Добавлены права на отображения компаний]]
  * Улучшены записи истории при действиях с новыми контактами.
  * В печатной форме табеля работ теперь не отображаются неактивные администраторы.
  * Отчёты. Улучшено отображение в отчете по пользовательским графикам.
  * Опция $conf{CURRENCY_ICON} теперь учитывается и в клиентском кабинете.

<accordion title="20190205"><panel title="MySQL"><code mysql>
ALTER TABLE `cams_streams` ADD COLUMN `type` TINYINT(1) UNSIGNED NOT NULL DEFAULT 0;

ALTER TABLE `msgs_dispatch` ADD COLUMN `created_by` SMALLINT(1) UNSIGNED NOT NULL DEFAULT 0;
ALTER TABLE `msgs_dispatch` ADD COLUMN `start_date` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00';
ALTER TABLE `msgs_dispatch` ADD COLUMN `end_date` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00';
ALTER TABLE `msgs_dispatch` ADD COLUMN `actual_end_date` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00';
ALTER TABLE `msgs_dispatch_admins` ADD FOREIGN KEY (`dispatch_id`) REFERENCES `msgs_dispatch`(`id`) ON DELETE CASCADE;

CREATE TABLE `tp_geolocation`
(
  `tp_gid`       SMALLINT(5) UNSIGNED DEFAULT '0' NOT NULL,
  `district_id` SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL,
  `street_id`   SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL,
  `build_id`    SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL
)
  COMMENT 'Geolocation of the tariff plan'
  ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `employees_department` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `name` char(60) NOT NULL DEFAULT '',
  `comments` TEXT,
  PRIMARY KEY (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Employees departments';

ALTER TABLE `admins` ADD COLUMN `department` SMALLINT(3) UNSIGNED NOT NULL DEFAULT '0';

</code></panel></accordion>

10.01.2019
  * ''Internet''. Информация о мультисервисности теперь выводится и в личном кабинете абонента.
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503925#id-%D0%90%D0%B2%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8FInternetIPoE-%D0%A0%D0%BE%D1%82%D0%B0%D1%86%D0%B8%D1%8F%D0%BB%D0%BE%D0%B3%D0%BE%D0%B2%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0IPN|Настраиваемый период сохранения логов без ротации для сервиса IPN]]
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503983|Визуальный мониторинг домов теперь показывает гостевые сессии]]
  * ''ExtReceipts''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403316|модуль]]работы с онлайн чеками.
  * ''Iptv''. Добавлена возможность поиска абонентов по количеству сервисов.
  * ''Iptv''. Отображение данных депозита в портале middleware.
  * ''Iptv''. Добавлено предупреждение о следующем учетном периоде и суме оплаты
  * ''Iptv''. [[http://abills.net.ua:8090/display/AB/Axios+TV|Плагин под Axios TV]]
  * ''Equipment''. Улучшена регистрация ONU ZTE c320
  * ''Equipment''. Исправлена ошибка рисования графика трафика на абоненте при нескольких сервисах
  * ''Maps''. ''Cablecat''. Появилась возможность выбирать цвет делителя.
  * ''Maps''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404132|Отображение PON на карте]]
  * ''Storage''. Запрещено удалять настройки склада, если они используются на складе.
  * ''Storage''. Подменю склада переведены на более удобные таблицы.
  * ''Msgs''. В клиентском кабинете по-умолчанию теперь отображается в списке задачи с статусом "Ждем ответа" и "Открыта".
  * Отчёты. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404074|ARPU и количество новых абонентов]]
  * Отчёты. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404070|Добавлен график новых абонентов и общего количества абонентов]]
  * Paysys. Privat Termina. Добавлена возможность оплаты по QR code.
  * Отчёты. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404076|Добавлен отчёт по статусам абонентов с остатками]]
  * Добавлен новый тип информационного поля - Дата.
  * Добавлен литовский словарь.
  * В параметры организации добавлены новые поля по умолчанию.

<accordion title="20190110"><panel title="MySQL"><code mysql>
CREATE TABLE IF NOT EXISTS `internet_users_pool` (
  `service_id`  SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  `pool_id`   SMALLINT(5) UNSIGNED NOT NULL DEFAULT '0',
  `comments`    VARCHAR(60) NOT NULL DEFAULT '',
  PRIMARY KEY (`service_id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Internet users ip pool';

CREATE TABLE IF NOT EXISTS `crm_bonus_types` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `name` char(60) NOT NULL DEFAULT '',
  `amount` DOUBLE(6, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `comments` TEXT,
  PRIMARY KEY (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Bonust types for salaries';

CREATE TABLE IF NOT EXISTS `crm_salary_bonus` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `aid` SMALLINT(6) UNSIGNED NOT NULL DEFAULT 0,
  `year` SMALLINT(4) UNSIGNED NOT NULL DEFAULT 0,
  `month` SMALLINT(2) UNSIGNED NOT NULL DEFAULT 0,
  `amount` DOUBLE(6, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `bonus_type_id` SMALLINT UNSIGNED NOT NULL DEFAULT '0',
  `date` DATE NOT NULL DEFAULT '0000-00-00',
  PRIMARY KEY (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Bonust to salaries';

ALTER TABLE `ippools` MODIFY COLUMN `name` VARCHAR(50) NOT NULL DEFAULT '';

ALTER TABLE `cablecat_coil` ADD COLUMN `length` INT NOT NULL DEFAULT 30;

ALTER TABLE `cablecat_wells` MODIFY `name` VARCHAR(60) NOT NULL;

REPLACE INTO `admin_permits` (`aid`, `section`, `actions`) SELECT aid, 0, 28 FROM `admins` WHERE aid > 3;
REPLACE INTO `admin_permits` (`aid`, `section`, `actions`) SELECT aid, 0, 29 FROM `admins` WHERE aid > 3;

ALTER TABLE `crm_works` ADD COLUMN `work_done` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0';

ALTER TABLE `docs_invoice_orders` ADD COLUMN `type_fees_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';

</code></panel></accordion>
28.11.2018
  * ''NAS''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504030#id-%D0%A1%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-Console|В Mikrotik консоль добавлены журнал DHCP leases и Лог]]
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503983|Поиск сессий по CPE_MAC]]
  * ''Storage''. Главную таблицу склада перевели на улучшенную таблицу, с возможностью быстрого поиска и отключения ненужных полей.
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%BC%D0%B2%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B5%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%9E%D0%BF%D1%86%D0%B8%D1%8F%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C|Расходная накладная]]
  * ''Iptv''. Iptv. Появилась возможность смены пароля в сервисе IptvPortal
  * ''Maps''. [[http://abills.net.ua:8090/display/AB/Maps#Maps-%D0%98%D0%B4%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D1%80%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BE%D0%B2|Идентификатор загрузки обьектов]]
  * ''Ureports''. [[http://abills.net.ua:8090/display/AB/Ureports|Настройка типов оповещений]]
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601290|Чат. Добавлены глобальные оповещения]]
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403829|Улучшения отчетов]]
  * ''Crm''. Сделана упрощенная схема прикрепления существующего клиента к потенциальному клиенту.
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403645|Визуальное отображение воронки продаж]]
  * Добавлена возможность ручной сортировки панелей на странице [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258914|управления абонентом]]

13.11.2018
  ** [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403447|Abills docker контейнер]]
  * ''Internet+''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504049|Переход на следующий тарифный план со статусом "Недостаточно средств"]]
  * ''Internet+''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504024|Параметр игнорирования MAC-авторизации]]
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211396|Расчет выплаты зарплат]]
  * ''Crm''. Добавлена кнопка печати платежной ведомости при выплате зарплаты.
  * ''Crm''. Меню работы с выплатой зарплат вынесено в меню Обслуживание.
  * ''Storage''. Добавлено удобство в выборе товара при установке оборудования абоненту со склада.
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%BC%D0%B2%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B5%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%9A%D0%BD%D0%BE%D0%BF%D0%BA%D0%B0%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D1%89%D0%B5%D0%BD%D0%B8%D0%B5|Перемещение товара со склада на склад]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%BC%D0%B2%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B5%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%B0|Печать приходной накладной]]
  * ''Storage''. В карточке абонента показывает количество используемого им оборудования со склада.
  * ''Equipment''. Добавлена поддержка мониторинга OLT VSolution.
  * ''Equipment''. Вывод количества свободных и занятых ONU.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601290|Добавлена нотификация сообщений в чате]]
  * ''Dom''. [[http://abills.net.ua:8090/display/AB/Dom#Dom-%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0|Добавлена возможность обратной нумерации квартир в доме]]
  * ''Dom''. [[http://abills.net.ua:8090/display/AB/Dom#Dom-%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0|Цветная схема отображения статуса клиентов в доме]]
  * ''Dom''. Отображение списка коммутаторов в доме.
  * ''Employees''. Добавлены права доступа для отображения Табеля работ.
  * ''Employees''. Командировки учитываются в рабочее время в табеле работ.
  * ''NAS''. Теперь при удаление сервера доступа, так же производится удаление информации из таблицы оборудования.
  * ''NAS''. [[abills:docs:nas:mikrotik:console:ru|Cохранение и загрузка конфигурации]]
  * [[abills:docs:manual:admin:form_users_list#mnogopolzovatelskie_operacii|Расширение функционала многопользовательских операций]]
  * Разделенны web-сессии клиентов  и администраторов.
  * В карточке абонента теперь отображается сумма оплаты всех услуг.
  * Редизайн отчетов в клиентском кабинете.

<accordion title="20181113"><panel title="MySQL"><code mysql>
ALTER TABLE internet_online CHANGE COLUMN acct_session_id acct_session_id varchar(36) NOT NULL DEFAULT '';
ALTER TABLE `msgs_chat` ADD COLUMN `reed` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE iptv_device RENAME TO iptv_devices;

ALTER TABLE `nas` ADD COLUMN `floor` VARCHAR(10) DEFAULT '' NOT NULL;
ALTER TABLE `nas` ADD COLUMN `entrance` VARCHAR(10) DEFAULT '' NOT NULL;

CREATE TABLE cablecat_coil (
  id int(11) unsigned NOT NULL AUTO_INCREMENT,
  name varchar(32) NOT NULL DEFAULT '',
  point_id int(11) unsigned NOT NULL DEFAULT 0,
  cable_id int(11) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Cablecat coil';

ALTER TABLE `notepad` MODIFY `text` TEXT;
ALTER TABLE msgs_chat CHANGE `reed` `msgs_unread` TINYINT(1);
</code></panel></accordion>