Список запланированных изменений [[abills:todo:todo|Todo List]]
====0.90====
14.06.2021
  * Исправлена проблема с кодировкой в всплывающем сообщении о входящем звонке.
  * Журнал оплат: поле "Внутреннее сообщение" теперь отображается отдельно от описания.
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=53641248|Кабельный тестер]]: добавлена поддержка моделей оборудования D-Link DES-1210-28/ME/B2, DES-1210-28/ME/B3, DES-1228/ME.
  * ''Crm''. Добавлено отображение конкурента на карте в окне потенциального клиента.
  * ''Crm''. Добавлено отображение номера квартиры на карте в окне потенциального клиента.
  * ''Equipment''. Добавлена возможность [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63898004|отображения конфигурации ONU для GPON Huawei]].
  * ''Equipment''. Добавлено отображение [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897697|MAC-адресов за ONU]] для EPON V-SOLUTION, GPON Huawei, GPON BDCOM, ZTE C300/C320.
  * Добавлена возможность [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63898049|одновременной работы двух и более веб-сессий в кабинете пользователя]].
  * ''Paysys''. Добавлен прямой отчёт с системы [[http://abills.net.ua:8090/display/AB/Concord|Concord]].
  * ''Iptv''. Iptvportal. Добавлен [[http://abills.net.ua:8090/display/AB/Iptvportal#Iptvportal-%D0%A1%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8FIP%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0|billd-плагин для синхронизации IP-адресов абонентов]].
  * ''Equipment''. billd-плагин [[http://abills.net.ua:8090/display/AB/MAC+GRabber|equipment_mac]]: добавлен параметр TRANSACTION=1 (ускоряет запись в БД).
  * ''Accident''. Добавлена [[http://abills.net.ua:8090/display/AB/Accident#Accident-%D0%9E%D0%BF%D0%BE%D0%B2%D0%B5%D1%89%D0%B5%D0%BD%D0%B8%D0%B5%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F%D0%BE%D0%B0%D0%B2%D0%B0%D1%80%D0%B8%D0%B8|возможность оповещать пользователей о аварии через Telegram или Viber]].
  * ''Cams''. [[http://abills.net.ua:8090/display/AB/Trassir|Trassir]]. Добавлена возможность просмотра архива средствами биллинга.
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504045#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D1%83%D1%81%D0%BB%D1%83%D0%B3%D0%BE%D0%B9-%D0%9F%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C%22%D0%9E%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%22|Панель "Оборудование" в карточке абонента]]: переработано поведение кнопки включения/отключения порта
  * ''Cams''. Модуль доработан для возможности работы с сервером VIDEO [[http://abills.net.ua:8090/display/AB/Axiostv+Cams|АКСИОСТВ]].
  * ''Iptv''. Добавлен модуль [[http://abills.net.ua:8090/display/AB/YouTV|YouTV]].
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897720|Страница "Порты"]]: исправлено изменение админ. статуса порта по SNMP. Исправлено сохранение админ. статусов портов в БД.
  * ''Iptv''.  [[http://abills.net.ua:8090/display/AB/Megogo+TV#MegogoTV-%D0%97%D0%B0%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5%D1%83%D1%81%D0%BB%D1%83%D0%B3%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D1%83|Megogo TV]]. Теперь, если у пользователя uid или пароль меньше 6 символов, перед отправкой запроса на добавление в Megogo он будет дополнен символами "0" до длины 6 символов.
  * ''Equipment''. Исправлены отчёты по PON ([[http://abills.net.ua:8090/pages/viewpage.action?pageId=31883408|PON Статистика]], [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601185#id-%D0%91%D1%8B%D1%81%D1%82%D1%80%D1%8B%D0%B5%D0%BE%D1%82%D1%87%D0%B5%D1%82%D1%8B%D0%BF%D0%BE%D0%BE%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8E%D0%B4%D0%BB%D1%8F%D0%BF%D0%B5%D1%80%D0%B2%D0%BE%D0%B9%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D1%8B-%D0%9E%D1%82%D1%87%D1%91%D1%82%D0%BF%D0%BEPON|быстрый отчёт "Отчёт по PON"]]).
  * ''Msgs''. Добавлен [[http://abills.net.ua:8090/display/AB/Msgs|параметр для выбора плагинов для отправки оповещения пользователю об ответе на заявку ($conf{MSGS_SEND_MESSAGES_TYPES})]].
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897834#Crm:%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5%D0%BF%D0%BE%D0%BB%D1%8F-%D0%9D%D0%BE%D0%B2%D1%8B%D0%B5%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5%D0%BF%D0%BE%D0%BB%D1%8F%D0%B4%D0%BB%D1%8F%D1%82%D0%B0%D1%80%D0%B8%D1%84%D0%BD%D1%8B%D1%85%D0%BF%D0%BB%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%BE%D0%BD%D0%BA%D1%83%D1%80%D0%B5%D0%BD%D1%82%D0%B0|возможность создавать информационные поля для тарифных планов конкурента]].
  * ''Msgs''. Добавлена возможность поиска по тегам с логикой "или" - поиск сообщений, у которых есть хотя бы один из перечисленных тегов. Также, если выбрать "все" в поиске по тегам, отобразятся все сообщения, у которых есть хоть какие-то теги, но не сообщения без тегов.
  * ''Crm''. Добавлено право доступа отображать всех потенциальных клиентов. Администратору без этого права отображаются только те потенциальные клиенты, к которым он привязан.
  * ''Cablecat''. Добавлена возможность редактирования названия коммутации.
  * ''Iptv''. Добавлен параметр для отображения услуг с ценой 0 в шапке абонента ($conf{IPTV_SHOW_FREE_TPS}).
  * Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503987#id-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8B-%D0%9F%D1%80%D0%B8%D0%BE%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D0%B8%D0%B8%D1%82%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0%D0%B1%D0%BE%D0%BB%D0%B5%D0%B590%D0%B4%D0%BD%D0%B5%D0%B9%D0%BF%D0%B5%D1%80%D0%B5%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B2%D1%81%D1%82%D0%B0%D1%82%D1%83%D1%81%22%D0%9D%D0%B5%D0%B4%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BE%D1%87%D0%BD%D0%BE%D1%81%D1%80%D0%B5%D0%B4%D1%81%D1%82%D0%B2%22|billd-плагин, который отключает абонентов, которые не пользовались интернетом определённое количество времени]].
  * ''Crm''. Добавлены [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211400#id-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B-%D0%9C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8|многопользовательские операции]].
  * Унифицировано использование разделителей при отображении адреса (разделитель вставляется между улицей и домом, и т. д.). Разделитель теперь настраивается параметром [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403583|$conf{BUILD_DELIMITER}]].
  * ''Equipment''. Исправлена работа ARP-таблицы на GCOM.
  * ''Iptv''. Добавлен параметр для отображения отключенных услуг в баннере оплат ($conf{IPTV_SHOW_ALL_SERVICES}).
  * ''Cablecat''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8782014#id-%D0%A1%D1%85%D0%B5%D0%BC%D0%B0%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D1%82%D0%B0%D1%86%D0%B8%D0%B8-%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D1%89%D0%B5%D0%BD%D0%B8%D0%B5%D1%8D%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2|возможность передвигать кабеля на схеме коммутации]].
  * ''Cablecat''. Добавлено локализацию [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8782014#id-%D0%A1%D1%85%D0%B5%D0%BC%D0%B0%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D1%82%D0%B0%D1%86%D0%B8%D0%B8-%D0%9F%D0%B5%D1%87%D0%B0%D1%82%D0%BD%D0%B0%D1%8F%D1%84%D0%BE%D1%80%D0%BC%D0%B0|печатной формы]].
  * ''Cablecat''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8782014#id-%D0%A1%D1%85%D0%B5%D0%BC%D0%B0%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D1%82%D0%B0%D1%86%D0%B8%D0%B8-%D0%9F%D0%B5%D1%87%D0%B0%D1%82%D0%BD%D0%B0%D1%8F%D1%84%D0%BE%D1%80%D0%BC%D0%B0|Печатная форма]]. Добавлено отображение типа портов для кросса.
  * ''Cablecat''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8782014#id-%D0%A1%D1%85%D0%B5%D0%BC%D0%B0%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D1%82%D0%B0%D1%86%D0%B8%D0%B8-%D0%9F%D0%B5%D1%87%D0%B0%D1%82%D0%BD%D0%B0%D1%8F%D1%84%D0%BE%D1%80%D0%BC%D0%B0|Печатная форма]]. Добавлено отображение затухания для делителей.
  * ''Equipment''. Исправлена ошибка, когда на странице ONU трафик округлялся до целых ГиБ, когда трафик был >= 4 ГиБ.
  * ''Cablecat''. Добавлены [[http://abills.net.ua:8090/pages/viewpage.action?pageId=58785793#Cablecat%D0%B8%D0%BC%D0%BF%D0%BE%D1%80%D1%82%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BE%D0%B2-%D0%A1%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%D0%BF%D1%80%D0%B5%D1%81%D0%B5%D1%82%D0%BE%D0%B2|импорт и сохранение пресетов]].
  * ''Equipment''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897697|возможность показывать все MAC-адреса за ONU, которые когда-либо появлялись за ONU (параметр конфига $conf{EQUIPMENT_SHOW_OLD_MAC_BEHIND_ONU})]].
  * ''Equipment''. Вкладки [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897900|"MAC"]], [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897720|"Порты"]]: добавлена кнопка определения производителя устройства по MAC-адресу.
  * ''Equipment''. Добавлено поле [[http://abills.net.ua:8090/display/AB/ONU+last+down+cause|ONU Last Down Cause]] на странице ONU для OLT Huawei и GPON BDCOM.
  * ''Equipment''. Страница "Порты": добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897720#id-%D0%92%D0%BA%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0%22%D0%9F%D0%BE%D1%80%D1%82%D1%8B%22-%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BF%D0%BE%D0%BB%D1%8F|доп. поле "MAC dynamic", в котором отображаются динамически полученные MAC'и на портах]].
  * ''Paysys''. Добавлен billd-плагин payments_pool (оплаты сначала заносятся в таблицу payments_pool, а потом проходятся cross_modules). При большом количестве платежей исключает возможность незачисления.
  * ''Equipment''. Добавлена возможность изменять список пропускаемых портов на странице "Порты" с помощью [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258991|параметра конфига $conf{EQUIPMENT_SKIP_PORTS_TYPES}]].
  * ''Equipment''. Исправлено отображение [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897697|MAC-адресов за ONU]] на новых версиях прошивок EPON BDCOM.
  * ''Equipment''. Теперь на странице "Порты" в [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897720#id-%D0%92%D0%BA%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0%22%D0%9F%D0%BE%D1%80%D1%82%D1%8B%22-%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BF%D0%BE%D0%BB%D1%8F|столбце "MAC"]] показываются MAC-адреса на этом порте, взятые с MAC log (раньше показывалась кнопка с количеством MAC-адресов, ведущая на страницу MAC log).
  * ''Equipment''. Исправлена ошибка, когда на странице "Порты" некорректно показывался трафик, если он больше, чем 4 ГиБ.
  * ''Equipment''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897817|возможность работы с внешними системами учета (на ONU отображаются ссылки на внешнюю систему)]].
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=16973982|Cudload]]. Добавлена возможность удалять старые бекапы с облака.
  * ''Equipment''. Добавлена возможность задавать количество поддерживаемых ONU на ветке для конкретной модели оборудования по типам веток [[http://abills.net.ua:8090/pages/viewpage.action?pageId=18612229#id-%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C%D0%B6%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%BE%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-PON|(подробнее)]].
  * ''Equipment''. В списке портов оборудования добавлена колонка "Ошибки на порту".
  * ''Docs''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403889|переменная шаблона DOCS_ABON_SUM_SERVICE]] - общая сумма всех сервисов у абонента.
  * [[http://abills.net.ua:8090/display/AB/mikrotik_dhcp_leases.pl|mikrotik_dhcp_leases.pl]]. Добавлена проверка на изменение ТП.

<accordion title="20210614"><panel title="MySQL"><code mysql>
ALTER TABLE `cablecat_splitters` ADD COLUMN `name` VARCHAR(32) NOT NULL DEFAULT '';

ALTER TABLE `cablecat_splitters` MODIFY `commutation_x` DOUBLE(6, 2) NULL;
ALTER TABLE `cablecat_splitters` MODIFY `commutation_y` DOUBLE(6, 2) NULL;
ALTER TABLE `cablecat_commutation_equipment` MODIFY `commutation_x` DOUBLE(6, 2) NULL;
ALTER TABLE `cablecat_commutation_equipment` MODIFY `commutation_y` DOUBLE(6, 2) NULL;
ALTER TABLE `cablecat_commutation_crosses` MODIFY `commutation_x` DOUBLE(6, 2) NULL;
ALTER TABLE `cablecat_commutation_crosses` MODIFY `commutation_y` DOUBLE(6, 2) NULL;
ALTER TABLE `cablecat_commutations` ADD COLUMN `height` DOUBLE(6, 2) NULL;

ALTER TABLE `equipment_models` ADD COLUMN image_url VARCHAR(500) DEFAULT '';
UPDATE equipment_models SET image_url = 'https://www.edge-core.com/timthumb.php?src=_upload/images/1605181111021.png&h=357&w=490&zc=3' WHERE id = 158;
UPDATE equipment_models SET image_url = 'https://i.mt.lv/cdn/rb_images/1606_l.jpg' WHERE id = 161;
UPDATE equipment_models SET image_url = 'https://www.juniper.net/assets/img/products/image-library/mx-series/mx80/mx80-front-high.jpg' WHERE id = 162;
UPDATE equipment_models SET image_url = 'https://www.dlink.ru/up/prod_fotos/DGS-1100-06ME_A1_Front.jpg' WHERE id = 232;
UPDATE equipment_models SET image_url = 'https://eltex-co.ru/upload/iblock/32f/olt-ma4000_px_front.png' WHERE id = 262;

ALTER TABLE `extreceipts_api` ADD COLUMN `conf_name` VARCHAR(50) NOT NULL DEFAULT '' AFTER api_id;

ALTER TABLE `cablecat_commutations` ADD COLUMN `name` VARCHAR(64) NOT NULL DEFAULT '';
UPDATE equipment_models SET image_url = 'https://ecolan.com.ua/components/com_jshopping/files/img_products/full_zte_c300_3.jpg' WHERE id = 306;
ALTER TABLE equipment_mac_log MODIFY port VARCHAR(16) NOT NULL DEFAULT '';

ALTER TABLE `maps_points` MODIFY `name` VARCHAR(64) NOT NULL DEFAULT '';

CREATE TABLE IF NOT EXISTS `cablecat_import_presets` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `preset_name` varchar(64) NOT NULL DEFAULT '',
  `default_preset_name` varchar(64) NOT NULL DEFAULT '',
  `object_name` varchar(64) NOT NULL DEFAULT '',
  `type_id` varchar(64) NOT NULL DEFAULT '',
  `default_type_id` SMALLINT(6) NOT NULL,
  `object` varchar(64) NOT NULL DEFAULT '',
  `object_add` TINYINT(1) NOT NULL DEFAULT 0,
  `coordx` varchar(64) NOT NULL DEFAULT '',
  `coordy` varchar(64) NOT NULL DEFAULT '',
  `load_url` varchar(128) NOT NULL DEFAULT '',
  `json_path` varchar(64) NOT NULL DEFAULT '',
  `filters` varchar(128) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`)
)
  CHARSET = 'utf8'
  COMMENT = 'Presets for wells import';
ALTER TABLE equipment_extra_ports ADD COLUMN port_combo_with SMALLINT NOT NULL DEFAULT 0 AFTER port_type;
ALTER TABLE equipment_extra_ports DROP COLUMN state;
</code></panel></accordion>

06.05.2021
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897834|возможность ведения дополнительных полей в карточке потенциального клиента]].
  * [[http://abills.net.ua:8090/display/AB/Telegram+Bot|Telegram bot]]. Добавлены кнопки быстрой оплаты (PrivatBank, Easypay, City24).
  * ''Msgs''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952484|плагин отображающий количество потраченного времени на работу с клиентов в текущем месяце]].
  * ''Maps2''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952372|возможность менять watermark]].
  * ''Docs''. При распечатке выписки добавлено отображение типа счёта.
  * ''Internet''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897685|отчёт "Отток пользователей"]].
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211400#id-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B-%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%BF%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0|возможность привязки тарифного плана конкурента потенциальному клиенту]].
  * ''Crm''. Добавлено доп. поле "Адрес" в списке потенциальных клиентов.
  * ''Crm''. Для заведенных клиентов в форме адреса добавлен бейдж геолокации.
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211400#id-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B-%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%BF%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0|возможность настраивать шкалу оценки конкурента]].
  * ''Paysys''. Исправлена ошибка, когда при внесении новой платежной системы вид оплат мог дублироваться.
  * Добавлено отображение валюты в [[http://abills.net.ua:8090/display/AB/Telegram+Bot|Telegram bot]] и [[http://abills.net.ua:8090/display/AB/Viber+bot|Viber bot]].
  * Улучшено переключатель статуса карточки абонента.
  * ''Crm''. Добавлена возможность перейти с карты на потенциального клиента.
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211400#id-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B-%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F%D0%BE%D0%BF%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%BC%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B5|Унифицирована работа с клиентом]].
  * ''Crm''. Добавлен полный перенос полей в информацию про пользователя при регистрации (включая информационные, если они одинаково называются и в Crm, и в биллинге).
  * ''Crm''. Добавлена возможность ведения лида ответственным администратором.
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897858|история работы с потенциальным клиентом]].
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897877|возможность создания потенциального клиента с уже существующего пользователя]] (если клиент отключается или перестает работать, для последующей работы отдела привлечения клиента).
  * ''Crm''. Отчёт>CRM>Конкуренты>Тарифные планы: исправлены фильтры.
  * Исправлена проверка существования логина при создании абонента.
  * Добавлена темная тема.
  * ''Docs''. Добавлена возможность подписи документов с помощью системы "ВЧАСНО".
  * Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503987#id-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8B-%D0%9F%D0%B5%D1%80%D0%B5%D0%B2%D0%BE%D0%B4%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0%D0%B2%D1%81%D1%82%D0%B0%D1%82%D1%83%D1%81%22%D0%9D%D0%B5%D0%B4%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BE%D1%87%D0%BD%D0%BE%D1%81%D1%80%D0%B5%D0%B4%D1%81%D1%82%D0%B2%22%D0%B5%D1%81%D0%BB%D0%B8%D1%83%D0%BD%D0%B5%D0%B3%D0%BE%D1%82%D0%B0%D1%80%D0%B8%D1%84%D0%BD%D1%8B%D0%B9%D0%BF%D0%BB%D0%B0%D0%BD%D0%9F%D0%BE%D1%81%D0%BB%D0%B5%D0%BE%D0%BF%D0%BB%D0%B0%D1%82%D0%B0%D0%B8%D1%81%D1%83%D0%BC%D0%BC%D0%B0%D0%B7%D0%B0%D0%B4%D0%BE%D0%BB%D0%B6%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8%D0%B1%D0%BE%D0%BB%D1%8C%D1%88%D0%B5%D1%87%D0%B5%D0%BC%D1%81%D1%82%D0%BE%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D1%8C%D1%82%D0%B0%D1%80%D0%B8%D1%84%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BB%D0%B0%D0%BD%D0%B0.|billd-плагин для перевода абонента в статус "Недостаточно средств", если у него тарифный план Послеоплата и сумма задолженности больше чем стоимость тарифного плана]].
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=61833389#id-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%BF%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%BE%D0%B2%D0%BD%D0%B0%D0%BA%D0%B0%D1%80%D1%82%D0%B5(Maps2)-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B%D0%B2%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B8%D0%BE%D1%82%D1%88%D0%B0%D0%B3%D0%B0|возможность отображать потенциальных клиентов на карте]].
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=61833389#id-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%BF%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%BE%D0%B2%D0%BD%D0%B0%D0%BA%D0%B0%D1%80%D1%82%D0%B5(Maps2)-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B%D0%BF%D0%BE%D0%BC%D0%B5%D1%82%D0%BA%D0%B0%D0%BC|возможность отображать потенциальных клиентов на карте по меткам]].
  * ''Paysys''. Добавлен [[http://abills.net.ua:8090/display/AB/NovaPay|модуль для платёжной системы NovaPay]].
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211400#id-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B-%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%BF%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0|возможность назначать потенциальному клиенту адрес через журнал адресов, или по старой схеме "адрес в строке"]].
  * Добавлено отображение последнего пополнения/снятия в [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258914|карточке абонента]] в виде стрелочки возле депозита.
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=61833331|возможность работы с конкурентами]].
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=61833331|Конкуренты]]: добавлена возможность привязывать конкурентов к адресам.
  * Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=49807907| возможность ограничения периода просмотра финансовых операций в кабинете пользователя]].
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897662#id-%D0%9A%D0%BE%D0%BD%D0%BA%D1%83%D1%80%D0%B5%D0%BD%D1%82%D1%8B:%D0%BE%D1%82%D1%87%D1%91%D1%82%D1%8B-%D0%9F%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B8|Отчёт>CRM>Конкуренты>Пользователи: добавлена возможность перехода на список пользователей конкурента]].
  * ''Crm''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897662|отчёт по конкурентам]].
  * ''Storage''. Добавлена возможность экспорта отчёта "Остатки".
  * ''Msgs''. Добавлена колонка "Последняя активность" в кабинете абонента.
  * ''Storage''. Добавлено лог объединения товара.
  * ''Internet''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319696|возможность привязки тарифного плана к группе]].
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897601|возможность массового добавления потенциальных клиентов]].
  * Добавлена возможность менять размер шрифтов в кабинете администратора (настраивается в профиле).

<accordion title="20210506"><panel title="MySQL"><code mysql>
CREATE TABLE IF NOT EXISTS `crm_tp_info_fields` (
  `id`          TINYINT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `name`        VARCHAR(60)          NOT NULL DEFAULT '',
  `sql_field`   VARCHAR(60)          NOT NULL DEFAULT '',
  `type`        TINYINT(2) UNSIGNED  NOT NULL DEFAULT 0,
  `priority`    TINYINT(1) UNSIGNED  NOT NULL DEFAULT 0,
  `comment`     VARCHAR(60)          NOT NULL DEFAULT '',
  `pattern`     VARCHAR(60)          NOT NULL DEFAULT '',
  `title`       VARCHAR(255)         NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY (`name`),
  UNIQUE KEY (`sql_field`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Crm Tariff plans info fields';

RENAME TABLE `payments_spool` TO `payments_pool`;

ALTER TABLE `payments_pool` DROP COLUMN `date`;
ALTER TABLE `payments_pool` DROP COLUMN `sum`;
ALTER TABLE `payments_pool` DROP COLUMN `dsc`;
ALTER TABLE `payments_pool` DROP COLUMN `uid`;
ALTER TABLE `payments_pool` DROP COLUMN `method`;
ALTER TABLE `payments_pool` DROP COLUMN `ext_id`;
ALTER TABLE `payments_pool` DROP COLUMN `bill_id`;
ALTER TABLE `payments_pool` DROP COLUMN `currency`;
ALTER TABLE `payments_pool` ADD COLUMN `payment_id` varchar(28) NOT NULL DEFAULT '';
ALTER TABLE `payments_pool` ADD COLUMN  `status` TINYINT(1) UNSIGNED  NOT NULL DEFAULT '0';
ALTER TABLE `payments_pool` DROP KEY `date`;
ALTER TABLE `payments_pool` DROP KEY `uid`;
ALTER TABLE `payments_pool` DROP KEY `ext_id`;
ALTER TABLE `payments_pool` ADD KEY `payment_id` (`payment_id`);


ALTER TABLE equipment_mac_log ADD PRIMARY KEY(id);
ALTER TABLE equipment_mac_log DROP INDEX id;

ALTER TABLE `cablecat_commutation_cables` ADD COLUMN `commutation_x` double(6,2) DEFAULT NULL;
ALTER TABLE `cablecat_commutation_cables` ADD COLUMN `commutation_y` double(6,2) DEFAULT NULL;
ALTER TABLE `cablecat_commutation_cables` ADD COLUMN `id` INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY;
ALTER TABLE `cablecat_commutation_cables` ADD COLUMN `position` VARCHAR(10) NOT NULL DEFAULT '';

ALTER TABLE equipment_models ADD COLUMN epon_supported_onus SMALLINT(4) UNSIGNED;
ALTER TABLE equipment_models ADD COLUMN gpon_supported_onus SMALLINT(4) UNSIGNED;
ALTER TABLE equipment_models ADD COLUMN gepon_supported_onus SMALLINT(4) UNSIGNED;
UPDATE equipment_models SET gpon_supported_onus = 64 WHERE id = 262;

UPDATE equipment_models SET snmp_tpl = 'dlink.snmp' WHERE id = 123;
UPDATE equipment_models SET snmp_tpl = 'dlink.snmp' WHERE id = 149;
UPDATE equipment_models SET snmp_tpl = 'dlink_des_1210_28_me_b3.snmp' WHERE id = 205;
</code></panel></accordion>

31.03.2021
  * ''Iptv''. Trinity TV. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4980783|возможность авторизации по коду]].
  * ''Equipment''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258991|параметр конфига $conf{EQUIPMENT_INFO_SNMP_TIMEOUT}]], который настраивает таймаут для SNMP-запросов к оборудованию с веб-интерфейса (Обслуживание>Оборудование>Устройство).
  * ''Internet''. Добавлен параметр [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504049|$conf{hard_simultaneously_control_skip_nas}=1]] (для работы совместно с $conf{hard_simultaneously_control}=1)- проверка повторяющихся логинов на всех серверах доступа (по умолчанию проверка идет только на текущем).
  * Telegram bot: добавлен плагин для Sender.
  * ''Equipment''. Теперь при удалении оборудования с БД удаляются все связанные с ним данные.
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=63897638|ЕРИП]]: в .202 файлы добавлена сумма задолжености.
  * Поправлены формы входа в Кабинет администратора и пользователя.
  * ''Msgs''. Поправлено дизайн: выпадающий список открытых/ответственных тикетов.
  * Поправлено меню в кабинете пользователя.
  * ''Tags''. Добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404221|возможность указать цвет метке]].
  * ''Crm''. Поправлено шаблоны работы с лидами.
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=61833331#id-Конкуренты-Тарифныепланыконкурентов|возможность вести работу с тарифными планами конкурентов]].
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503983|Мониторинг>Интернет+]]: добавлен столбец "NAS IP", возможность при клике по IP перейти на соответствующее оборудование, если есть.
  * ''Paysys''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816372#id-%D0%92%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%B5%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B%D0%B4%D0%BB%D1%8F%D0%BE%D0%BF%D0%BB%D0%B0%D1%82%D1%8B-JuniperMx|возможность открывать гостевому абоненту временный доступ на пополнение на Juniper]].

<accordion title="20210331"><panel title="MySQL"><code mysql>
ALTER TABLE `crm_leads` ADD `competitor_id` INT(10) UNSIGNED NOT NULL DEFAULT 0;
ALTER TABLE `crm_leads` ADD `tp_id` INT(10) UNSIGNED NOT NULL DEFAULT 0;
ALTER TABLE `crm_leads` ADD `assessment` TINYINT(4) UNSIGNED NOT NULL DEFAULT '0';

ALTER TABLE `crm_leads` ADD KEY competitor_id (`competitor_id`);

UPDATE equipment_models SET snmp_tpl = 'gcom.snmp' WHERE vendor_id = 33 AND snmp_tpl = '';

ALTER TABLE `paysys_main` ADD `order_id` varchar(24) NOT NULL DEFAULT '';

CREATE TABLE IF NOT EXISTS `tp_groups_users_groups` (
  `id`          SMALLINT(6) UNSIGNED NOT NULL AUTO_INCREMENT,
  `tp_gid`      SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  `gid`         SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `tp_gid` (`tp_gid`),
  KEY `gid` (`gid`)
  )
  DEFAULT CHARSET = utf8
  COMMENT = 'Users groups for Tarif Plans Groups';
  
  
</code></panel></accordion>

23.02.2021
  * Добавлен [[http://abills.net.ua:8090/display/AB/Viber+bot|Viber bot]].
  * ''Ureports''. Исправлены несоответствия ID тарифных планов (у тарифного плана было два разных ID в разных местах).
  * ''Ureports''. Исправлена ошибка: когда абонент с ЛК редактировал свои отчёты, его отчёты с выключенной галочкой "Управление абонентом" исчезали.
  * ''Ureports''. Исправлена ошибка, когда на странице "Пользователи" тарифа отображались не только пользователи этого тарифа, но и все пользователи Ureports.
  * ''Docs''. Добавлена [[http://abills.net.ua:8090/display/AB/Docs|возможность добавления оплаты пользователю считыванием QR-кода (параметр $conf{DOCS_QR_CODE})]].
  * ''Iptv''. Приведена к одной схеме работа каналов.
  * Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9306188|возможность добавлять комментарии к контактам абонента]].
  * ''Cams''. Trassir: Добавлена [[http://abills.net.ua:8090/display/AB/Trassir#Trassir-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%BF%D0%BE%D1%82%D0%BE%D0%BA%D0%B0%D0%B2%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B5HLS|поддержка HLS]].
  * ''Paysys''. Модуль [[http://abills.net.ua:8090/pages/viewpage.action?pageId=28868613|Сбербанк]]: добавлена возможность оплат на несколько контрагентов.
  * ''Paysys''. Модуль [[http://abills.net.ua:8090/display/AB/Concord|Concord]]: добавлена возможность просмотра выписок и внесения нераспознанных платежей.
  * ''Ureports''. Исправлена работа резиновых полей в списке ТП.
  * ''Msgs''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258809#id-%D0%9F%D1%80%D0%B8%D0%B2%D1%8F%D0%B7%D0%BA%D0%B0%D0%BA%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%BC-%D0%9E%D1%82%D1%87%D1%91%D1%82%D0%BE%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%85%D0%BD%D0%B0%D0%B4%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8|отчёт по видам работ]].
  * ''Internet''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504045#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D1%83%D1%81%D0%BB%D1%83%D0%B3%D0%BE%D0%B9-%D0%98%D0%BC%D0%BF%D0%BE%D1%80%D1%82%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9|возможность импорта абонентов]].
  * ''Msgs''. Добавлено доп. поле "Исполнители". В данном поле отображаются администраторы на которых есть Работы по этому тикету ([[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952484|плагин Msgs_works]]).
  * ''Ureports''. Добавлены [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601367|ежемесячные снятия]].
  * ''Paysys''. Проведён рефакторинг модуля [[http://abills.net.ua:8090/display/AB/Click|Click]].
  * ''Accident''. Добавлено [[http://abills.net.ua:8090/display/AB/Accident#Accident-%D0%9E%D0%BF%D0%BE%D0%B2%D0%B5%D1%89%D0%B5%D0%BD%D0%B8%D0%B5%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F%D0%BE%D0%B0%D0%B2%D0%B0%D1%80%D0%B8%D0%B8|оповещение пользователя о аварии через Telegram или Viber]].
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504045#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D1%83%D1%81%D0%BB%D1%83%D0%B3%D0%BE%D0%B9-%D0%9F%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C%22%D0%9E%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%22|Панель "Оборудование" в карточке абонента: добавлена кнопка перезагрузки панели]].
  * ''Equipment''. Страница ONU: теперь кнопка незарегистрированных ONU (их количество) загружается через AJAX.
  * ''Paysys''. Добавлена проверка зачисления средств модуля [[http://abills.net.ua:8090/display/AB/Paymaster+RU|Paymaster RU]].
  * ''Equipment''. Добавлена возможность отображать информацию по оборудованию для второго (и последующих) Интернет+ сервисов абонента.
  * ''Internet''. Добавлен поиск в мониторинге по всем полям, если не выбрано поле для поиска.
  * ''Paysys''. Проведён рефакторинг модуля [[http://abills.net.ua:8090/display/AB/Payme|Payme]].
  * ''Paysys''. Проведён рефакторинг модуля [[http://abills.net.ua:8090/display/AB/Paynet|Paynet]].
  * ''Paysys''. Добавлена [[http://abills.net.ua:8090/display/AB/Paysys|возможность скрытия части ФИО в терминале (параметр $conf{FIO_HIDEN})]].
  * ''Paysys''. Добавлен [[http://abills.net.ua:8090/display/AB/UPAY|модуль для платёжной системы UPAY]].
  * ''Internet''. Статистика на абоненте: добавлена маркировка гостевых сессий.

<accordion title="20210223"><panel title="MySQL"><code mysql>
ALTER TABLE msgs_messages ADD send_type SMALLINT (6) UNSIGNED DEFAULT 0 NULL;
ALTER TABLE ureports_tp ADD last_active DATE DEFAULT '0000-00-00';

CREATE TABLE IF NOT EXISTS `crm_competitors` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(64) NOT NULL DEFAULT '',
  `connection_type` VARCHAR(32) NOT NULL DEFAULT '',
  `site` VARCHAR(150) NOT NULL DEFAULT '',
  `descr` TEXT NOT NULL,
  PRIMARY KEY (`id`)
)
  DEFAULT CHARSET=utf8 COMMENT = 'Crm Competitors';

CREATE TABLE IF NOT EXISTS `crm_competitors_tps` (
  `id`            INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `name`          VARCHAR(64) NOT NULL DEFAULT '',
  `speed`         INT(10) UNSIGNED NOT NULL DEFAULT '0',
  `month_fee`     DOUBLE(14, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `day_fee`       DOUBLE(14, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `competitor_id` INT(10) UNSIGNED NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`),
  KEY `competitor_id` (`competitor_id`)
)
  DEFAULT CHARSET=utf8 COMMENT = 'Crm Competitors tps';

CREATE TABLE IF NOT EXISTS `crm_competitor_geolocation` (
  `competitor_id` SMALLINT(5) UNSIGNED DEFAULT '0' NOT NULL,
  `district_id`   SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL,
  `street_id`     SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL,
  `build_id`      SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL
)
  DEFAULT CHARSET=utf8 COMMENT = 'Geolocation of competitor';

CREATE TABLE IF NOT EXISTS `crm_competitor_tps_geolocation` (
  `tp_id`       SMALLINT(5) UNSIGNED DEFAULT '0' NOT NULL,
  `district_id` SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL,
  `street_id`   SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL,
  `build_id`    SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL
)
  DEFAULT CHARSET=utf8 COMMENT = 'Geolocation of competitor tps';


CREATE TABLE `payments_spool` (
  `date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `sum` double(10,2) NOT NULL DEFAULT '0.00',
  `dsc` varchar(80) DEFAULT NULL,
  `uid` int(11) unsigned NOT NULL DEFAULT '0',
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `method` tinyint(4) unsigned NOT NULL DEFAULT '0',
  `ext_id` varchar(28) NOT NULL DEFAULT '',
  `bill_id` int(11) unsigned NOT NULL DEFAULT '0',
  `currency` smallint(5) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `date` (`date`),
  KEY `uid` (`uid`),
  KEY `ext_id` (`ext_id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8 COMMENT='Payments log spool';

ALTER TABLE `crm_leads` ADD `build_id` INTEGER(11) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `crm_leads` ADD `address_flat` VARCHAR(10) NOT NULL DEFAULT '';

ALTER TABLE `tags` ADD `color` VARCHAR(7) NOT NULL DEFAULT '';
ALTER TABLE `internet_log` ADD `guest` TINYINT(1) UNSIGNED  NOT NULL DEFAULT '0';

DELETE i FROM equipment_infos i LEFT JOIN nas n ON i.nas_id = n.id WHERE n.id IS NULL;
DELETE p FROM equipment_pon_ports p LEFT JOIN equipment_infos i ON p.nas_id = i.nas_id WHERE i.nas_id IS NULL;
DELETE onu FROM equipment_pon_onu onu LEFT JOIN equipment_pon_ports p ON onu.port_id = p.id WHERE p.id IS NULL;
DELETE tr_069 FROM equipment_tr_069_settings tr_069 LEFT JOIN equipment_pon_onu onu ON tr_069.onu_id = onu.id WHERE onu.id IS NULL;
DELETE p FROM equipment_ports p LEFT JOIN equipment_infos i ON p.nas_id = i.nas_id WHERE i.nas_id IS NULL;
UPDATE equipment_ports p LEFT JOIN equipment_infos i ON p.uplink = i.nas_id SET p.uplink = 0 WHERE i.nas_id IS NULL AND p.uplink <> 0;
DELETE ml FROM equipment_mac_log ml LEFT JOIN equipment_infos i ON ml.nas_id = i.nas_id WHERE i.nas_id IS NULL;
DELETE pl FROM equipment_ping_log pl LEFT JOIN equipment_infos i ON pl.nas_id = i.nas_id WHERE i.nas_id IS NULL;
DELETE g FROM equipment_graphs g LEFT JOIN equipment_infos i ON g.nas_id = i.nas_id WHERE i.nas_id IS NULL;
DELETE b FROM equipment_backup b LEFT JOIN equipment_infos i ON b.nas_id = i.nas_id WHERE i.nas_id IS NULL;
</code></panel></accordion>

11.02.2021
<accordion title="20210211"><panel title="MySQL"><code mysql>
ALTER TABLE internet_log ADD guest TINYINT(1) UNSIGNED  NOT NULL DEFAULT '0';
</code></panel></accordion>

20.01.2021
  * **Интерфейс переведён на AdminLTE 3. Чтобы все корректно заработало надо очистить кэш браузера.**
  * ''Msgs''. Исправлена вставка ссылок с кириллицей.
  * ''Paysys''. Добавлена возможность работы с [[http://abills.net.ua:8090/display/AB/MonoBank|Monobank]] по протоколу A-Bank.
  * ''Msgs''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952484#id-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8BMsgs-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8B%D0%B2%D0%BA%D0%BE%D0%BB%D0%BE%D0%BD%D0%BA%D0%B5%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5|плагин "Дополнительная информация о заявке"]].
  * ''Msgs''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952484#id-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8BMsgs-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8B%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D1%8B%D0%B5%D1%81%D1%80%D0%B0%D0%B1%D0%B0%D1%82%D1%8B%D0%B2%D0%B0%D1%8E%D1%82%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B8|плагин "Распределение заявок в зависимости от раздела"]].
  * ''Msgs''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952484#id-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8BMsgs-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8B%D0%B2%D0%BA%D0%BE%D0%BB%D0%BE%D0%BD%D0%BA%D0%B5%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5|плагин "Отображение информации по оборудованию пользователя"]].
  * ''Msgs''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B8%D0%BF%D1%80%D0%B8%D0%BA%D1%80%D0%B5%D0%BF%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%D0%BA%D0%B4%D0%BE%D0%BC%D1%83|возможность создавать заявку, прикреплённую к дому]].
  * ''Msgs''. Исправлена ошибка, когда при отправке сообщения по адресу не прикреплялись файлы.
  * ''Sms''. Добавлен СМС-шлюз [[http://abills.net.ua:8090/display/AB/Sms#Sms-AMD|AMD]].
  * Добавлен функционал IPv6 для Juniper MX80.
  * ''Equipment''. ZTE: добавлена [[http://abills.net.ua:8090/display/AB/ZTE#ZTE-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8ONU|возможность отображения конфигурации ONU (и других данных) на странице ONU]].
  * ''Iptv''. Разработан модуль [[http://abills.net.ua:8090/display/AB/Moovi|Moovi]].
  * Улучшена форма RADIUS-пар.
  * ''Iptv''. [[http://abills.net.ua:8090/display/AB/Trinity+TV|Trinity TV]]. Добавлена возможность прикреплять примечание к устройствам клиента.
  * ''Cams''. Разработан модуль [[http://abills.net.ua:8090/display/AB/Trassir|Trassir]].
  * ''Iptv''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952045|возможность импорта абонентов]].
  * ''Paysys''. Разработан модуль Minbank для работы с новой схемой Paysys.
  * ''Equipment''. Исправлена ошибка, когда на OLT V-SOLUTION не работала перезагрузка ONU, информация по уровню сигнала.
  * ''Internet''. Добавлена возможность поиска абонентов Интернет учитывая статус логина, а также поиск абонентов, которые удалены.
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404160|Yandex Касса]] переработана на новую схему Paysys.
  * ''Cablecat''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=58785793|возможность импорта объектов (например, с Userside)]].
  * ''Cams''. Trassir: Добавлен [[http://abills.net.ua:8090/display/AB/Trassir#Trassir-%D0%9E%D1%82%D1%87%D1%91%D1%82%D0%BE%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D0%B8DVR|отчёт о состоянии DVR]].
  * ''Equipment''. Исправлена ошибка, когда неправильно работала кнопка "MAC log" на странице абонента в панели "Оборудование".
  * ''Equipment''. Добавлена опция модели оборудования [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258942|"Использовать автоматический сдвиг портов SNMP"]]. Актуально для свитчей Huawei, так как на них сдвиг портов может динамически меняться.
  * ''Equipment''. Добавлена возможность выполнять [[http://abills.net.ua:8090/pages/viewpage.action?pageId=53641248|тест кабеля]] на свитчах.
  * API. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54951944#RESTfullJSONAPI%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D1%8CAbon|поддержка модуля Abon]].
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319701|Теперь, если у пользователя указана геолокация (адрес), и за этим адресом есть группы ТП, тогда при добавлении и изменении ТП будут отображаться только ТП, группы которых имеют геолокацию как у клиента]].
  * ''Sms''. Исправлена ошибка, когда при переводе через SMS-операции достаточной суммы денег абоненту со статусом "Слишком маленький депозит" статус интернет-тарифа становился "Активно", но деньги за активацию тарифа не снимались.
  * ''Cards''. Исправлена ошибка, когда карты пополнения всегда искались по дате, даже если пользователь не вводил дату.
  * API. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54951944#RESTfullJSONAPI%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%A0%D0%BE%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0%D0%BC%D0%B8|возможность завести абонента через API]].
  * ''Rwizard''. Добавлен отчёт по типам списания.

<accordion title="20210120"><panel title="MySQL"><code mysql>
ALTER TABLE `msgs_messages` ADD COLUMN `plan_interval` SMALLINT(6) DEFAULT 0;
ALTER TABLE `msgs_messages` ADD COLUMN `plan_position` SMALLINT(6) DEFAULT 0;
UPDATE equipment_models SET snmp_tpl = 'dlink.snmp' WHERE id = 101;
UPDATE equipment_models SET snmp_tpl = 'dlink_des_3526.snmp' WHERE id = 102;
UPDATE equipment_models SET snmp_tpl = 'dlink.snmp' WHERE id = 105;
UPDATE equipment_models SET snmp_tpl = 'dlink.snmp' WHERE id = 109;
UPDATE equipment_models SET snmp_tpl = 'dlink.snmp' WHERE id = 110;
UPDATE equipment_models SET snmp_tpl = 'dlink.snmp' WHERE id = 111;
UPDATE equipment_models SET snmp_tpl = 'dlink_dgs_3120_24sc.snmp' WHERE id = 124;
UPDATE equipment_models SET snmp_tpl = 'dlink_des_3200_28f.snmp' WHERE id = 148;
UPDATE equipment_models SET snmp_tpl = 'dlink.snmp' WHERE id = 210;
UPDATE equipment_models SET snmp_tpl = 'dlink_des_3200_28f.snmp' WHERE id = 258;

UPDATE equipment_models SET snmp_tpl = 'huawei_switch.snmp' WHERE id = 185;

UPDATE equipment_models SET snmp_tpl = 'cdata.snmp' WHERE id = 239;
UPDATE equipment_models SET snmp_tpl = 'cdata_fd1216s.snmp' WHERE id = 279;

UPDATE equipment_models SET snmp_tpl = 'edge_core.snmp' WHERE id = 113;
UPDATE equipment_models SET snmp_tpl = 'edge_core.snmp' WHERE id = 158;

UPDATE equipment_models SET auto_port_shift = 1 WHERE id = 185;

ALTER TABLE `equipment_models` ADD COLUMN `fdb_uses_port_number_index` TINYINT(1) NOT NULL DEFAULT 0 AFTER `auto_port_shift`;
UPDATE equipment_models SET fdb_uses_port_number_index = 1 WHERE id = 185;
UPDATE equipment_models SET fdb_uses_port_number_index = 1 WHERE id = 297;

ALTER TABLE `events`
  MODIFY COLUMN `extra` varchar(256) NOT NULL DEFAULT '';
</code></panel></accordion>

====0.84====
07.12.2020
  * Mikrotik. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504024#id-%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8FInternet+-ARPPing%D0%B4%D0%BB%D1%8Fmikrotik|Расширенная диагностика]]: добавлено отображение скорости шейпера.
  * ''Equipment''. [[http://abills.net.ua:8090/display/AB/PON+GRabber|PON Grabber]]: добавлен параметр QUERY_OIDS, который позволяет запрашивать отдельные данные (например, только статус ONU и ONU RX Power), вместо того, чтобы запрашивать все.
  * Добавлена возможность ограничивать администратору типы оплат, которые администратор может добавлять.
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Concord|Платёжная система Concord]]: добавлен модуль для выгрузки выписок.
  * Добавлена возможность обмена биллинга с СОРМ от "НОРСИ ТРАНС"
  * Отчёт>События. Теперь при изменении адреса абонента в логе отображаются не системные ID адресов, а сами адреса.
  * Настройка>Администраторы>История. Исправлен и улучшен поиск.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816174|Настройки>Другое>Вид оплат]]. Добавлена возможность вручную задавать ID при создании вида оплат.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%9F%D0%BE%D0%B8%D1%81%D0%BA%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D0%B9|Обслуживание/Сообщения/Поиск]]. Исправлен выбор меток в поле Состояние.
  * ''Storage''. Исправлены права на удаление оборудования.
  * ''Equipment''. Теперь на странице ONU отображается логин абонента, к которому она привязана.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319718|Поиск пользователей]]. Добавлена возможность искать пользователей, у которых есть все заданные метки, задав список меток с логическим оператором "И".
  * ''Employees''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211389|При добавлении кассы появилась возможность привязать кассу к администратору]].
  * ''Equipment''. В карточке абонента данные про оборудование теперь загружаются через AJAX, что ускоряет загрузку страницы.
  * ''Sms''. Добавлен СМС-шлюз [[http://abills.net.ua:8090/display/AB/Sms#Sms-WebSms|WebSms]].
  * ''Msgs''. Обслуживание>Сообщения>Рассылка: исправлено разбиение списка на страницы.
  * Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952372|документация по брендированию]].
  * ''Storage''. Исправлен отчёт продажи товара в рассрочку.
  * ''Msgs''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952496|возможность активировать/отключать плагины, изменять их приоритет]].
  * ''Crm''. Добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211400#id-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B-%D0%9F%D1%80%D0%B0%D0%B2%D0%B0%D0%B0%D0%B4%D0%BC%D0%B8%D0%BD%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%B0%D0%BD%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%BF%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%BE%D0%B2|право доступа администратора на просмотр и добавление потенциальных клиентов]].
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601185#id-%D0%91%D1%8B%D1%81%D1%82%D1%80%D1%8B%D0%B5%D0%BE%D1%82%D1%87%D0%B5%D1%82%D1%8B%D0%BF%D0%BE%D0%BE%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8E%D0%B4%D0%BB%D1%8F%D0%BF%D0%B5%D1%80%D0%B2%D0%BE%D0%B9%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D1%8B-%D0%9E%D1%82%D1%87%D1%91%D1%82%D0%BF%D0%BE%D0%BD%D0%B5%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%BCONU|Быстрый отчёт по незарегистрированным ONU]] теперь загружается через AJAX, что ускоряет загрузку страницы.
  * Добавлена поддержка нового API [[http://abills.net.ua:8090/display/AB/Google|авторизации через Google]], так как старое уже не актуально.
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Liqpay#Liqpay-%D0%9F%D0%BE%D0%B4%D0%BF%D0%B8%D1%81%D0%BA%D0%B0Liqpay|Liqpay]]: доработан функционал изменения подписки через periodic.
  * ''Paysys''. Добавлены тесты для модуля Ощадбанк.
  * Сделано [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952194|приложение для монтажников]].
  * ''Equipment''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952346|интеграция с CATV]].
  * ''Internet''. Отчёт>Интернет+>Тарифные планы: добавлен фильтр по группам абонентов.
  * ''Sms''. Добавлена [[http://abills.net.ua:8090/display/AB/Sms#Sms-SmsCallback|СМС-операция включения/отключения оповещений (Ureports)]].
  * ''Cablecat''. Добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=58785793|форму импорта узлов связи]].
  * Добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601089|информационное поле]] для рассылки.
  * ''Equipment''. Обслуживание>Оборудование>Устройство, Порты, PON: исправлена ошибка, когда в количестве ONU считались даже удалённые ONU.
  * ''Msgs''. Переработана [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258795|доска задач]].
  * ''Msgs''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952484#id-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8BMsgs-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8B%D0%B2%D0%BA%D0%BE%D0%BB%D0%BE%D0%BD%D0%BA%D0%B5%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5|возможность прикреплять работы к тикету]].
  * ''Msgs''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952484#id-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8BMsgs-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8B%D0%B2%D0%BA%D0%BE%D0%BB%D0%BE%D0%BD%D0%BA%D0%B5%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5|плагин для добавления тикета на доску задач]].
  * ''Iptv''. Добавлена возможность выбора ТП при поиске пользователей.
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Fc-system|Модуль Fc-system]]: добавлены дополнительные поля.

<accordion title="20201207"><panel title="MySQL"><code mysql>
ALTER TABLE `employees_cashboxes` ADD COLUMN `aid` INT(11) UNSIGNED                 NOT NULL DEFAULT 0;

ALTER TABLE `equipment_models` DROP COLUMN `snmp_port_shift`;

ALTER TABLE `equipment_models` ADD COLUMN `auto_port_shift` TINYINT(1) NOT NULL DEFAULT 0 AFTER `port_shift`;

UPDATE equipment_models SET auto_port_shift = 1 WHERE id = 185;

ALTER TABLE `iptv_users_screens` ADD COLUMN `comment` VARCHAR(250) DEFAULT '';
</code></panel></accordion>

====0.83====
22.10.2020
  * ''Sms''. Добавлена [[http://abills.net.ua:8090/display/AB/Sms#Sms-%D0%9E%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B0%D0%A1%D0%9C%D0%A1%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0|возможность отправки абоненту SMS после регистрации]].
  * Клиенты>Компании>Администратор. Добавлено отображение названия компании.
  * Разработано приложение для iOS.
  * ''Iptv''. Доработан модуль Iptv Conax - [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35815690|предусмотрен поиск абонентов по дополнительным новым полям - номер карты ЦТВ, серийный номер ресивера ЦТВ]].
  * ''Storage''. Добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%BC%D0%BD%D0%B0%D1%81%D0%BA%D0%BB%D0%B0%D0%B4%D0%B5-%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%B0%D0%BD%D0%B0%D1%81%D0%BA%D0%BB%D0%B0%D0%B4|объединение товаров, если при добавлении уже существует такой товар]].
  * ''Sms''. Добавлен СМС-шлюз [[http://abills.net.ua:8090/display/AB/Sms#Sms-MsgAm|MsgAm]].
  * ''Callcenter''. Добавлен плагин [[http://abills.net.ua:8090/display/AB/Callcenter#Callcenter-Binotel|Binotel]].
  * ''Paysys''. Рефакторинг модуля [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601675|Privat_terminal]].
  * ''Paysys''. Исправлена ошибка, когда в Настройка>Платежные системы>Настройки контрагента, "Показать платежную систему в кабинете пользователя" при внесении изменений затирались настройки с других страниц.
  * ''Employees''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952214|возможность перемещения средств между кассами]].
  * Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523352#id-%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%9F%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F-%D0%9F%D1%80%D0%B5%D0%B4%D1%83%D0%BF%D1%80%D0%B5%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F%D0%BE%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5Cookie|возможность показывать пользователям баннер о использовании cookies]].
  * ''Iptv''. [[http://abills.net.ua:8090/display/AB/Trinity+TV|Trinity_tv]]. Добавлена проверка дубликата MAC при добавлении экрана.
  * ''Rwizard''. Добавлен фильтр по домам.
  * ''Equipment''. Исправлена ошибка, когда не удалялся сервер доступа при нажатии на кнопку удаления на странице конкретного сервера доступа.
  * ''Msgs''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952098|возможность массовой смены статуса сообщений]].
  * ''Storage''. Добавлены фильтры поиска товара из подотчётности при установке оборудования пользователю.
  * ''Storage''. Добавлено отображение оставшихся месяцев предоставленного оборудования в рассрочку.
  * ''Sms''. Добавлен СМС-шлюз [[http://abills.net.ua:8090/display/AB/Sms#Sms-Cablenet|Cablenet]].
  * ''Iptv''. При создании подписки в кабинете пользователя теперь всегда указывается дата активации.
  * ''Storage''. Добавлен фильтр по складу.
  * Добавлена возможность настраивать права администраторов на отдельные типы оплат.
  * ''Cams''. Добавлено отображение количества подписок.
  * ''Iptv''. Исправлена логика чекбоксов тарифных планов.
  * ''Storage''. Добавлена индикация окончания продажи в рассрочку.
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601675|Privat terminal]]: добавлена возможность поиска по ЄДРПОУ для юридических лиц.
  * ''Employees''. Табель работ дополнен кнопкой выбора года.
  * ''Paysys''. Добавлена функция "подписка" для платежной системы [[http://abills.net.ua:8090/display/AB/Liqpay|Liqpay]].
  * ''Paysys''. Добавлена платёжная система Ощадбанк.
  * ''Paysys''. Добавлено дублирование приходов средств на внешнюю систему.
  * ''Paysys''. Добавлена платёжная система Walletone.
  * ''Notepad''. Для заметки добавлено поле "Время".
  * ''Paysys''. Добавлен отчёт для платежной системы [[http://abills.net.ua:8090/display/AB/Ipay|Ipay]]. Меню Отчёт>Платежные системы>Внутренние отчеты.
  * ''Paysys''. Добавлен отчёт для платежной системы [[http://abills.net.ua:8090/display/AB/Ibox|Ibox]]. Меню Отчёт>Платежные системы>Внутренние отчеты.
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Paymaster+RU|Paymaster]]: Добавлена поддержка рекуррентных платежей.
  * ''Sms''. [[http://abills.net.ua:8090/display/AB/Sms#Sms-Omnicell|Omnicell: реализована отправка на Viber]].
  * ''Paysys''. Добавлена платёжная система [[http://abills.net.ua:8090/display/AB/CardPay.pm|CardPay]].
  * ''Sms''. [[http://abills.net.ua:8090/display/AB/Sms#Sms-Turbosms|Turbosms: реализована отправка на Viber]].
  * ''Paysys''. Добавлена поддержка рекурентных (регулярных) платежей и подписка для [[http://abills.net.ua:8090/display/AB/Liqpay|LiqPay]].
  * ''Paysys''. Платёжный модуль Telcell.pm переведён на новую схему.
  * ''Iptv''. Microimpuls. Добавлена [[http://abills.net.ua:8090/display/AB/Microimpuls#Microimpuls-%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%D0%BD%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE%D0%B0%D0%BA%D0%BA%D0%B0%D1%83%D0%BD%D1%82%D0%B0%D0%BF%D1%80%D0%B8%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B8%D0%BF%D0%BE%D0%B4%D0%BF%D0%B8%D1%81%D0%BA%D0%B8%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8E|возможность создавать несколько аккаунтов]].
  * ''Paysys''. Добавлена платёжная система Armenian Card.
  * ''Paysys''. Добавлена платёжная система IDRAM.
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Paymaster+RU|Paymaster]]: добавлена возможность при оплате отправлять дополнительные данные для предоставления чека и отправка его на e-mail (правила РФ).
  * ''Paysys''. Теперь при негативном депозите в портале абонента отображаются кнопки только тех платёжных систем, которые доступные для оплаты.
  * ''Paysys''. Добавлен скрипт для включения и выключения интернета при негативном депозите на определенное время для осуществления оплаты.
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=31883490|Usmp]]: добавлена возможность оплаты с портала абонента.
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504049#id-%D0%A2%D0%B0%D1%80%D0%B8%D1%84%D0%BD%D1%8B%D0%B5%D0%BF%D0%BB%D0%B0%D0%BD%D1%8B-%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB%D1%8B|Тарифные планы>Интервалы - форматирование чисел скорости и трафика изменено на более читаемое]].
  * ''Paysys''. Добавлен отчёт для платежной системы [[http://abills.net.ua:8090/pages/viewpage.action?pageId=21725187|City24]]. Меню Отчёт>Платежные системы>Внутренние отчеты.
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601675|Privat terminal]]: исправлены оплаты, если абонент в группе с id=0.
  * ''Internet''. Теперь игнорируемые IP учитываются при ручном присваивании.
  * Добавлена возможность искать пользователей, не учитывая удалённых.
  * ''Sqlcmd''. Добавлена [[http://abills.net.ua:8090/display/AB/Sqlcmd|возможность мониторить использование памяти mysqld]].
  * Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258914#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%BC-%D0%A3%D0%B4%D0%B0%D0%BB%D0%B8%D1%82%D1%8C|возможность при удалении абонента автоматически добавлять к его логину заданный суффикс, возможно, с датой удаления]].
  * ''Storage''. Если оплата в рассрочку окончена, то она больше не отображается в баннере.
  * ''Employees''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211394|возможность выбора типа оплат прихода кассы по умолчанию]]. Данный тип будет отображаться при оплате абонента в кассе.
  * ''Sqlcmd''. Настройка>SQL Консоль>Таблицы. Исправлена ошибка, когда нельзя было включить сортировку по убыванию.
  * Исправлена ошибка, когда невозможно было отключить все быстрые отчёты.
  * Кнопка авторизации через Google изменена в соответствии с требованиями Google.
  * ''Internet''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503987#id-%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8B-%D0%9E%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5CID%D0%B8%D0%B7%D0%B6%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B0Online|billd-плагин обновления CID из таблицы online]].
  * ''Internet''. Улучшен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35815950|модуль синхронизации сессий для IPoE]].

<accordion title="20201022"><panel title="MySQL"><code mysql>
CREATE TABLE IF NOT EXISTS `employees_cashboxes_moving`
(
    `id`              SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL,
    `amount`          DOUBLE(10, 2)                    NOT NULL DEFAULT 0.00,
    `moving_type_id`  SMALLINT UNSIGNED                NOT NULL DEFAULT 0,
    `cashbox_spending`SMALLINT UNSIGNED                NOT NULL DEFAULT 0,
    `id_spending`     SMALLINT(6) UNSIGNED             NOT NULL DEFAULT 0,
    `cashbox_coming`  SMALLINT UNSIGNED                NOT NULL DEFAULT 0,
    `id_coming`       SMALLINT(6) UNSIGNED             NOT NULL DEFAULT 0,
    `date`            DATE                             NOT NULL DEFAULT '0000-00-00',
    `aid`             SMALLINT(6) UNSIGNED             NOT NULL DEFAULT 0,
    `comments`        TEXT,
    PRIMARY KEY (`id`),
    KEY `aid` (`aid`)
)
    DEFAULT CHARSET = utf8
    COMMENT = 'Moving';

CREATE TABLE IF NOT EXISTS `employees_moving_types`
(
    `id`       SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL,
    `name`     CHAR(40)                         NOT NULL,
    `spending_type` TINYINT(4) UNSIGNED NOT NULL DEFAULT 0,
    `coming_type` TINYINT(4) UNSIGNED NOT NULL DEFAULT 0,
    `comments` TEXT,
    PRIMARY KEY (`id`)
) COMMENT = 'Moving types';

ALTER TABLE `employees_coming_types` ADD COLUMN `default_coming` TINYINT(3) UNSIGNED NOT NULL DEFAULT 0;
</code></panel></accordion>

30.09.2020
  * ''Internet''. Исправлено отображение IP Pools в Отчёте.
  * ''Sms''. Отчёт>Sms>Личные: добавлен фильтр по номеру телефона.
  * ''Equipment''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=49807497|billd-плагин для автоматической регистрации ONU на Huawei]].

<accordion title="20200930"><panel title="MySQL"><code mysql>
CREATE TABLE IF NOT EXISTS `paysys_city24_report` (
  `id`             SMALLINT UNSIGNED      NOT NULL AUTO_INCREMENT,
  `sum`            DOUBLE(10, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `date`           DATETIME               NOT NULL DEFAULT '0000-00-00 00:00:00',
  `transaction_id` VARCHAR(24)            NOT NULL DEFAULT '',
  `user_key`       VARCHAR(16)            NOT NULL DEFAULT '',
  PRIMARY KEY `id` (`id`),
  UNIQUE `transaction_id` (`transaction_id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Paysys city24 report';
  
CREATE TABLE IF NOT EXISTS `admins_payments_types` (
  id               INT         UNSIGNED NOT NULL AUTO_INCREMENT,
  payments_type_id TINYINT(4)  UNSIGNED NOT NULL DEFAULT '0',
  aid              SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  PRIMARY KEY (id),
  KEY `payments_type_id` (`payments_type_id`),
  KEY `aid` (`aid`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Allowed payments types for admins';
</code></panel></accordion>

08.09.2020
  * ''Msgs''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54951966|канбан сообщений]].
  * Добавлена возможность [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523360#id-%D0%9E%D1%82%D0%BA%D1%80%D1%8B%D1%82%D0%B8%D0%B5%D0%BA%D1%80%D0%B5%D0%B4%D0%B8%D1%82%D0%B0%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%BC-%D0%90%D0%BA%D1%82%D0%B8%D0%B2%D0%B0%D1%86%D0%B8%D1%8F%D0%BA%D1%80%D0%B5%D0%B4%D0%B8%D1%82%D0%B0%D0%BD%D0%B0%D0%B2%D1%81%D0%B5%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0|активации кредита на все сервисы абонента]].
  * ''Msgs''. Кнопка "Цитата" теперь не перезагружает страницу для того, чтобы вставить цитату.
  * ''Sharing''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601102#id-%D0%94%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B8%D1%81%D0%BA%D0%B0%D1%87%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2-%D0%A1%D0%BA%D0%B0%D1%87%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2|возможность отображать файлы в клиентском кабинете в виде списка]].
  * Исправлена работа [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403583#id-%D0%A4%D0%B0%D0%B9%D0%BB%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8-%D0%94%D1%80%D1%83%D0%B3%D0%B8%D0%B5%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8|функционала технических работ (параметр конфигурационного файла $conf{tech_works})]].
  * ''Userportal''. В разделе "Телевидение" добавлена возможность отображения дополнительных полей "Абон.плата за месяц" и "Дневная а/п".
  * Реализована возможность [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816174|"Одноразовые услуги": однократная, одновременная оплата и списание денежных средств за услугу]].
  * ''Accident''. Добавлена [[http://abills.net.ua:8090/display/AB/Accident#Accident-%D0%96%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B0%D0%B2%D0%B0%D1%80%D0%B8%D0%B9-%D0%9F%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C|возможность отображения аварий по адресу абонента с карточки абонента]].
  * Исправлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258914#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%BC-%D0%9A%D0%BD%D0%BE%D0%BF%D0%BA%D0%B0%D0%B1%D1%8B%D1%81%D1%82%D1%80%D0%BE%D0%B3%D0%BE%D0%B2%D1%85%D0%BE%D0%B4%D0%B0%D0%B2%D0%BA%D0%B0%D0%B1%D0%B8%D0%BD%D0%B5%D1%82%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0|ошибка, когда нельзя было перейти в личный кабинет абонента с карточки абонента в админке, когда была настроена авторизация абонента по параметру, отличному от LOGIN]].
  * ''Msgs''. Добавлена возможность назначать ответственного по разделу. Тогда, когда в этот раздел отправляется сообщение, ответственный назначается ему автоматически.
  * Группы. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258908|возможность запретить для группы оплату через кассу]].
  * ''Paysys''. Улучшено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816709|введение настроек]].
  * ''Paysys''. Платежный модуль [[http://abills.net.ua:8090/display/AB/Global_Money.pm|Global_Money]]: добавлена возможность функции Balance (проверка задолженности Global_Money перед провайдером).
  * ''Sms''. [[http://abills.net.ua:8090/display/AB/Sms#Sms-Turbosms|Turbosms: добавлена возможность синхронизировать статусы сообщений с базой данных Turbosms]].
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4030581|Шаблоны системы]]. Теперь, если используются кастомные шаблоны, при обновлении отслеживается изменение оригиналов шаблонов. Если оригинал изменился - администратору отправляется оповещение.
  *  ''Paysys''. Сбербанк Онлайн: теперь при оплате с терминала передаётся рекомендованная сумма оплаты.
  * ''Iptv''. Добавлены отчёты для отт провайдеров.
  * ''Ureports''. исправлены дублирующиеся/неправильно работающие пункты меню.
  * ''Equipment''. Bdcom: добавлена [[http://abills.net.ua:8090/display/AB/BDCOM#BDCOM-%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5ONU%D1%81BDCOM|возможность удалять ONU с OLT]].
  * Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=1278359#id-%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%D1%82%D0%B0%D1%80%D0%B8%D1%84%D0%BD%D1%8B%D1%85%D0%BF%D0%BB%D0%B0%D0%BD%D0%BE%D0%B2-%D0%92%D0%BD%D0%B5%D1%88%D0%BD%D1%8F%D1%8F%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0|возможность задавать внешний обработчик при заведении и приостановке услуг]].
  * Исправлена ошибка, когда, если администратору ограничено "Максимальное число строк поиска", то перейдя в Отчёт>Интернет+>Использовано>отчет по дням ему был доступен весь список пользователей.
  * Новое [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54951944|RESTful JSON API]] (бета).
  * ''Cablecat''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54952022|возможность отображения всех муфт (схем коммутации) в одном слое]].
  * ''Internet+''. Отчёт "Последнее подключение": добавлены фильтры по типам (AUTH, GUEST_MODE, HANGUP), по тексту в сообщении (IPOE_LOGIN_NOT_EXIST, USER_NOT_EXIST).
  * Виджет "Пользователи". Исправлена ошибка, когда не фильтровались отключенные пользователи.
  * ''Tags''. Исправлена работа модуля.
  * [[http://abills.net.ua:8090/display/AB/Telegram+Bot|Telegram Bot]]. Добавлена локализация. Теперь бот поддерживает три языка: английский, русский, украинский.
  * ''Storage''. Добавлена проверка, заполнены ли обязательные поля при добавлении товара на склад.
  * ''Storage''. Добавлено отображение администратора, который выполнил инвентаризацию.
  * ''Storage''. Добавлена возможность удалять накладные.
  * ''Storage''. Добавлена возможность указывать количество товара, перемещаемого со склада на другой склад.
  * ''Storage''. Добавлена проверка, существует ли уже введенный SN, чтобы нельзя было создать два товара с одинаковым SN.

<accordion title="20200908"><panel title="MySQL"><code mysql>
ALTER TABLE `paysys_main` ADD COLUMN `subscribe_date_start` DATE NOT NULL DEFAULT '0000-00-00';

ALTER TABLE `groups` ADD COLUMN `disable_payments` TINYINT(1) UNSIGNED  NOT NULL DEFAULT 0;

ALTER TABLE `notepad` ADD COLUMN `start_stat` TIME NOT NULL DEFAULT '00:00:00';
ALTER TABLE `notepad` ADD COLUMN `end_stat` TIME NOT NULL DEFAULT '00:00:00';
ALTER TABLE `notepad` MODIFY `show_at` DATE NOT NULL;
ALTER TABLE `payments_type` ADD COLUMN `fees_type` TINYINT(4) UNSIGNED NOT NULL DEFAULT 0;

ALTER TABLE `equipment_pon_onu` ADD KEY onu_mac_serial (`onu_mac_serial`);
ALTER TABLE `equipment_pon_ports` ADD KEY nas_id (`nas_id`);
ALTER TABLE `internet_main` ADD KEY `cpe_mac` (`cpe_mac`);
</code></panel></accordion>

04.08.2020
  * ''Paysys''. Добавлена [[http://abills.net.ua:8090/display/AB/Sberbank_online|платёжная система Sberbank online]].
  * Кредит. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523360|Добавлена ступенчатая форма кредитования]].
  * Сервера доступа. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601069#id-%D0%9F%D1%83%D0%BB%D1%8BIP%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%BE%D0%B2-%D0%98%D0%BC%D0%BF%D0%BE%D1%80%D1%82%D0%BF%D1%83%D0%BB%D0%BE%D0%B2|Добавлена возможность импорта IP-пулов с файлов в формате CSV или JSON]].
  * ''Sms''. Добавлен СМС-шлюз [[http://abills.net.ua:8090/display/AB/Sms#Sms-LikonSms|Likon Sms]].
  * Настройка>Другое>Вид Оплаты. Исправлена ошибка, когда слетал параметр "по-умолчанию" при добавлении/редактировании видов оплат.
  * Добавлена возможность [[http://abills.net.ua:8090/pages/viewpage.action?pageId=49807735|двухфакторной авторизации]] для абонента.
  * ''Paysys''. Добавлена платёжная система [[http://abills.net.ua:8090/display/AB/Internet_Plategka.pm|Internet Plategka]].
  * ''Paysys''. Добавлена платёжная система [[http://abills.net.ua:8090/display/AB/Octo.pm|Octo]] (Узбекистан).
  * ''Accident''. Исправлена ошибка, когда [[http://abills.net.ua:8090/display/AB/Accident#Accident-%D0%9F%D0%BE%D0%BB%D0%BE%D0%BC%D0%BA%D0%B0%D0%BE%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F|сообщение о поломке]] не отображалось в кабинете абонента, когда не был включен dashboard.
  * ''Iptv''. Stalker: В кабинете пользователя добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4030675#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BE%D0%B9-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%BB%D0%BE%D0%B3%D0%B8%D0%BD%D0%B0%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F%D0%B2Stalker.|отображение логина пользователя в Stalker]].
  * ''Crm''. Исправлена ошибка, когда не работала кнопка привязки существующего клиента.
  * ''Maps2''. Сделано проверку на добавление дубликата района.
  * Добавлена возможность [[http://abills.net.ua:8090/pages/viewpage.action?pageId=49807897|строгого подтверджения действия]].
  * ''Internet''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504024#id-%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8FInternet+-%D0%97%D0%B0%D0%BF%D1%80%D0%B5%D1%82%D0%B8%D1%82%D1%8C%D0%B4%D1%83%D0%B1%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2%D0%BE%D0%BF%D1%86%D0%B8%D0%B882(NAS,%D0%9F%D0%BE%D1%80%D1%82)%D1%83%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2|параметр конфига $conf{INTERNET_PROHIBIT_DUPLICATE_NAS_PORT}, который запрещает прописать абоненту дублирующийся NAS/Порт]].
  * ''Portal''. Исправлена [[http://abills.net.ua:8090/display/AB/Portal|ошибка, когда URL сохранялся без символа ":", "https://" превращался в "https//"]].
  * ''Iptv''. Исправлено работу ТП при наличии скидки у абонента.
  * ''Cablecat''. Исправлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8782014#id-%D0%A1%D1%85%D0%B5%D0%BC%D0%B0%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D1%82%D0%B0%D1%86%D0%B8%D0%B8-%D0%9F%D0%B5%D1%87%D0%B0%D1%82%D1%8C%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D1%82%D0%B0%D1%86%D0%B8%D0%B8|печать коммутации]].
  * ''Msgs''. Чат: [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601290|добавлена анимация подпрыгивания кнопки "Чат", когда поступает новое сообщение]].
  * Telegram bot. Добавлен интерфейс администратора. Теперь администратор может открыть сообщение в браузере (кнопка "Открыть сообщение"), или ответить прямо с бота (кнопка "Ответить").
  * Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8781917#id-%D0%A1%D1%82%D0%B0%D1%80%D1%82%D0%BE%D0%B2%D0%B0%D1%8F%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0-%D0%9F%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C%D0%B1%D1%8B%D1%81%D1%82%D1%80%D1%8B%D1%85%D0%BA%D0%BD%D0%BE%D0%BF%D0%BE%D0%BA|панель быстрых кнопок]].
  * ''Storage''. Добавлены [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4030512#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0%D0%BC%D0%B8-%D0%9F%D0%B5%D1%87%D0%B0%D1%82%D1%8C%D0%B4%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80%D0%B0/%D0%BA%D0%B2%D0%B8%D1%82%D0%B0%D0%BD%D1%86%D0%B8%D0%B8|дополнительные переменные для шаблонов документов (договор/квитанция)]].
  * ''Abon''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=1278359|многоуровневый доступ управления услугой в кабинете абонента (только чтение, управление услугой, не отображать)]].
  * Исправлена русская и украинская локализация главного меню интерфейса администратора (некоторые пункты были на английском языке).
  * ''Storage''. В ЛК абонента добавлено полное отображение информации по его расходам в месяц (аренда, рассрочка, периодические платежы и т.д.).
  * Добавлено сохранение настроек сортировки для таблиц.
  * ''Internet''. Для тарифных планов добавлено описание, которое видят только администраторы.
  * ''Paysys''. В настройках контрагентов checkbox заменены на элементы toggle.
  * ''Sms''. Исправлена ошибка, когда не заполнялись все поля в Клиенты>Логины>Информация>Сервисы>SMS.
  * Telegram bot. Переработан [[http://abills.net.ua:8090/display/AB/Telegram+Bot#TelegramBot-%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B1%D0%BE%D1%82%D0%B0|Telegram bot для абонента]].
  * ''Iptv''. Trinity TV: Изменено добавление ТП на Filter ID.
  * ''Abills Lite''. Исправлено падение программы на некоторых моделях устройств/версиях Android.
  * ''Msgs''. Удалена кнопка редактирования сообщения абонентом (абонент не должен иметь такой возможности).
  * Профиль. Исправлена ошибка, когда при редактировании настроек слетала настройка "Цвет".
  * ''Abon''. В поиске поле ввода тарифного плана заменено на выпадающий список.
  * ''Crm''. Клиенты>Потенциальные клиенты>Потенциальные клиенты: Исправлена ошибка, когда при работе с лидом, а потом его закрытии, всегда сбрасывало на первую страницу таблицы. Сделана сортировка по ID, по убыванию.
  * ''Maps2''. Добавлена возможность [[http://abills.net.ua:8090/pages/viewpage.action?pageId=54231044|загрузки изображения с увеличенной версией видимой карты]].
  * Добавлена ночная тема для интерфейса администратора.
  * ''Iptv''. Omega TV: [[http://abills.net.ua:8090/display/AB/Omega+TV#OmegaTV-%D0%98%D0%B7%D0%BC%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%D0%B8%D0%B4%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D1%80%D0%B0%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0|Добавлена возможность изменения идентификатора клиента с UID на Логин]].
  * ''Extfin''. Исправлено сальдо и разнесение его таблицы по страницам.
  * Исправлена ошибка, когда браузер подставлял на странице сервера доступа пароль, сохранённый на странице логина.
  * ''Iptv''. Исправлено привязку каналов после переподключения подписки.
  * ''Paysys''. Теперь в отчёт>Настройка заносятся действия связанные с Paysys: добавление, изменение и удаление платёжных систем и контрагентов, удаление настроек контрагента для групп и платежей.
  * ''Msgs''. Добавлена возможность просмотра вложения-картинки на весь экран прямо на странице сообщения.
  * ''Storage''. Исправлена ошибка, когда при возвращении товара с абонента на склад удалялись данные по услуге Интернет+.
  * ''Iptv''. Оставлено поле ввода пин-кода только при добавлении экрана.
  * ''Maps2''. Исправлено отображение кластеров при максимальном увеличении.
  * Telegram bot. Добавлена отправка сообщений с стороны клиента.

<accordion title="20200804"><panel title="MySQL"><code mysql>
ALTER TABLE `accident_address` ADD KEY `address_id` (`address_id`);
ALTER TABLE `accident_address` ADD KEY `type_id` (`type_id`);
INSERT INTO `equipment_types` (`name`) VALUES ('Cams');
ALTER TABLE `equipment_models` ADD UNIQUE KEY `model` (`vendor_id`, `type_id`, `model_name`);
</code></panel></accordion>

09.07.2020
  * ''Internet''. Теперь при смене ТП система производит автоматическую активацию при наличии денежных средств.
  * ''Equipment''. На странице ONU выпадающий список периодов для графиков заменён на компонент выбора даты, теперь можно смотреть графики за любой выбранный период в прошлом.
  * ''Cablecat''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8781995|возможность задавать вручную информацию по затуханию]].
  * Отчёт>Оплаты. Добавлена детализация по администраторам.
  * ''Paysys''. Исправлена ошибка, когда не работала кнопка изменения контрагента, когда в названии были одинарные кавычки.
  * Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258912#id-%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%B8%D1%82%D1%8C%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0-%D0%9E%D0%B1%D1%8F%D0%B7%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BF%D0%BE%D0%BB%D1%8F|возможность задавать обязательные для заполнения поля при добавлении нового пользователя]].
  * ''Iptv''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=49807639|возможность создавать несколько расписаний смены тарифного плана для одной услуги]].
  * Список абонентов. Добавлено дополнительное поле "Последние списания".
  * ''Iptv''. Добавлены списания за [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4980766|каналы]] в отчёт списаний.
  * ''Iptv''. При просмотре ТП добавлено [[http://abills.net.ua:8090/display/AB/Smotreshka+TV#SmotreshkaTV-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%BA%D0%B0%D0%BD%D0%B0%D0%BB%D0%BE%D0%B2%D0%A2%D0%9F|отображение каналов]].
  * ''Iptv''. Добавлены [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4980770|списания по дате Активации]].
  * Форма добавления оплаты. Исправлена ошибка, когда при отключении администратору прав на модуль Employees исчезала надпись "Касса".
  * Добавлена проверка доступа к выбранным ранее резиновым полям.
  * RADIUS-пары. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504030#id-%D0%A1%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-%D0%A0%D0%B0%D0%B4%D0%B8%D1%83%D1%81%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B|возможность отмечать пары восклицательным знаком с помощью checkbox]].
  * Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=49807907|фильтр отображаемых оплат и начислений для абонентов]].

<accordion title="20200709"><panel title="MySQL"><code mysql>
ALTER TABLE `internet_main` ADD KEY `cid` (`cid`);

ALTER TABLE `msgs_address` DROP FOREIGN KEY `msgs_id`;

ALTER TABLE `msgs_address`  ADD CONSTRAINT `msgs_id` FOREIGN KEY (`id`) REFERENCES `msgs_messages` (`id`) ON DELETE CASCADE;

ALTER TABLE `admin_settings` ADD COLUMN `sort_table` VARCHAR(30) NOT NULL DEFAULT '';
ALTER TABLE `tarif_plans` ADD COLUMN `describe_aid` VARCHAR(250) NOT NULL DEFAULT '';
</code></panel></accordion>

====0.82====
25.05.2020
  * ''Accident''. Добавлен [[http://abills.net.ua:8090/display/AB/Accident#Accident-%D0%9F%D0%BE%D0%BB%D0%BE%D0%BC%D0%BA%D0%B0%D0%BE%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F|быстрый отчёт, который отображает неисправное оборудование с возможностью создать запись в журнале аварий]].
  * ''Msgs''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=49807510|панель привязки сообщения к адресу]].
  * ''Iptv''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=49807606|отчёт об списаниях]].
  * ''SMS''. Добавлен [[http://abills.net.ua:8090/display/AB/Sms#Sms-Omnicell|СМС-шлюз Omnicell]].
  * ''Accident''. Добавлена [[http://abills.net.ua:8090/display/AB/Accident#Accident-%D0%9A%D0%BE%D0%BC%D0%BF%D0%B5%D0%BD%D1%81%D0%B0%D1%86%D0%B8%D1%8F%D0%B8%D0%B7%D0%B6%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B0%D0%B0%D0%B2%D0%B0%D1%80%D0%B8%D0%B9|возможность сделать абонентам компенсацию за аварию]].
  * ''Msgs''. Меню Обслуживание>Сообщения>Доска задач. Добавлен выпадающий календарь в поле "дата".
  * ''Msgs''. Исправлен поиск по дате в меню [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258795|Обслуживание>Сообщения>Доска задач]].
  * ''Tags''. Теперь, если нет ни одной метки, меню "Метка" в поиске и в создании тикета скрывается.
  * Поиск. Если администратору не разрешена работа с группами, ему всё равно был доступен список групп в поиске и поиск по группам - исправлено.
  * Исправлены права на метки и группы.
  * ''Storage''. Исправлена ошибка, когда при ручном запуске периодика и при указании параметра DATE= отличающейся от текущей, списывало деньги при распределенной абонплате как на текущую дату. В этом случае невозможно было протестировать списание другим месяцем, в котором другое количество дней и, соответственно, другая суточная сумма списания.
  * Добавлен шаблон сообщения о негативном депозите на украинском языке.
  * ''Cablecat''. Добавлена цветовая схема для [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8782002|кроссов]].
  * ''Maps2''. Добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=49807584|запоминание последних координат пользователя и кнопка "Домой"]].
  * ''Maps2''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=16974135|Камеры на карте переделаны под Maps2]].
  * ''Paysys''. Теперь в личном кабинете абонента отображаются не служебные названия платёжных систем, а названия соответствующих контрагентов.
  * Ссылки на документацию в интерфейсе биллинга теперь ведут на confluence (новая документация).
  * ''Iptv''. Исправлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=49807639|расписание на смену тарифного плана]].

<accordion title="20200525"><panel title="MySQL"><code mysql>
ALTER TABLE `shedule` DROP KEY `uniq_action`;
ALTER TABLE `shedule` ADD UNIQUE KEY `uniq_action` (`h`, `d`, `m`, `y`, `type`, `uid`, `module`, `action`(255));

ALTER TABLE `cablecat_splitters`  ADD COLUMN `attenuation` VARCHAR(64) NOT NULL DEFAULT '0';

ALTER TABLE `cablecat_cables` MODIFY `name` VARCHAR(128) NOT NULL;
ALTER TABLE `cablecat_wells` MODIFY `name` VARCHAR(64) NOT NULL;
</code></panel></accordion>


18.05.2020

  * ''Internet''. Теперь можно настроить [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503925|типы серверов доступа, которые будут работать как IPoE сервера с ручным включением]].
  * ''Internet''. Добавлен поиск абонентов по ФИО.

<accordion title="20200518"><panel title="MySQL"><code mysql>
CREATE TABLE IF NOT EXISTS `accident_equipments`
(
    `id`             SMALLINT(3) UNSIGNED AUTO_INCREMENT
        PRIMARY KEY,
    `id_equipment`   SMALLINT(3) UNSIGNED NOT NULL DEFAULT 0,
    `date`           DATE                 NOT NULL DEFAULT '0000-00-00',
    `end_date`       DATE                 NOT NULL DEFAULT '0000-00-00',
    `aid`            SMALLINT(6) UNSIGNED NOT NULL DEFAULT 0,
    `status`         TINYINT(3)  UNSIGNED NOT NULL DEFAULT 0
)
    DEFAULT CHARSET = utf8
    COMMENT = 'Accident address';
    
    CREATE TABLE IF NOT EXISTS `accident_compensation` (
    `id`             SMALLINT(3) UNSIGNED AUTO_INCREMENT
        PRIMARY KEY,
    `procent`        FLOAT       UNSIGNED NOT NULL DEFAULT 0.0,
    `date`           DATE                 NOT NULL DEFAULT '0000-00-00',
    `service`        SMALLINT(3) UNSIGNED NOT NULL DEFAULT 0,
    `type_id`        SMALLINT(3) UNSIGNED NOT NULL DEFAULT 0,
    `address_id`     SMALLINT(3) UNSIGNED NOT NULL DEFAULT 0
) 
    DEFAULT CHARSET = utf8
    COMMENT = 'Accident address';

ALTER TABLE `cablecat_crosses`  ADD COLUMN `color_scheme_id` INT(11) UNSIGNED NOT NULL DEFAULT '0';

</code></panel></accordion>

06.05.2020

  * ''Cams''. Добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334601|меню поиска абонентов, которые используют модуль]].
  * ''Maps2''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334574|карта присутствия для сторонних организаций]].
  * ''Iptv''. Добавлена авторизация по IP для iptvportal.
  * ''Paysys''. Исправлена возможность редактировать контрагентов в группе (новая схема Paysys). Нельзя было удалять контрагента в группе по отдельности.
  * ''Msgs''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334525#id-%D0%9F%D1%80%D0%B8%D0%B2%D1%8F%D0%B7%D0%BA%D0%B0%D0%B1%D1%80%D0%B8%D0%B3%D0%B0%D0%B4%D1%8B%D0%BA%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B5-%D0%A4%D0%B8%D0%BB%D1%8C%D1%82%D1%80%D0%B7%D0%B0%D1%8F%D0%B2%D0%BE%D0%BA%D0%B1%D1%80%D0%B8%D0%B3%D0%B0%D0%B4%D1%8B|фильтрация заявок по группам адресов монтажников]].
  * ''Iptv''. Stalker. Теперь отправляется скидывание приставке при блокировании.
  * ''Iptv''. Ministra(ex. Stalker). Исправлен hangup.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601089#id-%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5%D0%BF%D0%BE%D0%BB%D1%8F-%D0%9D%D0%BE%D0%B2%D1%8B%D0%B5%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5%D0%BF%D0%BE%D0%BB%D1%8F%D0%B2%D0%BA%D0%B0%D0%B1%D0%B8%D0%BD%D0%B5%D1%82%D0%B5%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F|Кабинет абонента переведён на новую схему информационных полей]].
  * ''Paysys''. Добавлена платёжная система [[http://abills.net.ua:8090/display/AB/Easypay_Arm.pm|Easypay Armenia]].
  * ''Msgs''. Исправлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258805|создание рассылок из Обслуживание>Сообщения, Добавить]].
  * ''Msgs''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%A1%D0%BE%D1%80%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0%D0%BF%D0%BE%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%B0%D0%BC|фильтр по разделам сообщений]].
  * ''Maps2''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334569|поиск объектов на карте]].
  * ''Cablecat''. Добавлена нумерация гнёзд.
  * ''Maps2''. Добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334581|автозаполнение узлов при добавлении кабеля]].
  * ''Maps2''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%B7%D0%B0%D1%8F%D0%B2%D0%BE%D0%BA%D0%BD%D0%B0%D0%BA%D0%B0%D1%80%D1%82%D0%B5|Теперь для разных разделов в ''Msgs'' на карте показываются разные иконки]].
  * ''Internet''. Добавлен расчёт абонплаты за активные дни даже если сессия ещё не закрылась.
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503956|Добавлены выражения для включения услуги пауза]].
  * ''Msgs''. Исправлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258799|передача номера телефона и мобильного с заявки на подключения в карточку абонента]].
  * ''Msgs''. Меню Обслуживание>Сообщения>Открыть соощение, таблица Работы - исправлена работу Extra fields - не сохранялись выбранные параметры.
  * Форма восстановления пароля для пользователей: [[http://abills.net.ua:8090/pages/viewpage.action?pageId=31883324|теперь можно вводить номер телефона в любом формате (с кодом страны, без кода страны, и т. д.)]].
  * Исправлена ошибка, когда при использовании в формах двойных кавычек перед ними появлялись символы "\" (" "  ->  \" \"  ->  \\" \\")
  * dbcheck.pl теперь автоматически устанавливает модуль SQL::Translator, если он не установлен.
  * ''Iptv''. Добавлена поддержка сервиса [[http://abills.net.ua:8090/display/AB/Prosto+TV|Prosto TV]].
  * ''Msgs''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%A0%D0%BE%D0%B1%D0%BE%D1%82%D0%B0%D0%BD%D0%B0%D0%B4%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8|отчёт по работам над заявками]].
  * ''Crm''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211400#id-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B-%D0%9A%D0%BE%D0%BD%D0%B2%D0%B5%D1%80%D1%82%D0%B0%D1%86%D0%B8%D1%8F%D0%BB%D0%B8%D0%B4%D0%B0%D0%B2%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0|кнопка конвертации лида в клиента]].
  * ''Docs''. Добавлен [[http://abills.net.ua:8090/display/AB/Docs#Docs-%D0%92%D1%8B%D0%BF%D0%B8%D1%81%D0%BA%D0%B0%D1%81%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D1%8F%D0%BC%D0%B8%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0|экспорт выписки со счёта в xls]].
  * ''Iptv''. [[http://abills.net.ua:8090/display/AB/Trinity+TV|Trinity TV]]. Добавлены гиперссылки на учётки абонентов в Отчёт>Телевидение>Console.
  * ''Paysys''. Добавлена платёжная система [[http://abills.net.ua:8090/display/AB/Apelsin.pm|Apelsin]] от Капиталбанка (Узбекистан).
  * ''Voip'', ''Iptv'', ''Storage''. Добавлена типизация начислений для модулей [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319732|Voip]], [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4980768|Iptv]], [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265|Storage]].
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/OSMP|Доработан модуль OSMP для платежной системы Million]].
  * ''Iptv''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4980768|Добавлена возможность перехода на следующий тарифный план]].
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504049#id-%D0%A2%D0%B0%D1%80%D0%B8%D1%84%D0%BD%D1%8B%D0%B5%D0%BF%D0%BB%D0%B0%D0%BD%D1%8B-%D0%9A%D0%BB%D0%BE%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%A2%D0%9F|Добавлена возможность клонирования тарифного плана]].
  * ''Storage''. Добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4030512#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0%D0%BC%D0%B8-%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80%D0%BE%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%D0%B2%D0%BA%D0%B0%D0%B1%D0%B8%D0%BD%D0%B5%D1%82%D0%B5%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F|отображение в личном кабинете аренды приставок]].
  * ''Storage''. Добавлено [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265|распределение абонплаты]].
  * ''Storage''. Если не указывать стоимость аренды или рассрочки в момент установки оборудования абоненту, стоимость в общем списке оплат теперь подтягивается со склада. Также исправлена ошибка, если не указывать стоимость аренды или рассрочки в момент установки оборудования абоненту, то в общем списке оплат сумма аренды устанавливалась та, которую указали в момент установки, но списывалась по стоимости от склада.
  * ''Sms''. Добавлена [[http://abills.net.ua:8090/display/AB/Sms#Sms-%D0%9E%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B0%D0%A1%D0%9C%D0%A1%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0|возможность отправлять SMS после регистрации абонента]].
  * ''Storage''. Исправлена ошибка, когда на странице Клиенты>Логины>Информация не отображались данные по складу.
  * ''Maps2''. Добавлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=49807498|карта для сотрудников, без возможности редактировать]].
  * ''Msgs''. Исправлена [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258799|ошибка, когда при регистрации пользователя в разделе Обслуживание>Заявки подключения, создать пользователя не передавались все данные с формы заявки на форму регистрации]].
  * ''Equipment''. Добавлена поддержка OLT Raisecom.

<accordion title="20200506"><panel title="MySQL"><code mysql>
ALTER TABLE `storage_incoming_articles` ADD COLUMN `fees_method` TINYINT(4) UNSIGNED NOT NULL DEFAULT '0';

ALTER TABLE `storage_incoming_articles` ADD COLUMN `abon_distribution` TINYINT(1) NOT NULL DEFAULT '0';

ALTER TABLE `cablecat_cables` ADD FOREIGN KEY `type_id` (`type_id`) REFERENCES `cablecat_cable_types` (`id`);

CREATE TABLE IF NOT EXISTS `msgs_address` (
        `id`        INT(11)     UNSIGNED            NOT NULL PRIMARY KEY,
        `districts` SMALLINT(6) UNSIGNED DEFAULT 0  NOT NULL,
        `street`    SMALLINT(6) UNSIGNED DEFAULT 0  NOT NULL,
        `build`     SMALLINT(6) UNSIGNED DEFAULT 0  NOT NULL,
        `flat`      VARCHAR(5)           DEFAULT '' NOT NULL,
  
  CONSTRAINT `msgs_id` FOREIGN KEY (`id`)
      REFERENCES `msgs_messages` (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Msgs set address';
</code></panel></accordion>

13.04.2020

  * Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8781917#id-%D0%A1%D1%82%D0%B0%D1%80%D1%82%D0%BE%D0%B2%D0%B0%D1%8F%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0-%D0%9F%D0%BE%D0%B8%D1%81%D0%BA%D0%BF%D0%BE%D0%BC%D0%B5%D0%BD%D1%8E|поиск по меню настроек]].
  * ''Equipment''. Унифицирован список статусов PON ONU: унифицировано внутреннее представление статусов в БД, добавлена страница в документацию: [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334514|Статусы ONU]].
  * Запрещён вход в биллинг администраторам со статусом "Уволен".
  * ''Equipment''. [[http://abills.net.ua:8090/display/AB/Eltex|Сделана регистрация ONU на Eltex через telnet]].
  * ''CRM''. В меню [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211400#id-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B-%D0%9F%D0%BE%D0%B8%D1%81%D0%BA%D0%BF%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0%D0%B2%D0%B1%D0%B0%D0%B7%D0%B5|Клиенты>Потенциальные клиенты>Поиск]] сделано возможным удаление значения Дата. Тогда поиск производится за весь период.
  * ''Maps2''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334278|Добавлена линейка на карте для возможности измерения расстояния]].
  * ''Maps2''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334549|Добавлена возможность добавлять несколько узлов связи по одному адресу]].
  * ''Maps2''. Добавлено отображение длины кабеля на карте.
  * ''Tags''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404221|Добавлена возможность назначать ответственных для тега]].
  * Журнал адресов: [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601067#id-%D0%96%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%BE%D0%B2-%D0%98%D0%BC%D0%BF%D0%BE%D1%80%D1%82%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%BE%D0%B2|добавлена возможность импортировать адреса с JSON/CSV файлов]].
  * ''Iptv''. При наступлении даты завершении услуги, в портале абонента теперь показывается статус "завершена".
  * ''Maps2''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334442|Добавлено автоматическое заполнение координат по адресу]].
  * ''Maps2''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8781967#id-%D0%9A%D0%B0%D0%B1%D0%B5%D0%BB%D0%B8-%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D0%B7%D0%BA%D0%B0%D0%B1%D0%B5%D0%BB%D1%8F%D0%B8%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0%D1%83%D0%B7%D0%BB%D0%B0%D1%81%D0%B2%D1%8F%D0%B7%D0%B8%D0%BD%D0%B0%D0%BC%D0%B5%D1%81%D1%82%D0%B5%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D0%B7%D0%B0|Добавлена возможность разрезать кабель на карте]].
  * ''Info''. [[http://abills.net.ua:8090/display/AB/Info#Info-%D0%9F%D0%BE%D0%B8%D1%81%D0%BA%D0%BF%D0%BE%D0%BA%D0%BE%D0%BC%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%80%D0%B8%D1%8F%D0%BC|Добавлена возможность поиска по комментариям в GLOBAL поиске]].
  * ''Info''. [[http://abills.net.ua:8090/display/AB/Info#Info-%D0%9B%D0%BE%D0%B3%D0%BA%D0%BE%D0%BC%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%80%D0%B8%D0%B5%D0%B2|Добавлена возможность изменять комментарии с сохранением истории изменений]].
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334530|Добавлена возможность привязывать монтажные бригады к геоадресам]].
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334525#id-%D0%9F%D1%80%D0%B8%D0%B2%D1%8F%D0%B7%D0%BA%D0%B0%D0%B1%D1%80%D0%B8%D0%B3%D0%B0%D0%B4%D1%8B%D0%BA%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B5-%D0%A4%D0%B8%D0%BB%D1%8C%D1%82%D1%80%D0%B7%D0%B0%D1%8F%D0%B2%D0%BE%D0%BA%D0%B1%D1%80%D0%B8%D0%B3%D0%B0%D0%B4%D1%8B|Добавлена возможность фильтровать заявки по группам монтажников]].
  * ''Equipment''. Добавлено отображение уровня сигнала RF-порта на Eltex.
  * ''Paysys''. Добавлен платёжный модуль ExpressPay (наследование от [[http://abills.net.ua:8090/display/AB/OSMP|OSMP]]).
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258914#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%BC-%D0%9F%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BD%D1%8F%D1%8F%D0%B4%D0%B0%D1%82%D0%B0%D0%BA%D1%80%D0%B5%D0%B4%D0%B8%D1%82%D0%B0|Теперь администратор при заходе в карточку абонента видит, брал ли уже пользователь кредит в этом месяце]].
  * ''Maps2''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=46334473|Добавлена возможность изменять расположение объектов]].
  * ''Cams''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816089|Добавлена автопривязка папок]].
  * ''Sms''. Исправлена ошибка, когда администратор мог отправить пароль абоненту по Sms, хотя у него не было таких прав.
  * ''Equipment''. Рефакторинг PON Grabber. Исправлены ошибки: граббер некорректно работал, когда было задано больше одного ID в NAS_IDS; не работал параметр multi, когда был задан NAS_IDS.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258914#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%BC-%D0%9F%D0%B0%D1%81%D0%BF%D0%BE%D1%80%D1%82%D0%BD%D1%8B%D0%B5%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5|Добавлено поле "ИНН" в паспортные данные абонента]].
  * ''Maps2''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=34996247|Отображение терминалов на карте переделано под Maps2]].
  * ''Equipment''. [[http://abills.net.ua:8090/display/AB/PON+GRabber|PON Grabber: добавить возможность заносить CPE MAC по заполненным полям NAS и Порт]].
  * ''Maps2''. Добавлена возможность добавлять на карту уже созданные кабеля.
  * ''Cablecat'', ''Maps2''. Cablecat перенесён на Maps2.
  * Добавлена проверка корректности поля "Логин" при регистрации абонента.
  * ''Tags''. Исправлена ошибка, когда пользователь без соответствующего права нажимал на кнопку добавления нового тега, то система открывала во вложенном окне интерфейс биллинговой системы.
  * abm_console: добавлен фильтр абонентов по группе.

<accordion title="20200413"><panel title="MySQL"><code mysql>
CREATE TABLE `msgs_team_ticket` (
  `id`          INT(11)      UNSIGNED NOT NULL DEFAULT 0,
  `responsible` SMALLINT(6)  UNSIGNED NOT NULL DEFAULT 0,
  `state`       TINYINT(3)   UNSIGNED NOT NULL DEFAULT 0,
  `id_team`     INT(11)      UNSIGNED NOT NULL DEFAULT 0,
  
  PRIMARY KEY (`id`),
  KEY `msgs_id_team_fk` (`id_team`),

  CONSTRAINT `msgs_dispatch_fk` FOREIGN KEY (`id`) REFERENCES `msgs_messages` (`id`),
  CONSTRAINT `msgs_id_team_fk` FOREIGN KEY (`id_team`) REFERENCES `msgs_dispatch` (`id`)
)
DEFAULT CHARSET=utf8 
COMMENT='test';


CREATE TABLE `msgs_team_address` (
  `id`          SMALLINT(3)   UNSIGNED NOT NULL AUTO_INCREMENT,
  `id_team`     INT(11)       UNSIGNED NOT NULL DEFAULT 0,
  `district_id` SMALLINT(3)   UNSIGNED NOT NULL DEFAULT 0,
  `street_id`   SMALLINT(3)   UNSIGNED NOT NULL DEFAULT 0,
  `build_id`    SMALLINT(3)   UNSIGNED NOT NULL DEFAULT 0,
  
  PRIMARY KEY (`id`)
) 
DEFAULT CHARSET=utf8 
COMMENT='Dispatch ticket';

ALTER TABLE `cams_folder` DROP KEY `title`;

ALTER TABLE `maps_point_types` ADD COLUMN `layer_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT 0;

REPLACE INTO `maps_point_types` (`id`, `name`, `icon`, `layer_id`) VALUES (1, '$lang{WELL}', 'well_green', 11);
REPLACE INTO `maps_point_types` (`id`, `name`, `icon`, `layer_id`) VALUES (2, '$lang{WIFI}', '', 2);
REPLACE INTO `maps_point_types` (`id`, `name`, `icon`, `layer_id`) VALUES (3, '$lang{BUILD}', 'build_green', 1);
REPLACE INTO `maps_point_types` (`id`, `name`, `icon`, `layer_id`) VALUES (4, '$lang{DISTRICT}', '', 4);
REPLACE INTO `maps_point_types` (`id`, `name`, `icon`, `layer_id`) VALUES (5, '$lang{MUFF}', 'muff_green', 0);
REPLACE INTO `maps_point_types` (`id`, `name`, `icon`, `layer_id`) VALUES (6, '$lang{SPLITTER}', 'splitter_green', 0);
REPLACE INTO `maps_point_types` (`id`, `name`, `icon`, `layer_id`) VALUES (7, '$lang{CABLE}', '', 10);
REPLACE INTO `maps_point_types` (`id`, `name`, `icon`, `layer_id`) VALUES (8, '$lang{EQUIPMENT}', 'nas_green', 7);
REPLACE INTO `maps_point_types` (`id`, `name`, `icon`, `layer_id`) VALUES (20, 'PON', 'pon_normal', 20);
REPLACE INTO `maps_point_types` (`id`, `name`, `icon`, `layer_id`) VALUES (33, '$lang{CAMERAS}', 'cams_main', 33);

ALTER TABLE `users_pi` ADD COLUMN `tax_number` VARCHAR(30) NOT NULL DEFAULT '0';

ALTER TABLE `cablecat_commutation_equipment` ADD COLUMN `commutation_rotation` SMALLINT NOT NULL DEFAULT 0;

</code></panel></accordion>

16.03.2020

  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Paysys#Paysys-FTP/SFTPchecker|Eript передача данных через SFTP]].
  * ''CRM''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211400#id-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B-%D0%A0%D0%B0%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B0%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D0%B9%D0%BB%D0%B8%D0%B4%D0%B0%D0%BC%D0%B8|Разработан функционал для рассылки сообщений лидам]].
  * ''Equipment''. Исправлен баг в SNMP-шаблонах.
  * ''Paysys''. Исправлен модуль Payme.
  *  Abills_install: поддержка CentOS 8.
  * ''Poll''. Рефакторинг модуля.
  * Кабинет абонента: меню "Карточки пополнения" переименовано поле "Серия" на "Серия и номер".
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404067|Добавлены права на отчеты по динамике роста пользователей]].
  * periodic: добавлена опция игнорировать запуск определенных функций (SKIP_FN).
  * ''Storage''. Поиск по серийнику во всех складах и подотчетностях.
  * ''IPTV''. Дополнение протокола flussonic.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258799|Уведомление о заявке на подключение]].
  * ''Multidoms''. Разделение сетей по доменам.
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319620#id-%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%8B%D0%BF%D0%BE%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8E%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%B0%D0%B7%D0%B0%D0%BF%D0%B5%D1%80%D0%B8%D0%BE%D0%B4|добавлен Отчет Установлено товаров]].
  * ''Iptv''. Форма регистрации: добавлена возможность регистрации через facebook.
  * ''Cams''. Добавлена информация о месячных снятиях.
  * dbcheck.pl. Поиск дампов сравнений в папках модулей.
  * ''IPTV''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4980752#id-%D0%9A%D0%B0%D0%B1%D0%B8%D0%BD%D0%B5%D1%82%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0IPTV-%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%B4%D0%BB%D1%8F%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0|Активация ТВ с кабинета по 
параметру, который отдаёт сервис телевидения]].
  * ''Storage''. Добавлена панель Адрес и поле Комментарий в форму Поставщики, меню Настройка/Склад/Поставщики.
  * NAS. Поле ввода radius pairs заменено на отдельные поля ввода пар.
  * Mikrotik. linkupdown. Добавлена работа через API.
  * ''Iptv''. Изменять ТП в сервисе при переходе на ТП в следующий учетный период.
  * ''Msgs''. Исправлены ошибки при отображении отчета "Отслеживаемые" на главной странице биллинга.
  * ''Msgs''. Счётчик почасовой поддержки теперь начинается с 2-х минут.
  * perldeps. Добавлена проверка наличия модуля DateTime.
  * ''Employees''. Настройка>Сотрудники>Справочник работ - поправлен шаблон.
  * ''Equipment''. OLT huawei ma5603t з epon платами. Исправлено отображение портов.
  * ''Dom''. [[http://abills.net.ua:8090/display/AB/Dom#Dom-%D0%91%D1%8B%D1%81%D1%82%D1%80%D1%8B%D0%B9%D0%BF%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D1%85%D0%B8%D0%BD%D0%B5%D0%B0%D0%BA%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D1%85%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2|добавлен Быстрый просмотр активных и неактивных абонентов]].
  * ''Abills Lite''. Убран HTTP/HTTPS RadioButton на экране ввода данных для входа.
  * registration.cgi. Исправлены ошибки при отправке уведомления при регистрации.
  * ''Equipment''. Добавлена возможность изменять timeout для конкретных OID'ов в коде программы.
  * ''IPTV''. [[http://abills.net.ua:8090/display/AB/Smotreshka+TV#SmotreshkaTV-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%BA%D0%B0%D0%BD%D0%B0%D0%BB%D0%BE%D0%B2%D0%A2%D0%9F|Smotreshka TV. Добавлена возможность посмотреть каналы, входящие в тарифный план перед покупкой]].
  * NAS. Настройка>Сервер доступа/Сервер доступа - поправлен шаблон.
  * ''Msgs''. Исправлена ошибка, когда в меню Настройка>Helpdesk>Метки сообщений кнопка Extra fields (...) параметр Цвет не сохранялся.
  * ''Internet''. Добавлен ID сервиса интернет в поиск.
  * ''Abon''. [[http://abills.net.ua:8090/display/AB/Abon#Abon-%D0%A2%D1%80%D0%B5%D0%B2%D0%BE%D0%B6%D0%BD%D1%8B%D0%B5%D0%BF%D0%BE%D0%BC%D0%B5%D1%82%D0%BA%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0|Помечать абонентов с пропущенным снятием абонплаты]].
  * ''Msgs''. Исправлена ошибка, когда шаблонные переменные не сохранялись в рассылке.
  * ''Ureports''. Исправлен поиск по номеру телефона.
  * ''Maps2''. [[http://abills.net.ua:8090/display/AB/Maps2#Maps2-OSM|Добавлена поддержка OSM]].
  * ''Maps2''. [[http://abills.net.ua:8090/display/AB/Maps2|Добавлена поддержка локальных карт и описание процесса создания локальных карт]].
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B8%D0%BF%D1%80%D0%B8%D0%BA%D1%80%D0%B5%D0%BF%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%D0%BA%D0%B4%D0%BE%D0%BC%D1%83|Исправлена ошибка, когда при создании сообщения Обслуживание>Сообщения (Прикрепить к адресу) не сохранялся адрес сообщения]].
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503983#id-%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82%D0%BC%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%94%D0%BE%D0%BC%D0%B0|Заменён Maps на Maps2 в интернет-мониторинге]].
  * ''Maps2''. [[http://abills.net.ua:8090/display/AB/Maps2#Maps2-%D0%AF%D0%BD%D0%B4%D0%B5%D0%BA%D1%81.%D0%9A%D0%B0%D1%80%D1%82%D1%8B|Добавлена поддержка Яндекс.Карты]].
  * ''Cards''. Интерфейс дилера - добавлено форматирование суммы.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258920#id-%D0%9C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8-%D0%A1%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B4%D0%BB%D1%8F%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F%D1%82%D0%B5%D0%B3%D0%B0%D0%B8%D1%81%D0%BA%D0%B8%D0%B4%D0%BA%D0%B8|Добавлен billd-плагин для удаления тега и скидки у абонентов]].
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258920#id-%D0%9C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8-%D0%A1%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B4%D0%BB%D1%8F%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8%D1%82%D0%B5%D0%B3%D0%B0%D0%B8%D1%81%D0%BA%D0%B8%D0%B4%D0%BA%D0%B8|Добавлен billd-плагин для установки тега и скидки у абонентов]].
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258805|Реализованы отправки сообщения через почтовую рассылку в личный кабинет]].
  * Добавлено в типы оплат поле по умолчанию для отобюражения при оплате администратором с кабинета.
  * NAS. Ip POOLS. Добавлены дополнительные поля в списке.
  * ''Equipment''. Исправлена ошибка, когда после сохранения оборудования не отображались допол. порты.
  * ''Equipment''. Количество портов оборудования в таблицах теперь отображается в виде (//основные// + //дополнительные//).
  * ''Bonus''. Исправлена ошибка, когда в меню Настройка>Бонус>Услуга не сохранялись параметры Extra fields, не работала сортировка.
  * ''CRM''. В меню Клиенты>Потенциальные клиенты>Потенциальные клиенты исправлена сортировка по умолчанию.
  * Result_former перешёл на Maps2.
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/2click|Добавлен платёжный модуль 2click]].
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Global_Money.pm|Добавлен платёжный модуль Global Money]].
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404160#Yandex%D0%9A%D0%B0%D1%81%D1%81%D0%B0-%D0%A4%D0%B8%D1%81%D0%BA%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BD%D1%8B%D1%85%D1%87%D0%B5%D0%BA%D0%BE%D0%B2|Yandex Касса. Добавлена фискализация товарных чеков]].
  * ''Maps2''. [[http://abills.net.ua:8090/display/AB/Maps2#Maps2-%D0%92%D0%B8%D0%B4%D1%8B%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BD%D1%8B%D1%85%D0%BA%D0%B0%D1%80%D1%82|Добавлен параметр для выбора начального типа карты]].
  * ''Maps2''. [[http://abills.net.ua:8090/display/AB/Maps2#Maps2-%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0|Добавлен параметр координат первоначальной загрузки карты]].
  * ''Voip''. [[http://abills.net.ua:8090/display/AB/Asterisk#Asterisk-ABillS|Добавлен параметр, который разрешает абонентам с негативным депозитом звонить на все направления с стоимостью 0 единиц за минуту]].

<accordion title="20200316"><panel title="MySQL"><code mysql>
ALTER TABLE `storage_suppliers` ADD COLUMN `location_id` int(11) unsigned NOT NULL DEFAULT '0';
ALTER TABLE `storage_suppliers` ADD COLUMN `district_id` int(11) unsigned NOT NULL DEFAULT '0';
ALTER TABLE `storage_suppliers` ADD COLUMN `street_id` int(11) unsigned NOT NULL DEFAULT '0';
ALTER TABLE `storage_suppliers` ADD COLUMN `build_id` int(11) unsigned NOT NULL DEFAULT '0';

ALTER TABLE `storage_suppliers` ADD COLUMN `comment` varchar(250) DEFAULT '';


ALTER TABLE sms_log MODIFY phone char(16) DEFAULT '' NOT NULL;


ALTER TABLE `maps_polylines` ADD KEY `object_id` (`object_id`);
ALTER TABLE `maps_points` ADD KEY `location_id` (`location_id`);
ALTER TABLE `maps_polygons` ADD KEY `object_id` (`object_id`);
ALTER TABLE `maps_polygon_points` ADD KEY `polygon_id` (`polygon_id`);

ALTER TABLE `storage_sn` ADD KEY `storage_installation_id` (`storage_installation_id`);

ALTER TABLE `payments_type` ADD `default_payment` TINYINT(3) DEFAULT 0 NULL;


CREATE TABLE IF NOT EXISTS `info_change_comments`
(
    `id`          BIGINT UNSIGNED AUTO_INCREMENT
        PRIMARY KEY,
    `id_comments` BIGINT           NOT NULL DEFAULT 0,
    `date_change` DATE             NOT NULL DEFAULT NOW(),
    `aid`         INT(11) UNSIGNED NOT NULL DEFAULT 0,
    `uid`         INT(11) UNSIGNED NOT NULL DEFAULT 0,
    `text`        VARCHAR(300)     NOT NULL DEFAULT '',
    `old_comment` VARCHAR(300)     NOT NULL DEFAULT ''
)
    ENGINE = InnoDB
    DEFAULT CHARSET = utf8
    COMMENT = 'Info change comment';

CREATE TABLE IF NOT EXISTS `tags_responsible`
(
    `id`      SMALLINT(3) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    `aid`     SMALLINT(3) UNSIGNED NOT NULL DEFAULT 0,
    `tags_id` SMALLINT(3) UNSIGNED NOT NULL DEFAULT 0,

    CONSTRAINT `tags_id_fk` FOREIGN KEY (`tags_id`) REFERENCES `tags` (`id`)
)
    DEFAULT CHARSET = utf8
    COMMENT = 'Tags responsible';

ALTER TABLE `storage_installation` ADD KEY (`aid`);
ALTER TABLE `storage_installation` ADD KEY (`location_id`);
ALTER TABLE `storage_installation` ADD KEY (`nas_id`);
ALTER TABLE `storage_installation` ADD KEY (`uid`);
ALTER TABLE `storage_installation` ADD KEY (`mac`);
ALTER TABLE `storage_installation` ADD KEY (`installed_aid`);

ALTER TABLE `internet_online` ADD KEY (`switch_mac`);

ALTER TABLE `ippools` ADD KEY (`static`);
ALTER TABLE `ippools` ADD KEY (`ipv6_prefix`);

ALTER TABLE `users_contracts` ADD KEY (`uid`);

</code></panel></accordion>

26.12.2019

  * ''Equipment''. Добавлена поддержка коммутаторов GCOM и поддержка OLT GCOM
  * Добавлено название кнопки (...) на анг., укр., рус. языках
  * ''Storage''. Рефакторинг модуля
  * Форма регистрации: registration.cgi - добавлено перевод сообщения об успешной регистрации на укр. и рус. языки
  * Изменен дизайн формы регистрации: registration.cgi
  * В меню Оплаты/Оплаты поправлено формат сумм
  * Mikrotik: simple shaper для ручной активации услуги при включенной опции $conf{MIKROTIK_QUEUES}=1;
  * ''CRM''. В меню Клиенты>Потенциальные клиенты>Поиск: добавлено поле для выбора приоритета
  * ''CRM''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=21430286#id-%D0%91%D1%8B%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%9E%D1%82%D1%87%D1%91%D1%82%D1%8B-%D0%9E%D1%82%D1%87%D1%91%D1%82-%D0%92%D0%BE%D1%80%D0%BE%D0%BD%D0%BA%D0%B0%D0%BF%D1%80%D0%BE%D0%B4%D0%B0%D0%B6 | Добавлено на dashboard отображение отчета "Воронка продаж" для лидов]]
  * ''Cards''. Интерфейс дилера: выводить на печать серию карточек, если соответствующая опция прописана в конфиге
  * ''Cards''.[[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523197#id-%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%94%D0%B8%D0%BB%D0%B5%D1%80%D0%B0-%D0%94%D0%B5%D0%BD%D0%B5%D0%B6%D0%BD%D1%8B%D0%B5%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8 | Улучшено меню Денежные операции]]
  * ''Cards''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523197 | Исправлен поиск карт по статусу, отображение статуса карт]]
  * ''Cards''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523197 | Обновлен интерфейса дилера]]
  * ''Cams''. [[http://abills.net.ua:8090/display/AB/SmartHouse_Cams | Добавлена привязка стороннего сервера авторизации мобильных приложений для видеонаблюдения]]
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Paysys#Paysys-%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%D1%84%D0%B0%D0%B9%D0%BB%D0%B0 | Не показывать меню Пополнить счет и кнопку Пополнить счет в клиентском кабинете]]
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816709 | Добавлены настройки для работы с группами]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403583 | Добавлен скрипт авторесайза полей textarea (https://www.jacklmoore.com/autosize/)]]




====0.81====

06.12.2019

  * ''Employees''.[[http://abills.net.ua:8090/pages/viewpage.action?pageId=8126507#id-%D0%A1%D0%BE%D1%82%D1%80%D1%83%D0%B4%D0%BD%D0%B8%D0%BA%D0%B8-%D0%A1%D1%82%D0%B0%D1%82%D1%83%D1%81%D1%8B%D1%81%D0%BE%D1%82%D1%80%D1%83%D0%B4%D0%BD%D0%B8%D0%BA%D0%B0 | Назначены разные цвета (черный, красный, серый) для разных статусов сотрудников]].
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601077 | Назначены разные цвета (черный, красный, серый) для разных статусов администратора]]
  * ''Cards''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523197 | Интерфейс дилера: исправлено меню Поиск, меню История]].
  * ''Cards''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523197#id-%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%94%D0%B8%D0%BB%D0%B5%D1%80%D0%B0-%D0%9A%D0%B0%D1%80%D1%82%D0%BE%D1%87%D0%BA%D0%B8%D0%BF%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F | Правки дизайна интерфейса дилера]].
  * ''Cams''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=16974135 | Добавить подгрузку папок в соответствии с выбраной группой]].
  * ''Cams''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=15761423 | Добавлена возможность изменять ТП в конце периода]].
  * ''Ureports''. Добавлено поиск по телефону в списке абонентов модуля.
  * Добавлена возможность удаления расписания приостановления через кабинет абонента.
  * Оптимизировано работу отчета Пользователи новые+АРПУ.
  * ''Discounts''. [[http://abills.net.ua:8090/display/AB/Discounts#Discounts-%D0%94%D0%B8%D1%81%D0%BA%D0%BE%D0%BD%D1%82%D0%BD%D0%B0%D1%8F%D0%BA%D0%B0%D1%80%D1%82%D0%B0%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0 | Дисконтная карта абонента]].
  * Исправлено поиск абонента по телефону и мобильному телефону в меню Поиск.
  * Добавлено настройку конфинурации $conf{PUBLIC_MODE}=1; - блокировать потенциально опасные команды для публичной демонстрации системы.
  * Добавлено кнопку в меню Мониторинг zabbix: общее состояние.
  *  ''Iptv''.  [[http://abills.net.ua:8090/display/AB/Oll+tv | Olltv: управление списком устройств абонента]].
  * ''Cablecat''. Добавлено отображение примечаний на схеме комутации.
  * ''Abills Lite''. Cохранять настройки авторизации абонента для меню Настройки в android-приложении.
  * ''GPS''. [[http://abills.net.ua:8090/display/AB/GPS#GPS-%D0%9D%D0%B5%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5%D0%A2%D1%80%D0%B5%D0%BA%D0%B5%D1%80%D1%8B | Добавлено в отчет возможность выбора периода отображения маршрутов]].
  * ''GPS''. [[http://abills.net.ua:8090/display/AB/GPS#GPS-%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3%3EGPS%3E%D0%9E%D1%82%D1%81%D0%BB%D0%B5%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC%D1%8B%D0%B5%D0%B0%D0%B4%D0%BC%D0%B8%D0%BD%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%8B | Добавлено возможность задания и отображение маршрутов разных администраторов машин разными цветами]].
  * ''Кабинет абонента''. Исправление веб-дизайна страницы меню Оповещения>Статистика.
  * ''Time Tracker''. Добавлено комментарии при удалении записей.
  * Расширено права на функцию отключения абонента (скрывать кнопку Отключить в учетной записи абонента).
  * ''Msgs''. Исправлено ошибки при добавлении/удалении параметров Extra fields.
  * ''Msgs''. Рефакторинг Msgs: Chat.
  * ''Msgs''. Добавлено возможность поиска по администратору, создавшему сообщение.
  * ''Msgs''. Исправлено формат поля Планируемое время в сообщении.
  * ''Msgs''. Добавлена возможность отображения сообщений домов-полигонов на карте.
  * ''Hotspot''. Переведено с main на dbcore.
  * ''Sysinfo''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816622 | Оптимизация рестарта сервисов]]
  * ''Storage''. Добавлено вывод информации по суммам списания по оборудованию в информационном банере (зеленого цвета).
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816564 | Paysoft (Paymaster) обновление функционала]].
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Portmone#Portmone-%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%BF%D0%BB%D0%B0%D1%82%D0%B5%D0%B6%D0%B5%D0%B9%D0%BF%D0%BE%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%B0%D0%BC%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9 | Платежная система Portmone: добавлена поддержка групп]].
  * ''Paysys''. Платежная система Payme: исправлено проблему использования ключей содержащих два знака процента.
  * ''Poll''. Обновленное меню опросов в личном кабинете абонента.
  * ''Poll''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=22020119 | Не отображать статус В обработке в личном кабинете абонента]].
  * ''Poll''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=22020122 | Улучшение дизайна меню Опрос в личном кабинете абонента]]
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403768 | Исправлено заполнение шагов в меню Клиенты>Потенциальные клиенты>Потенциальные клиенты>Информация]]
  * ''Sharing''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601102 | Добавлена сортировка файлов для скачивания]].
  * ''Netblock''. Обновлен список доменов.
  * ''Notepad''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816331 | Добавлена возможность создания стикеров]]
  * ''Extreceipts''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403316 | Форма для конфигурации, свои настройки для каждой единицы контрольно-кассовой техники]]
  * ''Extreceipts''. Реализовано интерфейс для онлайн кассы Atol.
  * Добавлено JSON тест для функций личного кабинета абонента.
  *  ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601069 | Добавлена возможность исключения адреса из пула адресов]].
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523480#JSONAPI%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%90%D0%BA%D1%82%D0%B8%D0%B2%D0%B0%D1%86%D0%B8%D1%8F%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0 | Добавлены API примеры активации сервиса]].
  * ''Internet''. Отображение tcpdump в реальном времени. Internet daignostic.
  * ''Internet''. Добавлено возможность (право) администратору приостанавливать услугу интернет, продлевать срок услуги на время приостановления.

<accordion title="20191206"><panel title="MySQL"><code mysql>
CREATE TABLE IF NOT EXISTS `paysys_ipay_report` (
  `id`             SMALLINT UNSIGNED      NOT NULL AUTO_INCREMENT,
  `sum`            DOUBLE(10, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `date`           DATETIME               NOT NULL DEFAULT '0000-00-00 00:00:00',
  `transaction_id` VARCHAR(24)            NOT NULL DEFAULT '',
  `user_key`       VARCHAR(16)            NOT NULL DEFAULT '',
  PRIMARY KEY `id` (`id`),
  UNIQUE `transaction_id` (`transaction_id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Paysys ipay report';
CREATE TABLE IF NOT EXISTS `paysys_easypay_report` (
  `id`             SMALLINT UNSIGNED      NOT NULL  AUTO_INCREMENT,
  `uid`            INT(11) UNSIGNED       NOT NULL  DEFAULT '0',
  `sum`            DOUBLE(10, 2) UNSIGNED NOT NULL  DEFAULT '0.00',
  `prov_bill`      int(11) UNSIGNED       NOT NULL  DEFAULT '0',
  `mfo`            int(8) UNSIGNED        NOT NULL  DEFAULT '0',
  `bank_name`      VARCHAR(30)            NOT NULL  DEFAULT '',
  `client_cmsn`    DOUBLE(5, 2) UNSIGNED  NOT NULL  DEFAULT '0.00',
  `commission`     DOUBLE(5, 2) UNSIGNED  NOT NULL  DEFAULT '0.00',
  `currency`       VARCHAR(5)             NOT NULL  DEFAULT '',
  `date`           DATETIME               NOT NULL  DEFAULT '0000-00-00 00:00:00',
  `description`    VARCHAR(200)           NOT NULL  DEFAULT '',
  `prov_name`      VARCHAR(30)            NOT NULL  DEFAULT '',
  `okpo`           int(8) UNSIGNED        NOT NULL  DEFAULT '0',
  `company_name`   VARCHAR(30)            NOT NULL  DEFAULT '',
  `terminal_id`    int(8) UNSIGNED        NOT NULL  DEFAULT '0',
  `transaction_id` VARCHAR(24)            NOT NULL  DEFAULT '',
  PRIMARY KEY `id` (`id`),
  UNIQUE `transaction_id` (`transaction_id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Paysys easypay report';
CREATE TABLE IF NOT EXISTS `paysys_ibox_report` (
  `id`             SMALLINT UNSIGNED      NOT NULL AUTO_INCREMENT,
  `sum`            DOUBLE(10, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `date`           DATETIME               NOT NULL DEFAULT '0000-00-00 00:00:00',
  `transaction_id` VARCHAR(24)            NOT NULL DEFAULT '',
  `user_key`       VARCHAR(16)            NOT NULL DEFAULT '',
  PRIMARY KEY `id` (`id`),
  UNIQUE `transaction_id` (`transaction_id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Paysys ibox report';
ALTER TABLE `ippools` ADD COLUMN `ip_skip` MEDIUMTEXT NULL;
CREATE TABLE IF NOT EXISTS `gps_admins_color` (
   `id` SMALLINT(6) NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `aid` SMALLINT(6) UNSIGNED NOT NULL UNIQUE REFERENCES `admins` (`aid`),
   `color` VARCHAR(7) NOT NULL DEFAULT '#0000FF',
   UNIQUE KEY (`aid`)
);
ALTER TABLE `cams_main` ADD COLUMN `expire` DATE NOT NULL DEFAULT '0000-00-00';
ALTER TABLE `gps_admins_color` ADD COLUMN `show_admin` INT NOT NULL DEFAULT 1;
ALTER TABLE `cams_folder` ADD COLUMN `subfolder_id` VARCHAR(32) NOT NULL DEFAULT '' COMMENT 'External folder ID for syncronization';
CREATE TABLE IF NOT EXISTS `paysys_merchant_settings` (
  `id` TINYINT(4) UNSIGNED NOT NULL AUTO_INCREMENT,
  `merchant_name` VARCHAR(40) NOT NULL DEFAULT '',
  `system_id` TINYINT UNSIGNED NOT NULL DEFAULT 0,
  PRIMARY KEY `id`(`id`),
  FOREIGN KEY (`system_id`) REFERENCES `paysys_connect` (`id`) ON DELETE CASCADE
)
  CHARSET = 'utf8'
  COMMENT = 'Paysys merchant settings';
CREATE TABLE IF NOT EXISTS `paysys_merchant_params` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `param`     VARCHAR(50)          NOT NULL DEFAULT '',
  `value`     VARCHAR(400)         NOT NULL DEFAULT '',
  `merchant_id` TINYINT UNSIGNED NOT NULL DEFAULT 0,
  PRIMARY KEY `id`(`id`),
  FOREIGN KEY (`merchant_id`) REFERENCES `paysys_merchant_settings` (`id`) ON DELETE CASCADE
)
  CHARSET = 'utf8'
  COMMENT = 'Paysys merchant params';
CREATE TABLE IF NOT EXISTS `paysys_merchant_to_groups_settings` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `gid` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0',
  `paysys_id` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0',
  `merch_id`  TINYINT UNSIGNED NOT NULL DEFAULT 0,
  PRIMARY KEY `id` (`id`),
  FOREIGN KEY (`merch_id`) REFERENCES `paysys_merchant_settings` (`id`) ON DELETE CASCADE
)
  CHARSET = 'utf8'
  COMMENT = 'Settings for each group';
  
  
</code></panel></accordion>

28.10.2019

  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504024#id-%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8FInternet+-%D0%94%D0%B8%D0%B0%D0%B3%D0%BD%D0%BE%D1%81%D1%82%D0%B8%D0%BA%D0%B0%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F | Mikrotik: расширенная диагностика соединения]].
  * ''Crm''. Исправление ошибок при заполнении шагов в  шкале выполнения.
  * ''Poll''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=22020122 | Улучшено меню Опрос в личном кабинете абонента]].
  * ''Equipment''. [[http://abills.net.ua:8090/display/AB/PON | Написан плагин для подключения PON OLT C-DATA]].
  * ''Poll''. [[http://abills.net.ua:8090/display/AB/Poll | Улучшено меню модуля Опрос]].
  * ''Sharing''. Добавлено возможность задавать файлы в разных каталогах.
  * ''Iptv''. Добавлено зеленый статус-бар в учетной записи абонента.
  * ''ABillS Lite''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35815586#ABillSLite-android%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-%D0%92%D0%B7%D0%B0%D0%B8%D0%BC%D0%BE%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D0%B5%D1%81%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC | Добавлено свайп-перелистывание страниц меню]].
  * ''TimeTracker''. [[http://abills.net.ua:8090/display/AB/Timetracker | В отчет "Учет времени" добавлено колонку Всего времени]].
  * ''TimeTracker''. [[http://abills.net.ua:8090/display/AB/Timetracker#Timetracker-%D0%97%D0%B0%D0%BA%D1%80%D1%8B%D1%82%D1%8B%D0%B5%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B8 | Добавлено отчет "Закрытые задачи"]].
  * ''Sharing''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601102 | Предоставление доступа к файлам в демо режиме]].
  * ''Iptv''. [[http://abills.net.ua:8090/display/AB/Smotreshka+TV#SmotreshkaTV-%D0%A1%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9%D0%BF%D0%BEIptv_login |Smotreshka. Синхронизация пользователей по Iptv_login]].
  * ''Sharing''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816324 | Добавлено Отчёт по файлам, предоставленным в режиме демо]].
  * Исправлено ошибку при дублировании панелей в учетной записи абонента.
  * ''Sms''. [[http://abills.net.ua:8090/display/AB/Sms#Sms-%D0%92%D1%81%D0%B5%D0%BF%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC%D1%8B%D0%B5%D1%82%D0%B8%D0%BF%D1%8B%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B | Добавлены смс-операция "Перевод средств между абонентами"]].
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Click | Интеграция плат.системы Click.uz]].
  * ''Sms''. Добавлены операции пополнения счета при получении команды.
  * ''Internet''. Добавлено вывод предупреждения о дублировании портов.
  * ''Internet''. Добавлено массовое добавление IPv4 адресов клиентам.
  * ''Telegram + Msgs''. Добавлена возможность прикрепление картинок и файлов во время быстрого ответа через бота.
  * Исправлено ошибку при редактировании логина абонента.
  * ''Iptv''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4030716 | Добавлена возможность скрыть ТП в ЛК пользователя]].
  * ''Poll''. Исправлено ошибки в работе кнопок статусов опроса в кабинете абонента.
  * ''Msgs''. Добавлено поддержку доменов в Разделы в сообщениях и сообщениям, привязанным к адресу.
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816372 | Внешние команды для оплаты]].
  * ''Iptv''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816215 | Вывод информации о пользователях, у которых не списало абонплату за сервисы ТВ]].
  * ''Internet''. Мониторинг: добавлено в  список фильтров SVLAN и CVLAN.
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258945#id-%D0%9F%D1%80%D0%B8%D0%B2%D1%8F%D0%B7%D0%BA%D0%B0%D1%82%D0%B8%D0%BF%D0%B0%D0%BE%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%D0%BA%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D1%83%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-%D0%9F%D0%BE%D0%B2%D1%82%D0%BE%D1%80%D1%8F%D1%8E%D1%89%D0%B8%D0%B5%D1%81%D1%8FMAC%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0 | Отчет по дубликатам MAC адресов]].
  * ''db_check''. Добавлена проверка на наличие индексов в таблицах.
  * ''Iptv''. Исправлено ошибку при изменение статуса сервиса с Отключено на Активно.
  * ''Sms''. [[http://abills.net.ua:8090/display/AB/Sms#Sms-EskizSms | Добавлено новый плагин Eskiz.uz]].
  * ''ABills Lite''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35815586#ABillSLite-android%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-8)%D0%A1%D0%BC%D0%B5%D0%BD%D0%B0%D1%86%D0%B2%D0%B5%D1%82%D0%BE%D0%B2%D0%BE%D0%B9%D0%BF%D0%B0%D0%BB%D0%B8%D1%82%D1%80%D1%8B | Добавлена возможность смены цветовой палитры приложения]].
  * Добавлена поддержка Multidoms для голосования в личном кабинете абонента (Опрос). 
  * ''CRM''. Добавлено в меню Клиенты>Потенциальные клиенты три новые закладки "Все", "Потенциальные" и "Конвертированные".
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403316 | Реализовано 1-й этап добавления в модуль Extreceipt поддержки Атолл-онлайн]]
  * ''Paysys''. Добавлена возможность отключения пополнения в портале абонента.
  * Добавлены примеры JSON теста.

<accordion title="20191028"><panel title="MySQL"><code mysql>

ALTER TABLE sharing_users ADD FOREIGN KEY (file_id) REFERENCES sharing_files(id);
ALTER TABLE `msgs_messages` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `msgs_chapters` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `msgs_chapters` DROP INDEX `name`;
ALTER TABLE `msgs_chapters` ADD UNIQUE KEY `name` (`name`, `domain_id`);
ALTER TABLE poll_polls ADD COLUMN expiration_date DATE NOT NULL DEFAULT '0000-00-00';
ALTER TABLE `poll_polls` ADD COLUMN `domain_id` SMALLINT(6) NOT NULL DEFAULT 0;
ALTER TABLE `crm_leads` MODIFY COLUMN  `current_step` int NOT NULL DEFAULT 1;
ALTER TABLE `crm_progressbar_steps` MODIFY COLUMN  `step_number` INT UNSIGNED NOT NULL DEFAULT 1;

</code></panel></accordion>

30.09.2019

  * ''Storage''. Отображение списаний за оборудование в информационном блоке в учетной записи абонента.
  * ''Telegram''. Реализована подписка администратора либо из вебформы, либо с помощью подтверждения телефона. 
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Paysys#Paysys-%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%D1%84%D0%B0%D0%B9%D0%BB%D0%B0 | Настройка: в поле Вид оплаты добавить галочку (checkbox) для создания вида оплаты]].
  * Добавлены права администратора (пункт 26) на просмотр персональной информации.
  * ''NAS''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816037 | Добавлена синхронизация с Zabbix]].
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258965 | Кастомные SNMP/JSON шаблоны]].
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403583 | Добавлена возможность валидации номера телефона в контактах]].
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403471 | Добавлена возможность делать собственные ссылки в быстрых функциях]].
  * ''ABills Lite''. Реализованы облачные push-оповещения для Android приложения.
  * ''ABills Lite''. Добавлено поддержку модуля Paysys в Android приложении.
  * ''ABills Lite''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35815586| Создано Android приложение ABillS Lite]].
  * ''Maps''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%B7%D0%B0%D1%8F%D0%B2%D0%BE%D0%BA%D0%BD%D0%B0%D0%BA%D0%B0%D1%80%D1%82%D0%B5 | Отображение заявок на карте для каждого раздела с сообщениями]].
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523382 | Добавлена возможность включения страницы ознакомления и принятия правил провайдера]].
  * ''Msgs''. Добавлено подписи приоритетов сообщений.
  * ''Msgs''. В открытом сообщении в поле Ответственный скрывать администраторов со статусом Уволен и Отключено. 
  * ''Cams''. Zoneminder. Добавлена возможность привязки камер пользователю.
  * ''Cams''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816089 | Добавлена возможность создавать каталоги]].
  * ''IPTV''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4980752#id-%D0%9A%D0%B0%D0%B1%D0%B8%D0%BD%D0%B5%D1%82%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0IPTV-%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%BE%D0%B1Iptv |Добавлен информационный шаблон о сервисе телевидение]].
  * ''Iptv''. Добавлена возможность отключать сервисы абонента (права администратора пункт 1.14).
  * ''Iptv''. Отображение тарифных планов без перезагрузки страницы.
  * ''Internet+''. Исправлен дизайн окна Тарифы Трафика.
  * ''Internet+''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35816148 | Ipv6. Добавлена возможность массового добавление адресов клиентам]].
  * ''Internet+''. Автоматизирован выбор параметра даты при смене тарифного плана через указание даты в учетной записи абонента. 
  * Журнал адресов: добавлен быстрый переход к следующему меню (район, улица, дом, квартира).
  * ''CRM''. Поддержка Multidoms в CRM.
  * Abills_install: поддержка Debian 10.
  * ''Time Tracker''. Исправление ошибки - добавлено checkbox для фокус-фактора.

<accordion title="20190930"><panel title="MySQL"><code mysql>
ALTER TABLE `nas` ADD COLUMN zabbix_hostid INT(11) NOT NULL DEFAULT 0;
ALTER TABLE `notepad` ADD COLUMN `status_st` TINYINT(1)  UNSIGNED NOT NULL DEFAULT 0;
ALTER TABLE `cams_streams` MODIFY COLUMN `group_id` int(11) unsigned NOT NULL DEFAULT '0';
ALTER TABLE `cams_streams` ADD COLUMN `folder_id` int(11) unsigned NOT NULL DEFAULT '0';

CREATE TABLE IF NOT EXISTS `cams_users_folders` (
  `id` INTEGER(10) UNSIGNED NOT NULL DEFAULT '0',
  `tp_id` SMALLINT(5) UNSIGNED NOT NULL DEFAULT '0',
  `folder_id` SMALLINT(5) UNSIGNED NOT NULL DEFAULT '0',
  `changed` DATETIME NOT NULL,
  UNIQUE KEY `id` (`id`, `folder_id`, `tp_id`)
)
  DEFAULT CHARSET=utf8 COMMENT = 'Cams users folders';

CREATE TABLE IF NOT EXISTS `cams_folder` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(64) NOT NULL DEFAULT '',
  `comment` varchar(250) DEFAULT '',
  `parent_id` int(6) unsigned NOT NULL DEFAULT 0,
  `group_id` int(6) unsigned NOT NULL DEFAULT 0,
  `service_id` int(6) unsigned NOT NULL DEFAULT 0,
  `location_id` int(11) unsigned NOT NULL DEFAULT '0',
  `district_id` int(11) unsigned NOT NULL DEFAULT '0',
  `street_id` int(11) unsigned NOT NULL DEFAULT '0',
  `build_id` int(11) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `title` (`title`)
)
  DEFAULT CHARSET=utf8 COMMENT='Cams Folder';

ALTER TABLE `sharing_users` ADD COLUMN demo TINYINT(3) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `iptv_main` ADD COLUMN `iptv_login` varchar(32) NOT NULL DEFAULT '';
ALTER TABLE `iptv_main` ADD COLUMN `iptv_password` varchar(32) NOT NULL DEFAULT '';
ALTER TABLE `crm_progressbar_steps` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `crm_leads_sources` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `crm_actions` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `crm_leads` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `crm_progressbar_step_comments` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';

</code></panel></accordion>

30.08.2019

  * Добавлено переход администратора в личный кабинет абонента при безпарольном доступе.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601077| Добавлено временный пароль администратора.]]
  * ''Referrals''. Добавлено поле "Все" в статусы Заявки подключения.
  * ''Msgs''. Добавлен статус Взято в работу.
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504045| Добавлена информация о времени активности порта.]]
  * Добавлено поиск логов заявок на подключения.
  * ''IPTV''. Исправлено ошибки по абонплате.
  * ''Referrals''. В меню Заявки подключения добавлено фильтр по периоду (дата).
  * ''Referrals''. [[http://abills.net.ua:8090/display/AB/Referral#Referral-%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0%D1%80%D0%B5%D1%84%D0%B5%D1%80%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B| Добавлено создание тарифных планов для модуля.]]
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504049| Добавлена возможность отключения тарифных планов.]]
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258920#id-%D0%9C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8-%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F%D0%91%D0%BE%D0%BD%D1%83%D1%81%D0%BE%D0%B2%D1%87%D0%B5%D1%80%D0%B5%D0%B7%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8 | Добавлено в мультиоперации поле скидка и дата скидки.]
  * ''Sms''. [[http://abills.net.ua:8090/display/AB/Sms#Sms-CMD | Добавлен универсальный плагин для отпраки смс.]]
  * ''Internet+''. Мониторинг. Исправлено постоянную перезагрузку страницы.
  * ''Cablecat''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8782014#id-%D0%A1%D1%85%D0%B5%D0%BC%D0%B0%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D1%82%D0%B0%D1%86%D0%B8%D0%B8-%D0%9F%D0%B5%D1%87%D0%B0%D1%82%D0%BD%D0%B0%D1%8F%D1%84%D0%BE%D1%80%D0%BC%D0%B0| В печатную форму добавлено делители.]]
  * ''Internet''. Добавлено сообщение о запланированой смене ТП.
  * ''Paysys''. Исправлены ошибки платежной симтемы Payme.
  * ''Iptv''. Добавлено дневные списания за каналы.
  * ''IPTV''. Улучшены списания по тарифным планам системы Conax.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%BE%D0%B1%D1%83%D0%B6%D0%B5%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%BD%D0%BE%D0%B9%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B5| Добавлено информирование об уже созданной заявке.]]
  * ''Msgs''. Добавлена привязка нарядов работ к доменам.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%A2%D0%9C%D0%A6(%D0%A2%D0%BE%D0%B2%D0%B0%D1%80%D0%BD%D0%BE-%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D1%86%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8%D0%B2%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8)| Добавлена возможность прикрепления ТМЦ в работе с заявками.]]
  * Добавлено проверку на уникальность договора на уровне биллинга.
  * ''Internet+''. [[http://abills.net.ua:8090/display/AB/Accel-ppp#Accel-ppp-Accel-pppConsole| Добавлено accel_ppp расширенная консоль.]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=23527446| Добавлена проверка целостности базы данных. ]]
  * ''Equipment''. [[http://abills.net.ua:8090/display/AB/PON+GRabber#PONGRabber-%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80SNMP_SERIAL_SCAN_ALL| Добавлен поиск дублирующихся серийников на всех OLT, и оповещение администратора о проблеме.]]

<accordion title="20190830"><panel title="MySQL"><code mysql>

ALTER TABLE `employees_department` ADD COLUMN `positions` VARCHAR(25) NOT NULL DEFAULT '';

ALTER TABLE `cams_main` ADD COLUMN `subscribe_id` VARCHAR(32) NOT NULL DEFAULT '' COMMENT 'External service ID for syncronization';

ALTER TABLE `cams_groups` MODIFY COLUMN `id` int(11) unsigned NOT NULL AUTO_INCREMENT;
ALTER TABLE `cams_groups` MODIFY COLUMN `location_id` int(11) unsigned NOT NULL DEFAULT '0';
ALTER TABLE `cams_groups` MODIFY COLUMN `district_id` int(11) unsigned NOT NULL DEFAULT '0';
ALTER TABLE `cams_groups` MODIFY COLUMN `street_id` int(11) unsigned NOT NULL DEFAULT '0';
ALTER TABLE `cams_groups` MODIFY COLUMN `build_id` int(11) unsigned NOT NULL DEFAULT '0';
ALTER TABLE `cams_groups` MODIFY COLUMN `service_id` int(6) unsigned NOT NULL DEFAULT 0;

ALTER TABLE `msgs_unreg_requests` MODIFY COLUMN `phone` varchar(16) NOT NULL DEFAULT '';

ALTER TABLE `cams_groups` ADD COLUMN `subgroup_id` VARCHAR(32) NOT NULL DEFAULT '' COMMENT 'External group ID for syncronization';
ALTER TABLE `cams_streams` ADD COLUMN `number_id` VARCHAR(32) NOT NULL DEFAULT '' COMMENT 'External camera ID for syncronization';
</code></panel></accordion>

23.08.2019
 
  * ''Equipment''. [[http://abills.net.ua:8090/display/AB/SNMP+Console| Создано SNMP консоль.]]
  * ''Storage''. Добавлена поддержка Multidoms.
  * ''Msgs''. Исправлено ошибки в Поиск по сообщениям, переход по страницам после поиска.
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319620#id-%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%8B%D0%BF%D0%BE%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8E%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%90%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%80%D0%B5%D0%BD%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2| Добавлен отчет Анализ аренды товара.]]
  * ''Docs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403889#id-%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D1%8B%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80|Добавлено новый параметр для любой переменной с датой добавлены _LIT (дата прописью) и _EURO (дата в формате 01.01.2011).]]
  * ''Referals''. [[http://abills.net.ua:8090/display/AB/Referral| Добавлен лог регистрации абонентов.]]
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Paysys#Paysys-%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%D1%84%D0%B0%D0%B9%D0%BB%D0%B0| Добавлен параметр $conf{PAYSYS_ADD_TO_RECOMMENDED_SUMM}='1.2'; - значение суммы, которое будет добавляться к рекомендуемой сумме оплаты.]]
  * ''Docs''. Добавлено групповое удаление счетов.
  * Добавлен лог заявок на подключения через буквенную маркировку UNREG_ID.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%9F%D0%BE%D0%B8%D1%81%D0%BA%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D0%B9| Добавлен Поиск закрытых сообщений по дате закрытия.]]
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258799| Добавлен Поиск закрытых заявок на подключение по дате.]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319620#id-%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%8B%D0%BF%D0%BE%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8E%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%90%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%D0%BF%D1%80%D0%BE%D0%B4%D0%B0%D0%B6%D0%B8%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2%D0%B2%D1%80%D0%B0%D1%81%D1%81%D1%80%D0%BE%D1%87%D0%BA%D1%83| Добавлен отчет Анализ продажи товаров в рассрочку.]]
  * ''Iptv''. [[http://abills.net.ua:8090/display/AB/24tv| Реализован протокол модуля 24tv.]]
  * ''Callcenter''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319783#id-%D0%9E%D1%82%D1%87%D1%91%D1%82IVR-%D0%9C%D0%B5%D0%BD%D1%8E%D0%9A%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B%3E%D0%9B%D0%BE%D0%B3%D0%B8%D0%BD%D1%8B%3E%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F%3E%D0%A1%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B%3E%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D0%B2%D0%BD%D0%BE%D0%B5%D0%BC%D0%B5%D0%BD%D1%8E(IVR)| Улучшено отчет по обращениям абонента через ivr и колцентр в карточке абонента.]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319620#id-%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%8B%D0%BF%D0%BE%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8E%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%9E%D1%81%D1%82%D0%B0%D1%82%D0%BA%D0%B8%D0%BF%D0%BE%D1%81%D0%BA%D0%BB%D0%B0%D0%B4%D1%83| Добавлен отчет Остатки по складу.]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%BC%D0%BD%D0%B0%D1%81%D0%BA%D0%BB%D0%B0%D0%B4%D0%B5-%D0%9C%D0%B5%D0%BD%D1%8E%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BE| Добавлено отчет Анализ установленного оборудования.]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319620#id-%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%8B%D0%BF%D0%BE%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8E%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%9E%D1%82%D1%87%D0%B5%D1%82%D0%BF%D1%80%D0%B8%D1%85%D0%BE%D0%B4%D0%B0%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%B0%D0%B7%D0%B0%D0%BF%D0%B5%D1%80%D0%B8%D0%BE%D0%B4| Добавлено отчет Приход товара за период.]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319718| Дополнено меню Поиск в сервисе Интернет+.]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=35815690| Дополнено меню Поиск в сервисе Телевидение.]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403583#id-%D0%A4%D0%B0%D0%B9%D0%BB%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8-%D0%9F%D0%B5%D1%80%D0%B5%D0%BD%D0%BE%D1%81%D0%B4%D0%BE%D0%BB%D0%B6%D0%BD%D0%B8%D0%BA%D0%BE%D0%B2%D0%B2%D0%B4%D1%80%D1%83%D0%B3%D1%83%D1%8E%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D1%83| Улучшено перенос должников. Возможность создавать несколько правил для отдельной группы.]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%BC%D0%BD%D0%B0%D1%81%D0%BA%D0%BB%D0%B0%D0%B4%D0%B5-%D0%9C%D0%B5%D0%BD%D1%8E%D0%92%D0%BD%D1%83%D1%82%D1%80%D0%B5%D0%BD%D0%BD%D0%B5%D0%B5%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5| Обновлен интерфейс меню Внутреннее использование.]]
  * ''Equipment''. OLT добавлена поддержка BDCOM GPON.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258797#id-%D0%9D%D0%B0%D1%80%D1%8F%D0%B4%D1%8B%D1%80%D0%B0%D0%B1%D0%BE%D1%82-%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%BD%D0%B0%D1%80%D1%8F%D0%B4%D0%B0|Наряды: разделение бригады в печатной форме. ]]
  * ''Msgs''. Добавлено предупреждение о массовой рассылке.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258797#id-%D0%9D%D0%B0%D1%80%D1%8F%D0%B4%D1%8B%D1%80%D0%B0%D0%B1%D0%BE%D1%82-%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D1%8B%D0%BD%D0%B0%D1%80%D1%8F%D0%B4%D0%BE%D0%B2%D0%B4%D0%BB%D1%8F%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D1%85%D0%BA%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D0%B9| Шаблоны нарядов для разных категорий.]]
  * ''Msgs''. Наряды. Быстрые шаблоны - сортировка по времены выполнения.
  * Исправлено вывод всех поля с контактами в интерфейсе абонента.
  * ''Iptv''. Исправлено выборку ТП в кабинете пользователя.
  * ''Iptv''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4980768| Убрать тариф из списка доступных.]]
  * ''Paysys''. Исправлено ошибку при добавлении платежной системы сохранять Вип Оплаты.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258797#id-%D0%9D%D0%B0%D1%80%D1%8F%D0%B4%D1%8B%D1%80%D0%B0%D0%B1%D0%BE%D1%82-%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80%D0%BD%D0%B0%D1%80%D1%8F%D0%B4%D0%BE%D0%B2%D1%80%D0%B0%D0%B1%D0%BE%D1%82| Новый формат нарядов работ.]]
  * ''Iptv''. Добавлено отображение информации о смене ТП по рассписанию.
  * ''Iptv''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4980752#id-%D0%9A%D0%B0%D0%B1%D0%B8%D0%BD%D0%B5%D1%82%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0IPTV-%D0%9F%D1%80%D0%B8%D0%BE%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%BE%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%D1%82%D0%B0%D1%80%D0%B8%D1%84%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BB%D0%B0%D0%BD%D0%B0| Активация приостановленной услуги в кабинете абонента]]
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258799#id-%D0%97%D0%B0%D1%8F%D0%B2%D0%BA%D0%B8%D0%BD%D0%B0%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%B7%D0%B0%D1%8F%D0%B2%D0%BE%D0%BA%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%D0%BD%D0%B0%D0%BA%D0%B0%D1%80%D1%82%D0%B5| Отображение заявок подключения на карте.]]
  * ''Paysys''. Исправлена ошибка при добавлении платежной системы сохраняется приоритет.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%B7%D0%B0%D1%8F%D0%B2%D0%BE%D0%BA%D0%BD%D0%B0%D0%BA%D0%B0%D1%80%D1%82%D0%B5| Возможность отображения заявок (сообщений) на карте.]]
  * ''Storage''. [[hthttp://abills.net.ua:8090/pages/viewpage.action?pageId=2523265#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%BC%D0%BD%D0%B0%D1%81%D0%BA%D0%BB%D0%B0%D0%B4%D0%B5-%D0%9C%D0%B5%D0%BD%D1%8E%D0%9F%D0%BE%D0%B4%D0%BE%D1%82%D1%87%D1%91%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8Ctp| Возможность списания материалов из меню Подотчетность.]]
  * ''Paysys''. Исправлена ошибка при правке настройки платежной системы.
  * ''Msgs''. Улучшена работа с Multidoms.
  * ''Paysys''. Унифицирована панель добавление платежной системы.
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Fondy| Модуль Fondy для новой схемы.]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4030512#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0%D0%BC%D0%B8-%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA%D0%BE%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0| Расчет "%" дохода админа (ответственного).]]
  * ''Msgs''. Заявки на подключения: добавлена поддержка Multidoms.
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Paysys#Paysys-%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%D1%84%D0%B0%D0%B9%D0%BB%D0%B0| Возможность убрать меню Отчет>Paysys>НБ Киргизкой республики.]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=31883907#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%BD%D0%B0%D0%BA%D0%BB%D0%B0%D0%B4%D0%BD%D1%8B%D0%BC%D0%B8-%D0%9E%D0%BF%D0%BB%D0%B0%D1%82%D1%8B%D0%BF%D0%BE%D0%BD%D0%B0%D0%BA%D0%BB%D0%B0%D0%B4%D0%BD%D1%8B%D0%BC| Оплаты по накладным - автоматический вывод общей суммы накладной.]]
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Ckasa| Ckassa]]
  * Оптимизировано отображение шаблонов tpl_show.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258799| Заявки на подключение. Новый интерфейс.]]
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/OSMPv4| Перевод модуля OSMPv4 на новую схему.]]
  * ''Internet''. [[http://abills.net.ua:8090/display/AB/PON+GRabber| Сравнение CPE MAC с текущими данными.]]
  * ''Storage''. Добавлено возможность редактирования записи в меню Настройка>Склад>Установлено.
  * ''Callcenter''. Исправлено поиск в отчете IVR.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%B7%D0%B0%D1%8F%D0%B2%D0%BE%D0%BA%D0%BD%D0%B0%D0%BA%D0%B0%D1%80%D1%82%D0%B5| Добавлена возможность прикреплять сообщения к локации.]]
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504045#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D1%83%D1%81%D0%BB%D1%83%D0%B3%D0%BE%D0%B9-%D0%9E%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5| Панель Оборудование в карточке абонента: добавлено пиктограммы для полей панели.]]
  * ''Paysys''. [[http://abills.net.ua:8090/display/AB/Platon | Модуль Platon для новой схемы]]
  * ''Storage''. Исправлено ошибку при заполнении комментариев в меню Настройка>Склад>Качество.
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=31883756| Тестирование платежных систем.]]
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=34996247#id-%D0%A2%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB%D1%8B%D0%B4%D0%BB%D1%8F%D0%BE%D0%BF%D0%BB%D0%B0%D1%82%D1%8B-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%B1%D0%BB%D0%B8%D0%B6%D0%B0%D0%B9%D1%88%D0%B5%D0%B3%D0%BE%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB%D0%B0| Терминалы на карте: добавлено поля время работы терминалов.]]
  * ''Paysys''. Ipay. Доработано определение ответа от Ipay.
  * ''Paysys''. Ipay. Добавлено в модуль обработку запроса check.

<accordion title="20190823"><panel title="MySQL"><code mysql>
ALTER TABLE `msgs_unreg_requests` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `msgs_dispatch` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';

CREATE TABLE IF NOT EXISTS `msgs_storage` (
  `id`                           INT UNSIGNED     NOT NULL AUTO_INCREMENT,
  `msgs_id`                      INT(11) UNSIGNED NOT NULL DEFAULT 0,
  `installation_id` INT(10) UNSIGNED NOT NULL DEFAULT 0,
  `date`                         DATETIME         NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `aid`                          SMALLINT(6)      NOT NULL DEFAULT 0,
    PRIMARY KEY (`id`)
) DEFAULT CHARSET = utf8 COMMENT = 'Storage items to msgs tickets';

ALTER TABLE `employees_department` ADD COLUMN `positions` VARCHAR(25) NOT NULL DEFAULT '';
</code></panel></accordion>

06.08.2019
  * ''Internet''. В equipment_pon добавлена возможность проверки и автоматического заполнения реальных данных абоненту.
  * ''Internet''. Автокомпенсация при переходе с Приостановленно в Активно в месячных тарифных планах с датой активации и датой списания.
  * ''Paysys''. В модуле Ipay добавлена поддержка оплаты с сайта Ipay.
  * ''Paysys''. Добавлен модуль Platon для новой схемы.
  * ''Paysys''. Добавлен модуль Fondy для новой схемы.
  * ''Paysys''. Добавлен модуль OSMPv4 для новой схемы.
  * ''Paysys''. Добавлен модуль Центральной кассы для новой схемы.
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=34996247#id-%D0%A2%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB%D1%8B%D0%B4%D0%BB%D1%8F%D0%BE%D0%BF%D0%BB%D0%B0%D1%82%D1%8B-%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%B1%D0%BB%D0%B8%D0%B6%D0%B0%D0%B9%D1%88%D0%B5%D0%B3%D0%BE%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB%D0%B0|Добавлены дополнительные поля в добавлении терминалов и выводе на карте.]]
  * ''Paysys''. Исправлена ошибка изменения имени платежной системы при выборе иной платежной системы.
  * ''Storage''. Добавлен подсчет процента администратору в таблицах проданных товаров.
  * ''Storage''. Исправлена ошибка при заполнении комментариев до качеств товаров на складе.
  * ''Storage''. Добавлена возможность редактирование установленных товаров.
  * ''Storage''. В оплатах по накладным добавлено автоматическое подтягивание суммы накладной.
  * ''Storage''. Добавлена возможность списывать товар из Подотчетности.
  * ''Iptv''. Активация приостановленной услуги в кабинете клиента.
  * ''Iptv''. Исправлена выборка тарифных планов в кабинете клиента.
  * ''Iptv''. Отображении информации смены тарифного плана по расписанию.
  * ''Equipment''. Улучшено отображение панели в карточке абонента.
  * ''Ivr''. Исправлен поиск в отчете IVR.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258799|Карта подключений]]
  * ''Msgs''. Для каждой категории нарядов можно добавить свой бланк печати.
  * Исправлена работа контактов в модальном окне обязательных к заполнению данных в клиентском кабинете.

<accordion title="20190806"><panel title="MySQL"><code mysql>
ALTER TABLE `msgs_messages` ADD COLUMN `location_id` INT(11) UNSIGNED NOT NULL DEFAULT 0;

ALTER TABLE `paysys_terminals` ADD COLUMN `work_days` SMALLINT(3) UNSIGNED NOT NULL DEFAULT 0;
ALTER TABLE `paysys_terminals` ADD COLUMN `start_work` TIME NOT NULL DEFAULT '00:00:00';
ALTER TABLE `paysys_terminals` ADD COLUMN `end_work` TIME NOT NULL DEFAULT '00:00:00';
ALTER TABLE `paysys_terminals` ADD COLUMN `description` TEXT;

ALTER TABLE `cams_streams` ADD UNIQUE (`name`);


ALTER TABLE `storage_articles` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `storage_article_types` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `storage_suppliers` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `storage_storages` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `storage_property` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `storage_admins` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';

ALTER TABLE `storage_incoming` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `storage_inventory` ADD COLUMN `domain_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `tarif_plans` ADD COLUMN `status` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0';

</code></panel></accordion>

24.07.2019
  * ''Internet''. В скрипт linkupdown добавлена работа с мультисервисами абонентов.
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503925#id-%D0%90%D0%B2%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8FInternetIPoE-%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%D0%B0%D0%BA%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D1%85%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9|Ручное включение для негативных сессий]]
  * ''Internet''. Создание пулов для быстрой авторизации.
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504045#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D1%83%D1%81%D0%BB%D1%83%D0%B3%D0%BE%D0%B9-%D0%A0%D0%B0%D1%81%D1%87%D1%91%D1%82%D1%81%D1%83%D0%BC%D0%BC%D1%8B%D0%BE%D0%BF%D0%BB%D0%B0%D1%82%D1%8B%D0%B4%D0%BE%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D1%91%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%D1%87%D0%B8%D1%81%D0%BB%D0%B0|Расчет суммы оплаты до определенного числа]]
  * ''Internet''. Добавлена блокировка взаимоисключающих параметров.
  * ''Hotspot''. Улучшена организация рекламной компании.
  * ''Iptv''. Улучшения кабинета абонента для сервисов телевидения.
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=34996247|Отображение терминалов на карте в кабинете пользователя]]
  * ''Storage''. Доработан отчет по самым кассовым товарам.
  * ''Storage''. Во всех подменю склада добавлены удобные фильтры.
  * ''Storage''. В подменю Внутренее использование добавили возможность экспорта.
  * ''Storage''. В подменю Подотчетность добавили возможность экспорта.
  * ''Storage''. Автозаполнение ответственного за установку в меню Сервисов абонента.
  * ''Storage''. Добавлен документ инвентаризации.
  * ''Storage''. Улучшена форма добавления названия товара.
  * ''Storage''. Добавлена работа с накладными.
  * ''Storage''. Улучшено логирование действий с товаром.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258797#id-%D0%9D%D0%B0%D1%80%D1%8F%D0%B4%D1%8B%D1%80%D0%B0%D0%B1%D0%BE%D1%82-%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%D0%BD%D0%B0%D1%80%D1%8F%D0%B4%D0%B0%D1%80%D0%B0%D0%B1%D0%BE%D1%82|Улучшена форма создания нарядов.]]
  * ''Msgs''. Добавлены поля в печать наряда на работу.
  * ''Msgs''. Добавлена возможность редактирования ответственного в заявке на подключение.
  * ''Cams''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=16974131|Добавлена привязка адресов к камерам]]
  * ''Cams''. Для тарифных планов добавлена возможность выравнивания месяца.
  * ''Cams''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=16974131|Автоматическое подписание пользователя на группы]]
  * ''Referrals''. Исправлены ошибки с настройками реферальной системы.
  * ''Referrals''. Упрощен вывод списка рефералов.
  * ''Referrals''. Добавлена проверка перед зачислением бонуса.
  * ''Referrals''. Добавлена возможность задать длительность начисления бонусов.
  * ''Referrals''. Добавлена возможность выбора счёта, на который начислять бонусы. 
  * ''Employees''. Исправлена работу внесение часов в Табель работ с RFID лога.
  * ''Sms''. [[http://abills.net.ua:8090/display/AB/Sms#Sms-Universal_sms_module|Универсальный SMS плагин]]
  * Поправлена работа extra полей в отчете по оплатам.
  * Исправлена работа адресов в кабинете пользователя.
  * Поиск по адресам теперь сохраняет предыдущие искомые параметры в панели адреса.

<accordion title="20190724"><panel title="MySQL"><code mysql>
ALTER TABLE `msgs_messages` ADD COLUMN `location_id` INT(11) UNSIGNED NOT NULL DEFAULT 0;

CREATE TABLE IF NOT EXISTS  `storage_invoices_payments` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `invoice_id` SMALLINT(5) UNSIGNED NOT NULL DEFAULT 0,
  `sum` DOUBLE(10, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `actual_sum` DOUBLE(10, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `date` DATETIME NOT NULL,
  `aid` SMALLINT(5) UNSIGNED NOT NULL DEFAULT '0',
  `comments` TEXT,
  PRIMARY KEY (`id`),
  KEY `invoice_id` (`invoice_id`)
)
  DEFAULT CHARSET=utf8 COMMENT = 'Storage payments for invoice';

ALTER TABLE `storage_inner_use` ADD COLUMN `responsible` SMALLINT(6) UNSIGNED NOT NULL DEFAULT 0;

CREATE TABLE IF NOT EXISTS `ippools_ips` (
  `ip`        int(10) unsigned     NOT NULL DEFAULT '0',
  `status`    tinyint(3) unsigned  NOT NULL DEFAULT '0',
  `ippool_id` smallint(5) unsigned NOT NULL DEFAULT '0',
  UNIQUE KEY `ip` (`ip`, `ippool_id`),
  KEY `ip_status` (`ip`, `status`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'IP Pools ips';

ALTER TABLE referral_log ADD tp_id int NOT NULL;

ALTER TABLE `extreceipts` ADD COLUMN `api` VARCHAR(20) NOT NULL DEFAULT '';
ALTER TABLE `extreceipts` MODIFY COLUMN `command_id` VARCHAR(60) NOT NULL DEFAULT '';
ALTER TABLE `extreceipts` MODIFY COLUMN `cancel_id` VARCHAR(60) NOT NULL DEFAULT '';

ALTER TABLE `paysys_main` ADD COLUMN `recurrent_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `paysys_main` ADD COLUMN `recurrent_cron` VARCHAR(25) NOT NULL DEFAULT '';
ALTER TABLE `paysys_main` ADD COLUMN `recurrent_module` VARCHAR(25) NOT NULL DEFAULT '';
ALTER TABLE `paysys_terminals` ADD COLUMN `work_days` SMALLINT(3) UNSIGNED NOT NULL DEFAULT 0;
ALTER TABLE `paysys_terminals` ADD COLUMN `start_work` TIME NOT NULL DEFAULT '00:00:00';
ALTER TABLE `paysys_terminals` ADD COLUMN `end_work` TIME NOT NULL DEFAULT '00:00:00';
ALTER TABLE `paysys_terminals` ADD COLUMN `description` TEXT;

ALTER TABLE `config` MODIFY COLUMN `value` VARCHAR(400) NOT NULL DEFAULT '';

CREATE TABLE IF NOT EXISTS `referral_log` (
    `id` INT(11) UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    `uid` INT(11) UNSIGNED NOT NULL REFERENCES `users` (`uid`)
    ON DELETE CASCADE,
    `referrer` INT(11) UNSIGNED NOT NULL REFERENCES `users` (`uid`)
    ON DELETE CASCADE,
    `date` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
)
  COMMENT = 'Referral log table stores information about periodic referrals';
CREATE TABLE IF NOT EXISTS  `storage_inventory` (
  `incoming_article_id` INT(10) UNSIGNED DEFAULT '0',
  `date` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `aid` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  UNIQUE KEY (`incoming_article_id`)
)
  DEFAULT CHARSET=utf8 COMMENT = 'Storage inventory info';

ALTER TABLE `msgs_chapters` ADD COLUMN `color` VARCHAR(7) NOT NULL DEFAULT '';

ALTER TABLE msgs_unreg_requests ADD referral_uid INTEGER(11) NOT NULL DEFAULT '0';

CREATE TABLE IF NOT EXISTS `referral_tp` (
    `id` INT(11) UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    `name` VARCHAR (60) NOT NULL DEFAULT '',
    `bonus_amount` DOUBLE(10, 2) UNSIGNED NOT NULL  DEFAULT '0.00',
    `payment_arrears` int(11) UNSIGNED NOT NULL  DEFAULT '0',
    `period` int(11) UNSIGNED NOT NULL  DEFAULT '0',
    `repl_percent` int(3) UNSIGNED NOT NULL  DEFAULT '0',
    `bonus_bill` int(1) UNSIGNED NOT NULL  DEFAULT '0'
)
  COMMENT = 'Referral tp table stores information about referral tarifs';
</code></panel></accordion>

21.06.2019
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504024#id-%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8FInternet+-%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B8%D1%82%D1%8C%D0%B4%D1%83%D0%B1%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5CPEMAC|Добавлена опция, которая разрешает дублировать CPE MAC]]
  * ''Internet''. В скрипте linkupdown добавлена работа с Service ID.
  * ''Cards''. Добавление новых сервисов в Iptv.
  * ''Equipment''. PON мультипрофайлы.
  * ''Equipment''. Добавлены серийные номера новых ONU в рассылке equipment_pon.
  * ''Maps''. ''Cams''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=16974135|На карте теперь есть слой для камер.]]
  * ''Docs''. Генерация мультисчетов для определенных тарифных планов.
  * ''Storage''. Реализован продаж и установку товара по серийному номеру.
  * ''Storage''. Добавлена возможность генерировать QR код из серийного номера товара.
  * ''Storage''. Исправлена сортировка в логе операций с товаром.
  * ''Storage''. Улучшена форма добавления поставщиков.
  * ''Storage''. Улучшена форма и таблица подменю "Подотчётность".
  * ''Storage''. Улучшена форма добавлена товара без перезагрузки страницы.
  * ''Storage''. Исправили фильтр по складу.
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%BC%D0%B2%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B5%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%B0|Добавлена работы с приходными накладными.]]
  * ''Storage''. Теперь во всех подменю выбор администратора работает только с администраторами в статусе Активно.
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319620#id-%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%8B-%D0%90%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%D0%BF%D1%80%D0%BE%D0%B4%D0%B0%D0%B6%D0%B8%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2|Добавлен отчет по самым продаваемым товарам.]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4030512|При продаже товара, теперь можно добавить фактическую сумму продажи.]]
  * ''Storage''. Добавлена настройка для администратора в модуле.
  * ''Paysys''. Реализован модуль платежной системы DonPay.
  * ''Paysys''. Оптимизирован модуль платежной системы Portmone.
  * ''Paysys''. Добавлен модуль платежной системы Lifecell.
  * ''Sms''. Добавлен универсальный SMS плагин.
  * ''Iptv''. [[http://abills.net.ua:8090/display/AB/Ezhometech|Разработан плагин для системы Ezhometech]]
  * ''Callcenter''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=31883415|Добавлен отчет по звонкам]]
  * ''Callceneter''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211442#id-%D0%9A%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D1%8C%D0%B2%D1%85%D0%BE%D0%B4%D1%8F%D1%89%D0%B8%D1%85%D0%B7%D0%B2%D0%BE%D0%BD%D0%BA%D0%BE%D0%B2-Websocketbackend|Добавлена более подробная информация на уведомлениях о звонках.]]
  * ''Callcenter''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=31883591|Прослушивание записанных звонков.]]
  * ''Employees''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211351|Добавлен вывод информации о нормах рабочих часов.]]
  * ''Ring''. Добавлена возможность организовывать динамические фильтры абонентов для обзвона.
  * ''Msgs''. Исправлена работа модуля с не валидными контактами.
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211400#id-%D0%9F%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B-%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F%D0%BE%D0%BF%D0%BE%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%BC%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B5|Добавлены теги для потенциальных клиентов.]]
  * ''Info''. [[http://abills.net.ua:8090/display/AB/Info#Info-%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5|Модуль внедрен в карточку абонента.]]
  * ''Referral''. [[http://abills.net.ua:8090/display/AB/Referral|Теперь модуль работает вместе с заявками на подключение.]]
  * ''Telegram Bot''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403847#TelegramBot(webhookversion)-%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%D1%81%D0%B1%D0%BE%D1%82%D0%BE%D0%BC|Авторизация и подписка по номеру телефона.]]
  * ''Telegram Bot''. Добавлена возможность отвечать на сообщения из Msgs.
  * В форме адресов добавили кнопку быстрого доступа на добавление новых адресов.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9306188|В новой схеме контактов можно добавить валидацию.]]
  * В меню Администраторы добавили новые колонки в дополнительные поля таблицы.
  * Исправлена работа прав Администраторов для суммы кредита и дней кредита.
  * В Профиле Администратора добавлена возможность спрятать правое меню.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211272#id-%D0%94%D0%BD%D0%B5%D0%B2%D0%BD%D1%8B%D0%B5,%D0%BC%D0%B5%D1%81%D1%8F%D1%87%D0%BD%D1%8B%D0%B5%D0%BF%D0%B5%D1%80%D0%B8%D0%BE%D0%B4%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D1%8B-%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0%D0%BA%D1%80%D0%B5%D0%B4%D0%B8%D1%82%D0%B0%D0%BD%D0%B0%D1%81%D1%83%D0%BC%D0%BC%D1%83%D0%B2%D1%81%D0%B5%D1%85%D1%83%D1%81%D0%BB%D1%83%D0%B3|Добавлены новые фильтры в услуге Полный кредит]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=21430286#id-%D0%91%D1%8B%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%9E%D1%82%D1%87%D1%91%D1%82%D1%8B-%D0%9E%D1%82%D1%87%D1%91%D1%82-%D0%92%D0%B8%D0%B4%D0%BE%D0%BF%D0%BB%D0%B0%D1%82%D1%8B(%D0%A1%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F,%D0%92%D1%87%D0%B5%D1%80%D0%B0)|Быстрый отчёт по оплатах за вчера/сегодня]]
  * Исправлена работа с адресами в поиске.
  * В клиентском кабинете исправлена работа с новыми контактами.

<accordion title="20190621"><panel title="MySQL"><code mysql>
CREATE TABLE IF NOT EXISTS  `storage_admins` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `aid` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  `percent` SMALLINT(3) UNSIGNED NOT NULL DEFAULT '0',
  `comments` TEXT,
  PRIMARY KEY (`id`),
  UNIQUE KEY `aid` (`aid`)
)
  DEFAULT CHARSET=utf8 COMMENT = 'Storage admins settings';

ALTER TABLE `storage_suppliers` CHANGE COLUMN `icq` `telegram` VARCHAR(30) NOT NULL DEFAULT '';
ALTER TABLE `storage_accountability` ADD COLUMN `added_by_aid` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';

ALTER TABLE `storage_sn` ADD COLUMN `qrcode_hash` CHAR(32) NOT NULL DEFAULT '';

ALTER TABLE `cams_streams` ADD COLUMN `angel` int(11) unsigned NOT NULL DEFAULT '0';
ALTER TABLE `cams_streams` ADD COLUMN `length` int(11) unsigned NOT NULL DEFAULT '0';
ALTER TABLE `cams_streams` ADD COLUMN `location_angel` int(11) unsigned NOT NULL DEFAULT '0';
ALTER TABLE `storage_installation` ADD COLUMN `actual_sell_price` DOUBLE(10, 2) UNSIGNED NOT NULL DEFAULT '0.00';
</code></panel></accordion>

14.05.2019
  * ''Internet''. Реализована опция снятия абонплаты за целый месяц при статусе слишком маленький депозит.
  * ''Internet''. Исправлено отображение тарифного плана у клиентов.
  * ''Internet''. Оптимизированы периодические процессы.
  * ''Iptv''. Оптимизированы периодические процессы.
  * ''Paysys''. Добавлен модуль для платежной системы Paynet.
  * ''Paysys''. Добавлен модуль для платежной системы BM Tehcnologies.
  * Доработан поиск администраторов

<accordion title="20190514"><panel title="MySQL"><code mysql>
ALTER TABLE cams_streams ADD COLUMN `coordx` double(20,14) NOT NULL DEFAULT '0.00000000000000';
ALTER TABLE cams_streams ADD COLUMN `coordy` double(20,14) NOT NULL DEFAULT '0.00000000000000';
ALTER TABLE cams_streams ADD COLUMN `transport` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `sound` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `limit_archive` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `pre_image` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `constantly_working` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `archive` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `only_video` tinyint(1) unsigned NOT NULL DEFAULT '0';
ALTER TABLE cams_streams ADD COLUMN `pre_image_url` varchar(128) NOT NULL DEFAULT '';
ALTER TABLE cams_streams ADD COLUMN `point_id` int(11) unsigned DEFAULT NULL;

ALTER TABLE cams_groups MODIFY `build_id` smallint(6) unsigned;
ALTER TABLE cams_groups MODIFY `street_id` smallint(6) unsigned;
ALTER TABLE cams_groups MODIFY `district_id` smallint(6) unsigned;
ALTER TABLE cams_groups MODIFY `location_id` smallint(6) unsigned;

ALTER TABLE `internet_log` MODIFY COLUMN `nas_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `ring_rules` ADD COLUMN `update_day` VARCHAR(25) NOT NULL DEFAULT '';
ALTER TABLE `ring_rules` ADD COLUMN `sql_query` VARCHAR(200) NOT NULL DEFAULT '';
ALTER TABLE `employees_rfid_log` MODIFY COLUMN `rfid` VARCHAR(15) NOT NULL DEFAULT '';
ALTER TABLE `crm_leads` ADD COLUMN `tag_ids` VARCHAR(20) NOT NULL DEFAULT '';

ALTER TABLE `storage_incoming` ADD COLUMN `invoice_number` VARCHAR(60) DEFAULT '';
</code></panel></accordion>

====0.80====
17.04.2019
  * Реализована RADIUS авторизация для [[http://abills.net.ua:8090/pages/viewpage.action?pageId=24182789|D-link коммутатора]]
  * ''Iptv''. Добавлена опция запрещающая одинаковые сервисные тарифный планы для одного абонента.
  * ''Iptv''. Реализован протокол модуля [[http://abills.net.ua:8090/display/AB/Conax+TV|Conax TV]]
  * ''Ureports''. Исправлены ошибки в модуле при использовании многопользовательских операций.
  * ''Paysys''. В модуль добавлена возможность оплаты с клиентского кабинета.
  * ''Paysys''. Добавлен модуль работы с протоколом Яндекс.Деньги.
  * ''Paysys''. Добавлен модуль работы с протоколом Asisnur.
  * ''Docs''. [[http://abills.net.ua:8090/display/AB/Docs#Docs-%D0%93%D1%80%D1%83%D0%BF%D0%BF%D0%BE%D0%B2%D0%B0%D1%8F%D0%B3%D0%B5%D0%BD%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D1%8F%D1%81%D1%87%D0%B5%D1%82%D0%BE%D0%B2%D0%B8%D0%BA%D0%B2%D0%B8%D1%82%D0%B0%D0%BD%D1%86%D0%B8%D0%B9%D0%BD%D0%B0%D0%BE%D0%BF%D0%BB%D0%B0%D1%82%D1%83|Групповая генерация счетов и квитанций на оплату]]
  * ''Equipment''. [[http://abills.net.ua:8090/display/AB/PON+GRabber|Автоопределение ONU по её серийному номеру]]
  * ''GPS''. Поддержка девйсов GT06
  * ''Msgs''. Уведомление в телеграмм теперь передает и статус заявки.
  * ''Msgs''. При переключении фильтров статусов, сортировка в таблице сохраняется.
  * ''Crm''. Подтягивание администратора в расходе с кассы после выплаты зарплаты.
  * ''Employees''. Добавлен поиск сотрудников.
  * ''Employees''. ''Admins''. Добавлено поле для RFID метки.
  * ''Employees''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=26443779|Отправка SMS сотруднику]]
  * ''Crm''. Вся работа зарплатами и кассами вынесена в модуль Employyes.
  * ''Notepad''. Исправлены ошибки.
  * ''Sms''. Добавлено переключение статусов абонента с помощью SMS callback.
  * Через телеграмм бота теперь можно отправлять скриншоты в заявки.
  * Добавлено ограничение на удаление компании, если к компании привязаны абоненты.
  * Исправлены ошибки с адресами на странице регистрации.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403585|Реализована регистрация с не существующим в системе адресом]]
  * Добавлен отчёт [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404074|прогнозируемые ARPU показатели]]

<accordion title="20190417"><panel title="MySQL"><code mysql>
RENAME TABLE `cashbox_cashboxes` TO `employees_cashboxes`,
              `cashbox_spending` TO `employees_spending`,
              `cashbox_spending_types` TO `employees_spending_types`,
              `cashbox_coming` TO `employees_coming`,
              `cashbox_coming_types` TO `employees_coming_types`,
              `crm_bet` TO `employees_bet`,
              `crm_salaries_payed` TO `employees_salaries_payed`,
              `crm_reference_works` TO `employees_reference_works`,
              `crm_works` TO `employees_works`,
              `crm_working_time_norms` TO `employees_working_time_norms`,
              `crm_bonus_types` TO `employees_bonus_types`,
              `crm_salary_bonus` TO `employees_salary_bonus`;
</code></panel></accordion>
19.03.2019
  * ''Internet''. Исправлена проблема вывода тегов пользователей в таблице Internet.
  * ''Internet''. В arpping добавление производителя.
  * ''Internet''. Проверка на дубликаты CID и IP при добавлении.
  * ''Internet''. Diagnostic пинг через Mikrotik.
  * ''Crm''. Формы прихода и расхода дополнены полем ответственного.
  * ''Netblock''. [[http://abills.net.ua:8090/display/AB/Netblock+DPI|Модуль обновлен]]
  * ''Tags''. Исправлен дублированный вывод в таблице при установке более 1-ой метки.
  * ''Paysys''. Модуль [[https://docs.google.com/document/d/e/2PACX-1vTion-fu1RzMCQgZXOYKKWAmvi-QAAxZ7AKnAZESGY5lF2j3nX61RBsa5kXzpu7t5gacl6TgztonrIE/pub|Приват Автоклиент]] реализован для новой версии.
  * ''Paysys''. Импорт платежей добавлен для новой версии.
  * ''Mikrotik''. auth_export переведен на Internet+.
  * ''XML API''. Поиск по телефону исправлен.
  * ''Ring''. Настройки [[http://abills.net.ua:8090/display/AB/Ring|модуля]] когда Asterisk на удаленном сервере.
  * ''TelegramBot''. Добавлены и [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403847| кнопки взаимодействия]]
  * Улучшили систему подсчета срока следующей абонплаты с учетом всех периодов.
  * Автоматическая регистрация. Теперь есть возможность проверять телефон абонента.
  * В [[http://abills.net.ua:8090/pages/viewpage.action?pageId=15237199|договорах абонента]] теперь можно получать данные о сервисах.
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=21430286|Добавлен быстрый отчет с типами оплат по администратору]] 
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403447|Обновлен образ Docker контейнера]]
  * Добавлено право на "Отображение истории абонента".
  * Исправлены визуальные проблемы в отчетах.

<accordion title="20190319"><panel title="MySQL"><code mysql>
ALTER TABLE `cashbox_spending` ADD COLUMN `admin_spending` INT(11) UNSIGNED NOT NULL DEFAULT 0;
ALTER TABLE `cashbox_coming` ADD COLUMN `uid` INT(11) UNSIGNED NOT NULL DEFAULT 0;

ALTER TABLE `admins` ADD COLUMN `expire` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00';

REPLACE INTO `admin_permits` (`aid`, `section`, `actions`) SELECT aid, 0, 30 FROM `admins` WHERE aid > 3;

ALTER TABLE `cams_services` ADD COLUMN `login` VARCHAR(72) NOT NULL DEFAULT '';
ALTER TABLE `cams_services` ADD COLUMN `password` BLOB;

ALTER TABLE `admins` ADD COLUMN `rfid_number` VARCHAR(15) NOT NULL DEFAULT '';

</code></panel></accordion>

11.03.2019
  * ''Internet+''. Исправлен вывод всех полей в таблице сервисов на странице абонента.
  * ''Storage''. Улучшили удобство использования страницы установке оборудования в сервисах абонента.
  * ''Ureports''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258920|Добавление отчетов в многопользовательских операциях]]
  * ''Employees''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=17760266|Добавили возможность пополнение мобильного счета сотрудника]]
  * ''Employees''. ''Admins''. По умолчанию показываются только активные сотрудники.
  * ''Equipment''. Добавлено поле потребления электричества.
  * ''Netblock''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503874|Расширены возможности добавления блокировок]]
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=16974112|Логирование выплат зарплат сотрудникам]]
  * ''Nas''. Использование команд консоли сервера доступа записывается в системный журнал.
  * Исправлены проблемы web интерфейса в модуле Equipment.

<accordion title="20190311"><panel title="MySQL"><code mysql>
ALTER TABLE `cams_streams` ADD COLUMN `extra_url` varchar(64) NOT NULL DEFAULT '0.0.0.0';
ALTER TABLE `cams_streams` ADD COLUMN `screenshot_url` varchar(64) NOT NULL DEFAULT '0.0.0.0';
ALTER TABLE `cams_tp` ADD COLUMN `dvr` smallint(6) unsigned DEFAULT 0;
ALTER TABLE `cams_tp` ADD COLUMN `ptz` smallint(6) unsigned DEFAULT 0;

CREATE TABLE IF NOT EXISTS `employees_ext_params` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `aid` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  `phone` VARCHAR(16) NOT NULL DEFAULT '' UNIQUE,
  `sum` DOUBLE(10, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `day_num` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  `status` SMALLINT(1) UNSIGNED NOT NULL DEFAULT '0',
  PRIMARY KEY `id` (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Employees extra parameters';

CREATE TABLE IF NOT EXISTS `employees_mobile_reports` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `aid` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  `phone` VARCHAR(16) NOT NULL DEFAULT '',
  `sum` DOUBLE(10, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `transaction_id` VARCHAR(24) NOT NULL DEFAULT '',
  `status` SMALLINT(1) UNSIGNED NOT NULL DEFAULT '0',
  PRIMARY KEY `id` (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Employees mobile reports';

CREATE TABLE IF NOT EXISTS `netblock_ssl` (
  `id` int(10) unsigned NOT NULL DEFAULT 0,
  `ssl_name` varchar(255) NOT NULL DEFAULT '',
  `skip` tinyint(1) NOT NULL DEFAULT '0',
  KEY `id` (`id`),
  FOREIGN KEY (`id`) REFERENCES `netblock_main` (`id`) ON DELETE CASCADE
) COMMENT='Netblock ssl table';

CREATE TABLE IF NOT EXISTS `netblock_ports` (
  `id` int(10) unsigned NOT NULL DEFAULT 0,
  `ports` varchar(255) NOT NULL DEFAULT '',
  `skip` tinyint(1) NOT NULL DEFAULT '0',
  KEY `id` (`id`),
  FOREIGN KEY (`id`) REFERENCES `netblock_main` (`id`) ON DELETE CASCADE
) COMMENT='Netblock ports table';

ALTER TABLE `equipment_models` ADD COLUMN `electric_power` INT(6) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `employees_ext_params` ADD COLUMN `mob_comment` VARCHAR(255) NOT NULL DEFAULT '';


</code></panel></accordion>

19.02.2019
  * ''Cams''. [[http://abills.net.ua:8090/display/AB/Cams.+New+Version|Интегрировали плагины Flussonic и Zoneminder для работы с камерами ]]
  * ''Cams''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=15761423|Новая модель тарифных планов]]
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601185|Отчет по количеству занятых и свободных портов]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4030512|Появилась возможность установки оборудования клиенту с меню сервисов]]
  * ''Iptv''. [[http://abills.net.ua:8090/display/AB/Omega+TV#OmegaTV-%D0%9F%D0%BB%D0%B5%D0%B9%D0%BB%D0%B8%D1%81%D1%82%D1%8B%D0%B8%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0|Добавлены плейлисты к модулю OmegaTV]]
  * ''Paysys''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=15237141|Платежная система PSCB]]
  * ''Ureports''. При удалении тарифного плана теперь удаляются и все связанные с ним записи в базе.
  * ''Employees''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=16973845||В модуль добавлены отделы.]]
  * ''Employees''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211351#id-%D0%A2%D0%B0%D0%B1%D0%B5%D0%BB%D1%8C%D1%80%D0%B0%D0%B1%D0%BE%D1%82-%D0%93%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B8%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BF%D0%BE%D1%81%D0%BE%D1%82%D1%80%D1%83%D0%B4%D0%BD%D0%B8%D0%BA%D0%B0%D0%BC|Добавили фильтры Должность и ФИО для вывода графика работы сотрудника]]
  * ''Employees''. В журнал работ добавили фильтр по отделам.
  * ''Msgs''. Разделили администраторов выдавшего и выданному наряд работ.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258791#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B0%D0%BC%D0%B8%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%9E%D0%BF%D0%BB%D0%B0%D1%82%D0%B0%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F%D0%B7%D0%B0%D1%8F%D0%B2%D0%BE%D0%BA|Оплаты за ремонт]]
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258797|Улучшена работа и возможности нарядов работ]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258920#id-%D0%9C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8-%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F%D0%91%D0%BE%D0%BD%D1%83%D1%81%D0%BE%D0%B2%D1%87%D0%B5%D1%80%D0%B5%D0%B7%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8|Теперь можно начислять бонусы в многопользовательских операциях]]
  * Поле "Дата рождения" занесли в панель Паспорт в карточке абонента.
  * Оптимизирована работа с базой данных.
  * Исправлены проблемы с элементом select в модуле Msgs.
  * Исправлены проблемы с элементом select при выборе SVLAN в карточке абонента.

<accordion title="20190219"><panel title="MySQL"><code mysql>
ALTER TABLE `ureports_users_reports` ADD COLUMN `tp_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';


CREATE TABLE IF NOT EXISTS `employees_department` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `name` char(60) NOT NULL DEFAULT '',
  `comments` TEXT,
  PRIMARY KEY (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Employees departments';

ALTER TABLE `admins` ADD COLUMN `department` SMALLINT(3) UNSIGNED NOT NULL DEFAULT '0';

ALTER TABLE `crm_salaries_payed` ADD COLUMN `spending_id` SMALLINT UNSIGNED NOT NULL DEFAULT '0';
</code></panel></accordion>

05.02.2019
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504045|Автоформатирование MAC адреса.]]
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504045#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D1%83%D1%81%D0%BB%D1%83%D0%B3%D0%BE%D0%B9-%D0%9D%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0|Уникальность s-vlan и c-vlan]]
  * ''Internet''. Геолокация тарифов.
  * ''Iptv''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=4980764|Ограничение подписок на одного клиента.]]
  * ''Iptv''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=14319677|Регистрация абонента]]
  * ''Maps''. Добавлен обьект - запас кабеля.
  * ''Maps''. [[http://abills.net.ua:8090/display/AB/Maps#Maps-%D0%9E%D1%82%D1%87%D0%B5%D1%82%D0%BF%D0%BE%D0%BE%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B0%D0%B5%D0%BC%D1%8B%D0%BC%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%B0%D0%BC.|Отчет об обьектах на карте]]
  * ''Maps''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404132|Отображать OLT на слое PON]]
  * ''Equipment''. Добавлен поиск по MAC адресу оборудования.
  * ''Equipment''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601185|Быстрый отчет с незарегистрированными ОНУ]]
  * ''Equipment''. Добавлена возможность сообщать о новых ONU.
  * ''Cablecat''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8782014|Журнал по оптическим боксам]]
  * ''Crm''. В дополнительных работах добавлено свойство "Выполнена".
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258914#id-%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%BE%D0%BC-%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%D0%BB%D0%BE%D0%B3%D0%B8%D0%BD%D0%B0%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0|Добавили возможность редактирования логина клиента]]
  * ''Docs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9306163| Выписать счет при проведения начисления ]]
  * ''Docs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403856|Список услуг при выписке счета]]
  * ''Docs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403931|Поиск по типам начиcлений в счетах]] 
  * ''Rwizard''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=15237157|Отчет по клиентам без сервисов]]
  * ''Rwizard''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=15237157|Отчет с диапазонами остатков]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601848|Динамические типы начислений]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=8126507 |Появилась возможность выставить статус "Уволен" для сотрудников]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258908| Добавлены права на отображения групп]]
  * [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258917| Добавлены права на отображения компаний]]
  * Улучшены записи истории при действиях с новыми контактами.
  * В печатной форме табеля работ теперь не отображаются неактивные администраторы.
  * Отчёты. Улучшено отображение в отчете по пользовательским графикам.
  * Опция $conf{CURRENCY_ICON} теперь учитывается и в клиентском кабинете.

<accordion title="20190205"><panel title="MySQL"><code mysql>
ALTER TABLE `cams_streams` ADD COLUMN `type` TINYINT(1) UNSIGNED NOT NULL DEFAULT 0;

ALTER TABLE `msgs_dispatch` ADD COLUMN `created_by` SMALLINT(1) UNSIGNED NOT NULL DEFAULT 0;
ALTER TABLE `msgs_dispatch` ADD COLUMN `start_date` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00';
ALTER TABLE `msgs_dispatch` ADD COLUMN `end_date` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00';
ALTER TABLE `msgs_dispatch` ADD COLUMN `actual_end_date` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00';
ALTER TABLE `msgs_dispatch_admins` ADD FOREIGN KEY (`dispatch_id`) REFERENCES `msgs_dispatch`(`id`) ON DELETE CASCADE;

CREATE TABLE `tp_geolocation`
(
  `tp_gid`       SMALLINT(5) UNSIGNED DEFAULT '0' NOT NULL,
  `district_id` SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL,
  `street_id`   SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL,
  `build_id`    SMALLINT(6) UNSIGNED DEFAULT '0' NOT NULL
)
  COMMENT 'Geolocation of the tariff plan'
  ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `employees_department` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `name` char(60) NOT NULL DEFAULT '',
  `comments` TEXT,
  PRIMARY KEY (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Employees departments';

ALTER TABLE `admins` ADD COLUMN `department` SMALLINT(3) UNSIGNED NOT NULL DEFAULT '0';

</code></panel></accordion>

10.01.2019
  * ''Internet''. Информация о мультисервисности теперь выводится и в личном кабинете абонента.
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503925#id-%D0%90%D0%B2%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8FInternetIPoE-%D0%A0%D0%BE%D1%82%D0%B0%D1%86%D0%B8%D1%8F%D0%BB%D0%BE%D0%B3%D0%BE%D0%B2%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0IPN|Настраиваемый период сохранения логов без ротации для сервиса IPN]]
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503983|Визуальный мониторинг домов теперь показывает гостевые сессии]]
  * ''ExtReceipts''. Добавлен [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403316|модуль]]работы с онлайн чеками.
  * ''Iptv''. Добавлена возможность поиска абонентов по количеству сервисов.
  * ''Iptv''. Отображение данных депозита в портале middleware.
  * ''Iptv''. Добавлено предупреждение о следующем учетном периоде и суме оплаты
  * ''Iptv''. [[http://abills.net.ua:8090/display/AB/Axios+TV|Плагин под Axios TV]]
  * ''Equipment''. Улучшена регистрация ONU ZTE c320
  * ''Equipment''. Исправлена ошибка рисования графика трафика на абоненте при нескольких сервисах
  * ''Maps''. ''Cablecat''. Появилась возможность выбирать цвет делителя.
  * ''Maps''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404132|Отображение PON на карте]]
  * ''Storage''. Запрещено удалять настройки склада, если они используются на складе.
  * ''Storage''. Подменю склада переведены на более удобные таблицы.
  * ''Msgs''. В клиентском кабинете по-умолчанию теперь отображается в списке задачи с статусом "Ждем ответа" и "Открыта".
  * Отчёты. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404074|ARPU и количество новых абонентов]]
  * Отчёты. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404070|Добавлен график новых абонентов и общего количества абонентов]]
  * Paysys. Privat Termina. Добавлена возможность оплаты по QR code.
  * Отчёты. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11404076|Добавлен отчёт по статусам абонентов с остатками]]
  * Добавлен новый тип информационного поля - Дата.
  * Добавлен литовский словарь.
  * В параметры организации добавлены новые поля по умолчанию.

<accordion title="20190110"><panel title="MySQL"><code mysql>
CREATE TABLE IF NOT EXISTS `internet_users_pool` (
  `service_id`  SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0',
  `pool_id`   SMALLINT(5) UNSIGNED NOT NULL DEFAULT '0',
  `comments`    VARCHAR(60) NOT NULL DEFAULT '',
  PRIMARY KEY (`service_id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Internet users ip pool';

CREATE TABLE IF NOT EXISTS `crm_bonus_types` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `name` char(60) NOT NULL DEFAULT '',
  `amount` DOUBLE(6, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `comments` TEXT,
  PRIMARY KEY (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Bonust types for salaries';

CREATE TABLE IF NOT EXISTS `crm_salary_bonus` (
  `id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `aid` SMALLINT(6) UNSIGNED NOT NULL DEFAULT 0,
  `year` SMALLINT(4) UNSIGNED NOT NULL DEFAULT 0,
  `month` SMALLINT(2) UNSIGNED NOT NULL DEFAULT 0,
  `amount` DOUBLE(6, 2) UNSIGNED NOT NULL DEFAULT '0.00',
  `bonus_type_id` SMALLINT UNSIGNED NOT NULL DEFAULT '0',
  `date` DATE NOT NULL DEFAULT '0000-00-00',
  PRIMARY KEY (`id`)
)
  DEFAULT CHARSET = utf8
  COMMENT = 'Bonust to salaries';

ALTER TABLE `ippools` MODIFY COLUMN `name` VARCHAR(50) NOT NULL DEFAULT '';

ALTER TABLE `cablecat_coil` ADD COLUMN `length` INT NOT NULL DEFAULT 30;

ALTER TABLE `cablecat_wells` MODIFY `name` VARCHAR(60) NOT NULL;

REPLACE INTO `admin_permits` (`aid`, `section`, `actions`) SELECT aid, 0, 28 FROM `admins` WHERE aid > 3;
REPLACE INTO `admin_permits` (`aid`, `section`, `actions`) SELECT aid, 0, 29 FROM `admins` WHERE aid > 3;

ALTER TABLE `crm_works` ADD COLUMN `work_done` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0';

ALTER TABLE `docs_invoice_orders` ADD COLUMN `type_fees_id` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0';

</code></panel></accordion>
28.11.2018
  * ''NAS''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504030#id-%D0%A1%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-Console|В Mikrotik консоль добавлены журнал DHCP leases и Лог]]
  * ''Internet''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7503983|Поиск сессий по CPE_MAC]]
  * ''Storage''. Главную таблицу склада перевели на улучшенную таблицу, с возможностью быстрого поиска и отключения ненужных полей.
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%BC%D0%B2%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B5%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%9E%D0%BF%D1%86%D0%B8%D1%8F%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C|Расходная накладная]]
  * ''Iptv''. Iptv. Появилась возможность смены пароля в сервисе IptvPortal
  * ''Maps''. [[http://abills.net.ua:8090/display/AB/Maps#Maps-%D0%98%D0%B4%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D1%80%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BE%D0%B2|Идентификатор загрузки обьектов]]
  * ''Ureports''. [[http://abills.net.ua:8090/display/AB/Ureports|Настройка типов оповещений]]
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601290|Чат. Добавлены глобальные оповещения]]
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403829|Улучшения отчетов]]
  * ''Crm''. Сделана упрощенная схема прикрепления существующего клиента к потенциальному клиенту.
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403645|Визуальное отображение воронки продаж]]
  * Добавлена возможность ручной сортировки панелей на странице [[http://abills.net.ua:8090/pages/viewpage.action?pageId=6258914|управления абонентом]]

13.11.2018
  ** [[http://abills.net.ua:8090/pages/viewpage.action?pageId=11403447|Abills docker контейнер]]
  * ''Internet+''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504049|Переход на следующий тарифный план со статусом "Недостаточно средств"]]
  * ''Internet+''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=7504024|Параметр игнорирования MAC-авторизации]]
  * ''Crm''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=3211396|Расчет выплаты зарплат]]
  * ''Crm''. Добавлена кнопка печати платежной ведомости при выплате зарплаты.
  * ''Crm''. Меню работы с выплатой зарплат вынесено в меню Обслуживание.
  * ''Storage''. Добавлено удобство в выборе товара при установке оборудования абоненту со склада.
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%BC%D0%B2%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B5%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%9A%D0%BD%D0%BE%D0%BF%D0%BA%D0%B0%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D1%89%D0%B5%D0%BD%D0%B8%D0%B5|Перемещение товара со склада на склад]]
  * ''Storage''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=2523265#id-%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%81%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%BC%D0%B2%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B5%D0%A1%D0%BA%D0%BB%D0%B0%D0%B4-%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%B0|Печать приходной накладной]]
  * ''Storage''. В карточке абонента показывает количество используемого им оборудования со склада.
  * ''Equipment''. Добавлена поддержка мониторинга OLT VSolution.
  * ''Equipment''. Вывод количества свободных и занятых ONU.
  * ''Msgs''. [[http://abills.net.ua:8090/pages/viewpage.action?pageId=9601290|Добавлена нотификация сообщений в чате]]
  * ''Dom''. [[http://abills.net.ua:8090/display/AB/Dom#Dom-%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0|Добавлена возможность обратной нумерации квартир в доме]]
  * ''Dom''. [[http://abills.net.ua:8090/display/AB/Dom#Dom-%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0|Цветная схема отображения статуса клиентов в доме]]
  * ''Dom''. Отображение списка коммутаторов в доме.
  * ''Employees''. Добавлены права доступа для отображения Табеля работ.
  * ''Employees''. Командировки учитываются в рабочее время в табеле работ.
  * ''NAS''. Теперь при удаление сервера доступа, так же производится удаление информации из таблицы оборудования.
  * ''NAS''. [[abills:docs:nas:mikrotik:console:ru|Cохранение и загрузка конфигурации]]
  * [[abills:docs:manual:admin:form_users_list#mnogopolzovatelskie_operacii|Расширение функционала многопользовательских операций]]
  * Разделенны web-сессии клиентов  и администраторов.
  * В карточке абонента теперь отображается сумма оплаты всех услуг.
  * Редизайн отчетов в клиентском кабинете.

<accordion title="20181113"><panel title="MySQL"><code mysql>
ALTER TABLE internet_online CHANGE COLUMN acct_session_id acct_session_id varchar(36) NOT NULL DEFAULT '';
ALTER TABLE `msgs_chat` ADD COLUMN `reed` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE iptv_device RENAME TO iptv_devices;

ALTER TABLE `nas` ADD COLUMN `floor` VARCHAR(10) DEFAULT '' NOT NULL;
ALTER TABLE `nas` ADD COLUMN `entrance` VARCHAR(10) DEFAULT '' NOT NULL;

CREATE TABLE cablecat_coil (
  id int(11) unsigned NOT NULL AUTO_INCREMENT,
  name varchar(32) NOT NULL DEFAULT '',
  point_id int(11) unsigned NOT NULL DEFAULT 0,
  cable_id int(11) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Cablecat coil';

ALTER TABLE `notepad` MODIFY `text` TEXT;
ALTER TABLE msgs_chat CHANGE `reed` `msgs_unread` TINYINT(1);
</code></panel></accordion>